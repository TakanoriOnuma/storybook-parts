{"version":3,"file":"NotificationItem-3ee0fa06.js","sources":["../../ui/manager/src/components/notifications/NotificationItem.tsx"],"sourcesContent":["import type { FC, SyntheticEvent } from 'react';\nimport React from 'react';\nimport { type State } from '@storybook/manager-api';\nimport { Link } from '@storybook/router';\nimport { styled, useTheme } from '@storybook/theming';\nimport { Icons, IconButton, type IconsProps } from '@storybook/components';\nimport { transparentize } from 'polished';\nimport { CloseAltIcon } from '@storybook/icons';\n\nconst Notification = styled.div(({ theme }) => ({\n  position: 'relative',\n  display: 'flex',\n  padding: 15,\n  width: 280,\n  borderRadius: 4,\n  alignItems: 'center',\n\n  background: theme.base === 'light' ? 'hsla(203, 50%, 20%, .97)' : 'hsla(203, 30%, 95%, .97)',\n  boxShadow: `0 2px 5px 0 rgba(0,0,0,0.05), 0 5px 15px 0 rgba(0,0,0,0.1)`,\n  color: theme.color.inverseText,\n  textDecoration: 'none',\n}));\n\nconst NotificationWithInteractiveStates = styled(Notification)(() => ({\n  transition: 'all 150ms ease-out',\n  transform: 'translate3d(0, 0, 0)',\n  '&:hover': {\n    transform: 'translate3d(0, -3px, 0)',\n    boxShadow:\n      '0 1px 3px 0 rgba(30,167,253,0.5), 0 2px 5px 0 rgba(0,0,0,0.05), 0 5px 15px 0 rgba(0,0,0,0.1)',\n  },\n  '&:active': {\n    transform: 'translate3d(0, 0, 0)',\n    boxShadow:\n      '0 1px 3px 0 rgba(30,167,253,0.5), 0 2px 5px 0 rgba(0,0,0,0.05), 0 5px 15px 0 rgba(0,0,0,0.1)',\n  },\n  '&:focus': {\n    boxShadow:\n      '0 1px 3px 0 rgba(30,167,253,0.5), 0 2px 5px 0 rgba(0,0,0,0.05), 0 5px 15px 0 rgba(0,0,0,0.1)',\n  },\n}));\nconst NotificationLink = NotificationWithInteractiveStates.withComponent(Link);\n\nconst NotificationIconWrapper = styled.div(() => ({\n  display: 'flex',\n  marginRight: 10,\n  alignItems: 'center',\n}));\n\nconst NotificationTextWrapper = styled.div(() => ({\n  width: '100%',\n  display: 'flex',\n  flexDirection: 'column',\n}));\n\nconst Headline = styled.div<{ hasIcon: boolean }>(({ theme, hasIcon }) => ({\n  height: '100%',\n  width: hasIcon ? 205 : 230,\n  alignItems: 'center',\n  whiteSpace: 'nowrap',\n  overflow: 'hidden',\n  textOverflow: 'ellipsis',\n  fontSize: theme.typography.size.s1,\n  lineHeight: '16px',\n  fontWeight: theme.typography.weight.bold,\n}));\n\nconst SubHeadline = styled.div(({ theme }) => ({\n  color: transparentize(0.25, theme.color.inverseText),\n  fontSize: theme.typography.size.s1 - 1,\n  lineHeight: '14px',\n  marginTop: 2,\n}));\n\nconst ItemContent: FC<Pick<State['notifications'][0], 'icon' | 'content'>> = ({\n  icon,\n  content: { headline, subHeadline },\n}) => {\n  const theme = useTheme();\n  const defaultColor = theme.base === 'dark' ? theme.color.mediumdark : theme.color.mediumlight;\n  return (\n    <>\n      {!icon || (\n        <NotificationIconWrapper>\n          <Icons\n            icon={icon.name as IconsProps['icon']}\n            width={16}\n            height={16}\n            color={icon.color || defaultColor}\n          />\n        </NotificationIconWrapper>\n      )}\n      <NotificationTextWrapper>\n        <Headline title={headline} hasIcon={!!icon}>\n          {headline}\n        </Headline>\n        {subHeadline && <SubHeadline>{subHeadline}</SubHeadline>}\n      </NotificationTextWrapper>\n    </>\n  );\n};\n\nconst DismissButtonWrapper = styled(IconButton)(({ theme }) => ({\n  alignSelf: 'center',\n  marginTop: 0,\n  color: theme.base === 'light' ? 'rgba(255,255,255,0.7)' : ' #999999',\n}));\n\nconst DismissNotificationItem: FC<{\n  onDismiss: () => void;\n}> = ({ onDismiss }) => (\n  <DismissButtonWrapper\n    title=\"Dismiss notification\"\n    onClick={(e: SyntheticEvent) => {\n      e.preventDefault();\n      onDismiss();\n    }}\n  >\n    <CloseAltIcon size={12} />\n  </DismissButtonWrapper>\n);\n\nexport const NotificationItemSpacer = styled.div({\n  height: 48,\n});\n\nconst NotificationItem: FC<{\n  notification: State['notifications'][0];\n  onDismissNotification: (id: string) => void;\n}> = ({ notification: { content, link, onClear, id, icon }, onDismissNotification }) => {\n  const dismissNotificationItem = () => {\n    onDismissNotification(id);\n    if (onClear) {\n      onClear({ dismissed: true });\n    }\n  };\n  return link ? (\n    <NotificationLink to={link}>\n      <ItemContent icon={icon} content={content} />\n      <DismissNotificationItem onDismiss={dismissNotificationItem} />\n    </NotificationLink>\n  ) : (\n    <Notification>\n      <ItemContent icon={icon} content={content} />\n      <DismissNotificationItem onDismiss={dismissNotificationItem} />\n    </Notification>\n  );\n};\n\nexport default NotificationItem;\n"],"names":["Notification","styled","theme","NotificationWithInteractiveStates","NotificationLink","Link","NotificationIconWrapper","NotificationTextWrapper","Headline","hasIcon","SubHeadline","transparentize","ItemContent","icon","headline","subHeadline","useTheme","defaultColor","React","Icons","DismissButtonWrapper","IconButton","DismissNotificationItem","onDismiss","e","CloseAltIcon","NotificationItem","content","link","onClear","id","onDismissNotification","dismissNotificationItem"],"mappings":"qQASA,MAAAA,EAAAC,EAAA,IAAA,CAAA,CAAA,MAAAC,MAAA,CACA,SAAA,WACA,QAAA,OACA,QAAA,GACA,MAAA,IACA,aAAA,EACA,WAAA,SAEA,WAAAA,EAAA,OAAA,QAAA,2BAAA,2BACA,UAAA,6DACA,MAAAA,EAAA,MAAA,YACA,eAAA,MACA,EAAA,EAEAC,EAAAF,EAAAD,CAAA,EAAA,KAAA,CACA,WAAA,qBACA,UAAA,uBACA,UAAA,CACA,UAAA,0BACA,UACA,8FACA,EACA,WAAA,CACA,UAAA,uBACA,UACA,8FACA,EACA,UAAA,CACA,UACA,8FACA,CACA,EAAA,EACAI,EAAAD,EAAA,cAAAE,CAAA,EAEAC,EAAAL,EAAA,IAAA,KAAA,CACA,QAAA,OACA,YAAA,GACA,WAAA,QACA,EAAA,EAEAM,EAAAN,EAAA,IAAA,KAAA,CACA,MAAA,OACA,QAAA,OACA,cAAA,QACA,EAAA,EAEAO,EAAAP,EAAA,IAAA,CAAA,CAAA,MAAAC,EAAA,QAAAO,MAAA,CACA,OAAA,OACA,MAAAA,EAAA,IAAA,IACA,WAAA,SACA,WAAA,SACA,SAAA,SACA,aAAA,WACA,SAAAP,EAAA,WAAA,KAAA,GACA,WAAA,OACA,WAAAA,EAAA,WAAA,OAAA,IACA,EAAA,EAEAQ,EAAAT,EAAA,IAAA,CAAA,CAAA,MAAAC,MAAA,CACA,MAAAS,EAAA,IAAAT,EAAA,MAAA,WAAA,EACA,SAAAA,EAAA,WAAA,KAAA,GAAA,EACA,WAAA,OACA,UAAA,CACA,EAAA,EAEAU,EAAA,CAAA,CACA,KAAAC,EACA,QAAA,CAAA,SAAAC,EAAA,YAAAC,CAAA,CACA,IAAA,CACA,MAAAb,EAAAc,IACAC,EAAAf,EAAA,OAAA,OAAAA,EAAA,MAAA,WAAAA,EAAA,MAAA,YACA,OAEAgB,EAAA,cAAAA,EAAA,SAAA,KAAA,CAAAL,GACAK,EAAA,cAAAZ,EACA,KAAAY,EAAA,cAAAC,EAAA,CACA,KAAAN,EAAA,KACA,MAAA,GACA,OAAA,GACA,MAAAA,EAAA,OAAAI,CAAA,CAEA,CAAA,EAEAC,EAAA,cAAAX,OACAW,EAAA,cAAAV,EAAA,CAAA,MAAAM,EAAA,QAAA,CAAA,CAAAD,CAAA,EACAC,CACA,EACAC,mBAAAL,EAAA,KAAAK,CAAA,CACA,CACA,CAEA,EAEAK,EAAAnB,EAAAoB,CAAA,EAAA,CAAA,CAAA,MAAAnB,MAAA,CACA,UAAA,SACA,UAAA,EACA,MAAAA,EAAA,OAAA,QAAA,wBAAA,UACA,EAAA,EAEAoB,EAEA,CAAA,CAAA,UAAAC,CACA,IAAAL,EAAA,cAAAE,EAAA,CACA,MAAA,uBACA,QAAAI,GAAA,CACAA,EAAA,eAAA,EACAD,GACA,CAAA,EAEAL,EAAA,cAAAO,EAAA,CAAA,KAAA,EAAA,CAAA,CACA,EAGAxB,EAAA,IAAA,CACA,OAAA,EACA,CAAA,EAEA,MAAAyB,EAGA,CAAA,CAAA,aAAA,CAAA,QAAAC,EAAA,KAAAC,EAAA,QAAAC,EAAA,GAAAC,EAAA,KAAAjB,GAAA,sBAAAkB,KAAA,CACA,MAAAC,EAAA,IAAA,CACAD,EAAAD,CAAA,EACAD,GACAA,EAAA,CAAA,UAAA,EAAA,CAAA,CACA,EAEA,OAAAD,EACAV,EAAA,cAAAd,EAAA,CAAA,GAAAwB,CAAA,EACAV,EAAA,cAAAN,EAAA,CAAA,KAAAC,EAAA,QAAAc,EAAA,EACAT,EAAA,cAAAI,EAAA,CAAA,UAAAU,CAAA,CAAA,CACA,EAEAd,EAAA,cAAAlB,EACA,KAAAkB,EAAA,cAAAN,EAAA,CAAA,KAAAC,EAAA,QAAAc,EAAA,EACAT,EAAA,cAAAI,EAAA,CAAA,UAAAU,CAAA,CAAA,CACA,CAEA"}