import{j as m,a as H}from"./jsx-runtime-31019b9d.js";import{r as W,R as ae}from"./index-9f32f44c.js";import{R as be}from"./index-f64ebf9a.js";import{m as Be,n as j,w as Le}from"./index-9e46a6e4.js";import{a as Ne}from"./index-0d1d6e7e.js";import{d as Ae}from"./throttle-45ffedfb.js";import{a as He,g as ke}from"./_commonjsHelpers-de833af9.js";import{p as Te}from"./index-9d475cdf.js";import{r as Ce}from"./index-9c2d1831.js";const Ue=()=>{try{return Ne.local.get("storybook-layout")||!1}catch(e){return console.error(e),!1}},$e=Be(1)(e=>{try{Ne.local.set("storybook-layout",e)}catch(t){console.error(t)}}),Ge=Ae($e,500);var K={exports:{}},Me={};function Ee(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Ee(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function De(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Ee(e))&&(r&&(r+=" "),r+=t);return r}const je=Object.freeze(Object.defineProperty({__proto__:null,clsx:De,default:De},Symbol.toStringTag,{value:"Module"})),Ke=He(je);var y={},R={};Object.defineProperty(R,"__esModule",{value:!0});R.dontSetMe=tt;R.findInArray=Je;R.int=et;R.isFunction=Ze;R.isNum=Qe;function Je(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function Ze(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function Qe(e){return typeof e=="number"&&!isNaN(e)}function et(e){return parseInt(e,10)}function tt(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}var Y={};Object.defineProperty(Y,"__esModule",{value:!0});Y.browserPrefixToKey=Re;Y.browserPrefixToStyle=nt;Y.default=void 0;Y.getPrefix=Oe;const te=["Moz","Webkit","O","ms"];function Oe(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(e=window.document)===null||e===void 0||(e=e.documentElement)===null||e===void 0?void 0:e.style;if(!n||t in n)return"";for(let r=0;r<te.length;r++)if(Re(t,te[r])in n)return te[r];return""}function Re(e,t){return t?"".concat(t).concat(rt(e)):e}function nt(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e}function rt(e){let t="",n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):e[r]==="-"?n=!0:t+=e[r];return t}Y.default=Oe();Object.defineProperty(y,"__esModule",{value:!0});y.addClassName=Ie;y.addEvent=it;y.addUserSelectStyles=yt;y.createCSSTransform=ft;y.createSVGTransform=ht;y.getTouch=gt;y.getTouchIdentifier=mt;y.getTranslation=de;y.innerHeight=dt;y.innerWidth=ct;y.matchesSelector=Ve;y.matchesSelectorAndParentsTo=at;y.offsetXYFromParent=pt;y.outerHeight=lt;y.outerWidth=ut;y.removeClassName=ze;y.removeEvent=st;y.removeUserSelectStyles=vt;var T=R,we=ot(Y);function Xe(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(Xe=function(r){return r?n:t})(e)}function ot(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=Xe(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}let U="";function Ve(e,t){return U||(U=(0,T.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,T.isFunction)(e[n])})),(0,T.isFunction)(e[U])?e[U](t):!1}function at(e,t,n){let r=e;do{if(Ve(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function it(e,t,n,r){if(!e)return;const o={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function st(e,t,n,r){if(!e)return;const o={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}function lt(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,T.int)(n.borderTopWidth),t+=(0,T.int)(n.borderBottomWidth),t}function ut(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,T.int)(n.borderLeftWidth),t+=(0,T.int)(n.borderRightWidth),t}function dt(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,T.int)(n.paddingTop),t-=(0,T.int)(n.paddingBottom),t}function ct(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,T.int)(n.paddingLeft),t-=(0,T.int)(n.paddingRight),t}function pt(e,t,n){const o=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),i=(e.clientX+t.scrollLeft-o.left)/n,a=(e.clientY+t.scrollTop-o.top)/n;return{x:i,y:a}}function ft(e,t){const n=de(e,t,"px");return{[(0,we.browserPrefixToKey)("transform",we.default)]:n}}function ht(e,t){return de(e,t,"")}function de(e,t,n){let{x:r,y:o}=e,i="translate(".concat(r).concat(n,",").concat(o).concat(n,")");if(t){const a="".concat(typeof t.x=="string"?t.x:t.x+n),s="".concat(typeof t.y=="string"?t.y:t.y+n);i="translate(".concat(a,", ").concat(s,")")+i}return i}function gt(e,t){return e.targetTouches&&(0,T.findInArray)(e.targetTouches,n=>t===n.identifier)||e.changedTouches&&(0,T.findInArray)(e.changedTouches,n=>t===n.identifier)}function mt(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function yt(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&Ie(e.body,"react-draggable-transparent-selection")}function vt(e){if(e)try{if(e.body&&ze(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function Ie(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function ze(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var X={};Object.defineProperty(X,"__esModule",{value:!0});X.canDragX=wt;X.canDragY=Pt;X.createCoreData=_t;X.createDraggableData=xt;X.getBoundPosition=bt;X.getControlPosition=St;X.snapToGrid=Dt;var N=R,B=y;function bt(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:r}=e.props;r=typeof r=="string"?r:Nt(r);const o=ce(e);if(typeof r=="string"){const{ownerDocument:i}=o,a=i.defaultView;let s;if(r==="parent"?s=o.parentNode:s=i.querySelector(r),!(s instanceof a.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const l=s,c=a.getComputedStyle(o),g=a.getComputedStyle(l);r={left:-o.offsetLeft+(0,N.int)(g.paddingLeft)+(0,N.int)(c.marginLeft),top:-o.offsetTop+(0,N.int)(g.paddingTop)+(0,N.int)(c.marginTop),right:(0,B.innerWidth)(l)-(0,B.outerWidth)(o)-o.offsetLeft+(0,N.int)(g.paddingRight)-(0,N.int)(c.marginRight),bottom:(0,B.innerHeight)(l)-(0,B.outerHeight)(o)-o.offsetTop+(0,N.int)(g.paddingBottom)-(0,N.int)(c.marginBottom)}}return(0,N.isNum)(r.right)&&(t=Math.min(t,r.right)),(0,N.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,N.isNum)(r.left)&&(t=Math.max(t,r.left)),(0,N.isNum)(r.top)&&(n=Math.max(n,r.top)),[t,n]}function Dt(e,t,n){const r=Math.round(t/e[0])*e[0],o=Math.round(n/e[1])*e[1];return[r,o]}function wt(e){return e.props.axis==="both"||e.props.axis==="x"}function Pt(e){return e.props.axis==="both"||e.props.axis==="y"}function St(e,t,n){const r=typeof t=="number"?(0,B.getTouch)(e,t):null;if(typeof t=="number"&&!r)return null;const o=ce(n),i=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,B.offsetXYFromParent)(r||e,i,n.props.scale)}function _t(e,t,n){const r=!(0,N.isNum)(e.lastX),o=ce(e);return r?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}}function xt(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function Nt(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function ce(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var J={},Z={};Object.defineProperty(Z,"__esModule",{value:!0});Z.default=Tt;function Tt(){}Object.defineProperty(J,"__esModule",{value:!0});J.default=void 0;var ne=Mt(W),x=pe(Te),Ct=pe(Ce),D=y,I=X,re=R,A=pe(Z);function pe(e){return e&&e.__esModule?e:{default:e}}function We(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(We=function(r){return r?n:t})(e)}function Mt(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=We(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}function S(e,t,n){return t=Et(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Et(e){var t=Ot(e,"string");return typeof t=="symbol"?t:String(t)}function Ot(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const O={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let z=O.mouse,Q=class extends ne.Component{constructor(){super(...arguments),S(this,"dragging",!1),S(this,"lastX",NaN),S(this,"lastY",NaN),S(this,"touchIdentifier",null),S(this,"mounted",!1),S(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(t.target instanceof r.defaultView.Node)||this.props.handle&&!(0,D.matchesSelectorAndParentsTo)(t.target,this.props.handle,n)||this.props.cancel&&(0,D.matchesSelectorAndParentsTo)(t.target,this.props.cancel,n))return;t.type==="touchstart"&&t.preventDefault();const o=(0,D.getTouchIdentifier)(t);this.touchIdentifier=o;const i=(0,I.getControlPosition)(t,o,this);if(i==null)return;const{x:a,y:s}=i,l=(0,I.createCoreData)(this,a,s);(0,A.default)("DraggableCore: handleDragStart: %j",l),(0,A.default)("calling",this.props.onStart),!(this.props.onStart(t,l)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,D.addUserSelectStyles)(r),this.dragging=!0,this.lastX=a,this.lastY=s,(0,D.addEvent)(r,z.move,this.handleDrag),(0,D.addEvent)(r,z.stop,this.handleDragStop))}),S(this,"handleDrag",t=>{const n=(0,I.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:o}=n;if(Array.isArray(this.props.grid)){let s=r-this.lastX,l=o-this.lastY;if([s,l]=(0,I.snapToGrid)(this.props.grid,s,l),!s&&!l)return;r=this.lastX+s,o=this.lastY+l}const i=(0,I.createCoreData)(this,r,o);if((0,A.default)("DraggableCore: handleDrag: %j",i),this.props.onDrag(t,i)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(l)}return}this.lastX=r,this.lastY=o}),S(this,"handleDragStop",t=>{if(!this.dragging)return;const n=(0,I.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:o}=n;if(Array.isArray(this.props.grid)){let l=r-this.lastX||0,c=o-this.lastY||0;[l,c]=(0,I.snapToGrid)(this.props.grid,l,c),r=this.lastX+l,o=this.lastY+c}const i=(0,I.createCoreData)(this,r,o);if(this.props.onStop(t,i)===!1||this.mounted===!1)return!1;const s=this.findDOMNode();s&&this.props.enableUserSelectHack&&(0,D.removeUserSelectStyles)(s.ownerDocument),(0,A.default)("DraggableCore: handleDragStop: %j",i),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,s&&((0,A.default)("DraggableCore: Removing handlers"),(0,D.removeEvent)(s.ownerDocument,z.move,this.handleDrag),(0,D.removeEvent)(s.ownerDocument,z.stop,this.handleDragStop))}),S(this,"onMouseDown",t=>(z=O.mouse,this.handleDragStart(t))),S(this,"onMouseUp",t=>(z=O.mouse,this.handleDragStop(t))),S(this,"onTouchStart",t=>(z=O.touch,this.handleDragStart(t))),S(this,"onTouchEnd",t=>(z=O.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;const t=this.findDOMNode();t&&(0,D.addEvent)(t,O.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const t=this.findDOMNode();if(t){const{ownerDocument:n}=t;(0,D.removeEvent)(n,O.mouse.move,this.handleDrag),(0,D.removeEvent)(n,O.touch.move,this.handleDrag),(0,D.removeEvent)(n,O.mouse.stop,this.handleDragStop),(0,D.removeEvent)(n,O.touch.stop,this.handleDragStop),(0,D.removeEvent)(t,O.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,D.removeUserSelectStyles)(n)}}findDOMNode(){var t,n;return(t=this.props)!==null&&t!==void 0&&t.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:Ct.default.findDOMNode(this)}render(){return ne.cloneElement(ne.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};J.default=Q;S(Q,"displayName","DraggableCore");S(Q,"propTypes",{allowAnyClick:x.default.bool,children:x.default.node.isRequired,disabled:x.default.bool,enableUserSelectHack:x.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:x.default.arrayOf(x.default.number),handle:x.default.string,cancel:x.default.string,nodeRef:x.default.object,onStart:x.default.func,onDrag:x.default.func,onStop:x.default.func,onMouseDown:x.default.func,scale:x.default.number,className:re.dontSetMe,style:re.dontSetMe,transform:re.dontSetMe});S(Q,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),e.default=void 0;var t=_(W),n=g(Te),r=g(Ce),o=g(Ke),i=y,a=X,s=R,l=g(J),c=g(Z);function g(u){return u&&u.__esModule?u:{default:u}}function w(u){if(typeof WeakMap!="function")return null;var d=new WeakMap,f=new WeakMap;return(w=function(p){return p?f:d})(u)}function _(u,d){if(!d&&u&&u.__esModule)return u;if(u===null||typeof u!="object"&&typeof u!="function")return{default:u};var f=w(d);if(f&&f.has(u))return f.get(u);var p={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in u)if(h!=="default"&&Object.prototype.hasOwnProperty.call(u,h)){var V=b?Object.getOwnPropertyDescriptor(u,h):null;V&&(V.get||V.set)?Object.defineProperty(p,h,V):p[h]=u[h]}return p.default=u,f&&f.set(u,p),p}function C(){return C=Object.assign?Object.assign.bind():function(u){for(var d=1;d<arguments.length;d++){var f=arguments[d];for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(u[p]=f[p])}return u},C.apply(this,arguments)}function P(u,d,f){return d=v(d),d in u?Object.defineProperty(u,d,{value:f,enumerable:!0,configurable:!0,writable:!0}):u[d]=f,u}function v(u){var d=M(u,"string");return typeof d=="symbol"?d:String(d)}function M(u,d){if(typeof u!="object"||u===null)return u;var f=u[Symbol.toPrimitive];if(f!==void 0){var p=f.call(u,d||"default");if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(d==="string"?String:Number)(u)}class E extends t.Component{static getDerivedStateFromProps(d,f){let{position:p}=d,{prevPropsPosition:b}=f;return p&&(!b||p.x!==b.x||p.y!==b.y)?((0,c.default)("Draggable: getDerivedStateFromProps %j",{position:p,prevPropsPosition:b}),{x:p.x,y:p.y,prevPropsPosition:{...p}}):null}constructor(d){super(d),P(this,"onDragStart",(f,p)=>{if((0,c.default)("Draggable: onDragStart: %j",p),this.props.onStart(f,(0,a.createDraggableData)(this,p))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),P(this,"onDrag",(f,p)=>{if(!this.state.dragging)return!1;(0,c.default)("Draggable: onDrag: %j",p);const b=(0,a.createDraggableData)(this,p),h={x:b.x,y:b.y,slackX:0,slackY:0};if(this.props.bounds){const{x:L,y:q}=h;h.x+=this.state.slackX,h.y+=this.state.slackY;const[k,fe]=(0,a.getBoundPosition)(this,h.x,h.y);h.x=k,h.y=fe,h.slackX=this.state.slackX+(L-h.x),h.slackY=this.state.slackY+(q-h.y),b.x=h.x,b.y=h.y,b.deltaX=h.x-this.state.x,b.deltaY=h.y-this.state.y}if(this.props.onDrag(f,b)===!1)return!1;this.setState(h)}),P(this,"onDragStop",(f,p)=>{if(!this.state.dragging||this.props.onStop(f,(0,a.createDraggableData)(this,p))===!1)return!1;(0,c.default)("Draggable: onDragStop: %j",p);const h={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:L,y:q}=this.props.position;h.x=L,h.y=q}this.setState(h)}),this.state={dragging:!1,dragged:!1,x:d.position?d.position.x:d.defaultPosition.x,y:d.position?d.position.y:d.defaultPosition.y,prevPropsPosition:{...d.position},slackX:0,slackY:0,isElementSVG:!1},d.position&&!(d.onDrag||d.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var d,f;return(d=(f=this.props)===null||f===void 0||(f=f.nodeRef)===null||f===void 0?void 0:f.current)!==null&&d!==void 0?d:r.default.findDOMNode(this)}render(){const{axis:d,bounds:f,children:p,defaultPosition:b,defaultClassName:h,defaultClassNameDragging:V,defaultClassNameDragged:L,position:q,positionOffset:k,scale:fe,...qe}=this.props;let he={},ge=null;const me=!!!q||this.state.dragging,ye=q||b,ve={x:(0,a.canDragX)(this)&&me?this.state.x:ye.x,y:(0,a.canDragY)(this)&&me?this.state.y:ye.y};this.state.isElementSVG?ge=(0,i.createSVGTransform)(ve,k):he=(0,i.createCSSTransform)(ve,k);const Fe=(0,o.default)(p.props.className||"",h,{[V]:this.state.dragging,[L]:this.state.dragged});return t.createElement(l.default,C({},qe,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(p),{className:Fe,style:{...p.props.style,...he},transform:ge}))}}e.default=E,P(E,"displayName","Draggable"),P(E,"propTypes",{...l.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:s.dontSetMe,style:s.dontSetMe,transform:s.dontSetMe}),P(E,"defaultProps",{...l.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(Me);const{default:Ye,DraggableCore:Rt}=Me;K.exports=Ye;K.exports.default=Ye;K.exports.DraggableCore=Rt;var Xt=K.exports;const Pe=ke(Xt),$=j.div(({theme:e})=>({zIndex:10,position:"absolute",top:0,left:0,display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",transition:"color 0.2s linear, background-size 0.2s linear, background 0.2s linear, background-position 0s linear"}),({axis:e})=>({cursor:e==="x"?"col-resize":"row-resize"}),({axis:e})=>e==="x"?{height:"100%",width:10,marginLeft:-10}:{height:10,width:"100%",marginTop:-10},({axis:e,isDragging:t})=>{if(e==="y"){const n={backgroundImage:"radial-gradient(at center center,rgba(0,0,0,0.2) 0%,transparent 70%,transparent 100%)",backgroundSize:"100% 50px",backgroundPosition:"50% 0",backgroundRepeat:"no-repeat"};return t?n:{...n,backgroundPosition:"50% 10px","&:hover":n}}if(e==="x"){const n={backgroundImage:"radial-gradient(at center center,rgba(0,0,0,0.2) 0%,transparent 70%,transparent 100%)",backgroundSize:"50px 100%",backgroundPosition:"0 50%",backgroundRepeat:"no-repeat"};return t?n:{...n,backgroundPosition:"10px 50%","&:hover":n}}return{}});try{draggers.displayName="draggers",draggers.__docgenInfo={description:"",displayName:"draggers",props:{}}}catch{}try{$.displayName="Handle",$.__docgenInfo={description:"",displayName:"Handle",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"ElementType<any>"}},isDragging:{defaultValue:null,description:"",name:"isDragging",required:!0,type:{name:"boolean"}},axis:{defaultValue:null,description:"",name:"axis",required:!0,type:{name:"enum",value:[{value:'"x"'},{value:'"y"'}]}},reverse:{defaultValue:null,description:"",name:"reverse",required:!1,type:{name:"boolean"}}}}}catch{}const Se=200,F=200,Vt=200,oe=220,_e=200,It=230,zt=400,ee=j.div({position:"absolute",boxSizing:"border-box",top:0,left:0,width:"100%",height:"100%"},({hidden:e})=>e?{opacity:0}:{opacity:1},({top:e})=>e?{zIndex:9}:{},({border:e,theme:t})=>{switch(e){case"left":return{borderLeft:`1px solid ${t.appBorderColor}`};case"right":return{borderRight:`1px solid ${t.appBorderColor}`};case"top":return{borderTop:`1px solid ${t.appBorderColor}`};case"bottom":return{borderBottom:`1px solid ${t.appBorderColor}`};default:return{}}},({animate:e})=>e?{transition:["width","height","top","left","background","opacity","transform"].map(t=>`${t} 0.1s ease-out`).join(",")}:{}),Wt=j.div({position:"absolute",top:0,left:0,width:"100%",height:"100%"},({isFullscreen:e,theme:t})=>e?{boxShadow:"none",borderRadius:0}:{borderTopLeftRadius:t.appBorderRadius===0?t.appBorderRadius:t.appBorderRadius+1,borderBottomLeftRadius:t.appBorderRadius===0?t.appBorderRadius:t.appBorderRadius+1,overflow:"hidden",boxShadow:t.base==="light"?"0 1px 3px 1px rgba(0, 0, 0, 0.05), 0px 0 0px 1px rgba(0, 0, 0, 0.05)":`0px 0 0px 1px ${t.appBorderColor}`,transform:"translateZ(0)"}),ie=({hidden:e=!1,children:t,position:n=void 0,...r})=>e?null:m(ee,{style:n,...r,children:t}),se=({isFullscreen:e=!1,children:t,position:n=void 0,...r})=>m(ee,{style:n,top:!0,...r,role:"main",children:m(Wt,{isFullscreen:e,children:t})}),le=({hidden:e=!1,children:t,position:n=void 0,...r})=>m(ee,{style:n,top:!0,hidden:e,...r,children:t}),ue=({hidden:e=!1,children:t,position:n=void 0,align:r="right",...o})=>m(ee,{style:n,hidden:e,...o,border:r==="bottom"?"top":"left",children:t}),Yt=j.div({position:"absolute",left:0,top:0,zIndex:15,height:"100vh",width:"100vw"}),qt=({panelPosition:e,isPanelHidden:t,isNavHidden:n,isFullscreen:r,bounds:o,resizerPanel:i,resizerNav:a,margin:s})=>{if(r||t)return{};const l=n?0:a.x,c=i.x,g=i.y;return e==="bottom"?{height:g-s,left:0,top:0,width:o.width-l-2*s}:{height:o.height-2*s,left:0,top:0,width:c-l-s}},Ft=({bounds:e,resizerNav:t,isNavHidden:n,isFullscreen:r,margin:o})=>{if(r)return{};const i=n?0:t.x;return{height:e.height-o*2,left:i+o,top:o,width:e.width-i-o*2}},Bt=({isPanelBottom:e,isPanelHidden:t,isNavHidden:n,bounds:r,resizerPanel:o,resizerNav:i,margin:a})=>{const s=n?0:i.x,l=o.x,c=o.y;return e&&t?{height:r.height-c-a,left:0,top:c-a,width:r.width-s-2*a}:!e&&t?{height:r.height-2*a,left:l-s-a,top:0,width:r.width-l-a}:e?{height:r.height-c-a,left:0,top:c-a,width:r.width-s-2*a}:{height:r.height-2*a,left:l-s-a,top:0,width:r.width-l-a}};class G extends W.Component{constructor(t){super(t),this.resizeNav=(a,s)=>{s.deltaX&&this.setState({resizerNav:{x:s.x,y:s.y}})},this.resizePanel=(a,s)=>{const{options:l}=this.props;(s.deltaY&&l.panelPosition==="bottom"||s.deltaX&&l.panelPosition==="right")&&this.setState({resizerPanel:{x:s.x,y:s.y}})},this.setDragNav=()=>{this.setState({isDragging:"nav"})},this.setDragPanel=()=>{this.setState({isDragging:"panel"})},this.unsetDrag=()=>{this.setState({isDragging:!1})},this.navRef=ae.createRef(),this.panelRef=ae.createRef();const{bounds:n,options:r}=t,{resizerNav:o,resizerPanel:i}=Ue();this.state={isDragging:!1,resizerNav:o||{x:It,y:0},resizerPanel:i||(r.panelPosition==="bottom"?{x:0,y:Math.round(n.height*.6)}:{x:n.width-zt,y:0})}}static getDerivedStateFromProps(t,n){const{bounds:r,options:o}=t,{resizerPanel:i,resizerNav:a}=n,s=o.isFullscreen||!o.showNav,l=o.isFullscreen||!o.showPanel,{panelPosition:c}=o,g=c==="right",w=c==="bottom",_=a.x,C=i.x,P=i.y,v={};if(!s){const E=F+(!l&&g?oe:0),u=r.width-E,d=Se;_>u?v.resizerNav={x:u,y:0}:(_<d||u<d)&&(v.resizerNav={x:d,y:0})}if(g&&!l){const M=r.width-oe,E=_+F;C>M||C===0?v.resizerPanel={x:M,y:0}:C<E&&(v.resizerPanel={x:E,y:0})}if(w&&!l){const M=r.height-_e;(P>M||P===0)&&(v.resizerPanel={x:0,y:r.height-200})}return v.resizerPanel||v.resizerNav?{...n,...v}:n}componentDidUpdate(t,n){const{resizerPanel:r,resizerNav:o}=this.state;Ge({resizerPanel:r,resizerNav:o});const{width:i,height:a}=t.bounds,{bounds:s,options:l}=this.props,{width:c,height:g}=s;if(c!==i||g!==a){const{panelPosition:w}=l;w==="bottom"?this.setState({resizerPanel:{x:n.resizerPanel.x,y:n.resizerPanel.y-(a-g)}}):this.setState({resizerPanel:{x:n.resizerPanel.x-(i-c),y:n.resizerPanel.y}})}}render(){const{children:t,bounds:n,options:r,viewMode:o,panelCount:i}=this.props,{isDragging:a,resizerNav:s,resizerPanel:l}=this.state,c=0,g=r.isFullscreen||!r.showNav,w=r.isFullscreen||!r.showPanel||o!=="story"||i===0,_=r.isFullscreen||g&&w,{showToolbar:C}=r,{panelPosition:P}=r,v=P==="bottom",M=P==="right",E=l.x,u=s.x;return n?H(W.Fragment,{children:[g?null:m(Pe,{axis:"x",position:s,bounds:{left:Se,top:0,right:M&&!w?E-F:n.width-F,bottom:0},onStart:this.setDragNav,onDrag:this.resizeNav,onStop:this.unsetDrag,nodeRef:this.navRef,children:m($,{ref:this.navRef,axis:"x",isDragging:a==="nav"})}),w?null:m(Pe,{axis:v?"y":"x",position:l,bounds:v?{left:0,top:Vt,right:0,bottom:n.height-_e}:{left:g?F:u+F,top:0,right:n.width-oe,bottom:0},onStart:this.setDragPanel,onDrag:this.resizePanel,onStop:this.unsetDrag,nodeRef:this.panelRef,children:m($,{ref:this.panelRef,isDragging:a==="panel",style:v?{left:u+c,width:n.width-u-2*c,marginTop:-10}:{marginLeft:-10},axis:v?"y":"x"})}),a?m(Yt,{}):null,t({mainProps:{viewMode:o,animate:!a,isFullscreen:_,position:Ft({bounds:n,resizerNav:s,isNavHidden:g,isFullscreen:_,margin:c})},previewProps:{viewMode:o,animate:!a,isFullscreen:_,showToolbar:C,position:qt({isFullscreen:_,isNavHidden:g,isPanelHidden:w,resizerNav:s,resizerPanel:l,bounds:n,panelPosition:P,margin:c})},navProps:{viewMode:o,animate:!a,hidden:g,position:{height:n.height,left:0,top:0,width:u+c}},panelProps:{viewMode:o,animate:!a,align:r.panelPosition,hidden:w,position:Bt({isPanelBottom:v,isPanelHidden:w,isNavHidden:g,bounds:n,resizerPanel:l,resizerNav:s,margin:c})}})]}):null}}G.defaultProps={viewMode:void 0};const Lt=Le(G);try{ie.displayName="Sidebar",ie.__docgenInfo={description:"",displayName:"Sidebar",props:{hidden:{defaultValue:{value:"false"},description:"",name:"hidden",required:!1,type:{name:"boolean"}},position:{defaultValue:{value:"undefined"},description:"",name:"position",required:!1,type:{name:"CSSProperties"}}}}}catch{}try{se.displayName="Main",se.__docgenInfo={description:"",displayName:"Main",props:{isFullscreen:{defaultValue:{value:"false"},description:"",name:"isFullscreen",required:!1,type:{name:"boolean"}},position:{defaultValue:{value:"undefined"},description:"",name:"position",required:!1,type:{name:"CSSProperties"}}}}}catch{}try{le.displayName="Preview",le.__docgenInfo={description:"",displayName:"Preview",props:{hidden:{defaultValue:{value:"false"},description:"",name:"hidden",required:!1,type:{name:"boolean"}},position:{defaultValue:{value:"undefined"},description:"",name:"position",required:!1,type:{name:"CSSProperties"}}}}}catch{}try{ue.displayName="Panel",ue.__docgenInfo={description:"",displayName:"Panel",props:{hidden:{defaultValue:{value:"false"},description:"",name:"hidden",required:!1,type:{name:"boolean"}},position:{defaultValue:{value:"undefined"},description:"",name:"position",required:!1,type:{name:"CSSProperties"}},align:{defaultValue:{value:"right"},description:"",name:"align",required:!1,type:{name:"enum",value:[{value:'"bottom"'},{value:'"right"'}]}}}}}catch{}try{G.displayName="Layout",G.__docgenInfo={description:"",displayName:"Layout",props:{panelCount:{defaultValue:null,description:"",name:"panelCount",required:!0,type:{name:"number"}},bounds:{defaultValue:null,description:"",name:"bounds",required:!0,type:{name:"{ width: number; height: number; top: number; left: number; }"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:'{ isFullscreen: boolean; showNav: boolean; showPanel: boolean; panelPosition: "bottom" | "right"; showToolbar: boolean; }'}},viewMode:{defaultValue:{value:"undefined"},description:"",name:"viewMode",required:!1,type:{name:"string"}},theme:{defaultValue:null,description:"",name:"theme",required:!0,type:{name:"StorybookTheme"}}}}}catch{}const xe=Object.assign(ae.memo(function({Panel:t,Sidebar:n,Preview:r,Notifications:o,pages:i,options:a,viewMode:s=void 0,width:l=0,height:c=0,panelCount:g}){return H(W.Fragment,{children:[m(o,{placement:{position:"fixed",bottom:20,left:20}}),l&&c?m(Lt,{options:a,bounds:{width:l,height:c,top:0,left:0},viewMode:s,panelCount:g,children:({navProps:w,mainProps:_,panelProps:C,previewProps:P})=>H(W.Fragment,{children:[m(ie,{...w,children:m(n,{})}),H(se,{..._,isFullscreen:!!_.isFullscreen,children:[H(be,{path:/(^\/story|docs|onboarding\/|^\/$)/,hideOnly:!0,children:[m(le,{...P,hidden:!1,children:m(r,{id:"main"})}),m(be,{path:"/story/",startsWith:!0,hideOnly:!0,children:m(ue,{...C,hidden:!1,children:m(t,{})})})]}),i.map(({id:v,render:M})=>m(W.Fragment,{children:m(M,{})},v))]})]})}):m("div",{title:JSON.stringify({width:l,height:c})})]})}),{displayName:"DesktopLayout"});try{xe.displayName="Desktop",xe.__docgenInfo={description:"",displayName:"Desktop",props:{width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},panelCount:{defaultValue:null,description:"",name:"panelCount",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},Sidebar:{defaultValue:null,description:"",name:"Sidebar",required:!0,type:{name:"ComponentType<any>"}},Preview:{defaultValue:null,description:"",name:"Preview",required:!0,type:{name:"ComponentType<any>"}},Panel:{defaultValue:null,description:"",name:"Panel",required:!0,type:{name:"ComponentType<any>"}},Notifications:{defaultValue:null,description:"",name:"Notifications",required:!0,type:{name:"ComponentType<any>"}},pages:{defaultValue:null,description:"",name:"pages",required:!0,type:{name:"Addon_PageType[]"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"API_Layout"}},viewMode:{defaultValue:null,description:"",name:"viewMode",required:!0,type:{name:"string"}}}}}catch{}export{xe as D};
//# sourceMappingURL=desktop-7ea47ee8.js.map
