{"version":3,"file":"preview-5979842c.js","sources":["../../node_modules/@storybook/addon-backgrounds/dist/chunk-VS46XGVE.mjs","../../node_modules/@storybook/addon-backgrounds/dist/preview.mjs"],"sourcesContent":["import { global } from '@storybook/global';\nimport { dedent } from 'ts-dedent';\nimport { logger } from '@storybook/client-logger';\n\n// src/constants.ts\nvar ADDON_ID = \"storybook/background\";\nvar PARAM_KEY = \"backgrounds\";\nvar { document, window } = global;\nvar isReduceMotionEnabled = () => {\n  const prefersReduceMotion = window.matchMedia(\"(prefers-reduced-motion: reduce)\");\n  return prefersReduceMotion.matches;\n};\nvar getBackgroundColorByName = (currentSelectedValue, backgrounds = [], defaultName) => {\n  if (currentSelectedValue === \"transparent\") {\n    return \"transparent\";\n  }\n  if (backgrounds.find((background) => background.value === currentSelectedValue)) {\n    return currentSelectedValue;\n  }\n  const defaultBackground = backgrounds.find((background) => background.name === defaultName);\n  if (defaultBackground) {\n    return defaultBackground.value;\n  }\n  if (defaultName) {\n    const availableColors = backgrounds.map((background) => background.name).join(\", \");\n    logger.warn(\n      dedent`\n        Backgrounds Addon: could not find the default color \"${defaultName}\".\n        These are the available colors for your story based on your configuration:\n        ${availableColors}.\n      `\n    );\n  }\n  return \"transparent\";\n};\nvar clearStyles = (selector) => {\n  const selectors = Array.isArray(selector) ? selector : [selector];\n  selectors.forEach(clearStyle);\n};\nvar clearStyle = (selector) => {\n  const element = document.getElementById(selector);\n  if (element) {\n    element.parentElement.removeChild(element);\n  }\n};\nvar addGridStyle = (selector, css) => {\n  const existingStyle = document.getElementById(selector);\n  if (existingStyle) {\n    if (existingStyle.innerHTML !== css) {\n      existingStyle.innerHTML = css;\n    }\n  } else {\n    const style = document.createElement(\"style\");\n    style.setAttribute(\"id\", selector);\n    style.innerHTML = css;\n    document.head.appendChild(style);\n  }\n};\nvar addBackgroundStyle = (selector, css, storyId) => {\n  const existingStyle = document.getElementById(selector);\n  if (existingStyle) {\n    if (existingStyle.innerHTML !== css) {\n      existingStyle.innerHTML = css;\n    }\n  } else {\n    const style = document.createElement(\"style\");\n    style.setAttribute(\"id\", selector);\n    style.innerHTML = css;\n    const gridStyleSelector = `addon-backgrounds-grid${storyId ? `-docs-${storyId}` : \"\"}`;\n    const existingGridStyle = document.getElementById(gridStyleSelector);\n    if (existingGridStyle) {\n      existingGridStyle.parentElement.insertBefore(style, existingGridStyle);\n    } else {\n      document.head.appendChild(style);\n    }\n  }\n};\n\nexport { ADDON_ID, PARAM_KEY, addBackgroundStyle, addGridStyle, clearStyles, getBackgroundColorByName, isReduceMotionEnabled };\n","import { PARAM_KEY, getBackgroundColorByName, isReduceMotionEnabled, clearStyles, addBackgroundStyle, addGridStyle } from './chunk-VS46XGVE.mjs';\nimport { useMemo, useEffect } from '@storybook/preview-api';\n\nvar withBackground = (StoryFn, context) => {\n  const { globals: globals2, parameters: parameters2 } = context;\n  const globalsBackgroundColor = globals2[PARAM_KEY]?.value;\n  const backgroundsConfig = parameters2[PARAM_KEY];\n  const selectedBackgroundColor = useMemo(() => {\n    if (backgroundsConfig.disable) {\n      return \"transparent\";\n    }\n    return getBackgroundColorByName(\n      globalsBackgroundColor,\n      backgroundsConfig.values,\n      backgroundsConfig.default\n    );\n  }, [backgroundsConfig, globalsBackgroundColor]);\n  const isActive = useMemo(\n    () => selectedBackgroundColor && selectedBackgroundColor !== \"transparent\",\n    [selectedBackgroundColor]\n  );\n  const selector = context.viewMode === \"docs\" ? `#anchor--${context.id} .docs-story` : \".sb-show-main\";\n  const backgroundStyles = useMemo(() => {\n    const transitionStyle = \"transition: background-color 0.3s;\";\n    return `\n      ${selector} {\n        background: ${selectedBackgroundColor} !important;\n        ${isReduceMotionEnabled() ? \"\" : transitionStyle}\n      }\n    `;\n  }, [selectedBackgroundColor, selector]);\n  useEffect(() => {\n    const selectorId = context.viewMode === \"docs\" ? `addon-backgrounds-docs-${context.id}` : `addon-backgrounds-color`;\n    if (!isActive) {\n      clearStyles(selectorId);\n      return;\n    }\n    addBackgroundStyle(\n      selectorId,\n      backgroundStyles,\n      context.viewMode === \"docs\" ? context.id : null\n    );\n  }, [isActive, backgroundStyles, context]);\n  return StoryFn();\n};\nvar withGrid = (StoryFn, context) => {\n  const { globals: globals2, parameters: parameters2 } = context;\n  const gridParameters = parameters2[PARAM_KEY].grid;\n  const isActive = globals2[PARAM_KEY]?.grid === true && gridParameters.disable !== true;\n  const { cellAmount, cellSize, opacity } = gridParameters;\n  const isInDocs = context.viewMode === \"docs\";\n  const isLayoutPadded = parameters2.layout === void 0 || parameters2.layout === \"padded\";\n  const defaultOffset = isLayoutPadded ? 16 : 0;\n  const offsetX = gridParameters.offsetX ?? (isInDocs ? 20 : defaultOffset);\n  const offsetY = gridParameters.offsetY ?? (isInDocs ? 20 : defaultOffset);\n  const gridStyles = useMemo(() => {\n    const selector = context.viewMode === \"docs\" ? `#anchor--${context.id} .docs-story` : \".sb-show-main\";\n    const backgroundSize = [\n      `${cellSize * cellAmount}px ${cellSize * cellAmount}px`,\n      `${cellSize * cellAmount}px ${cellSize * cellAmount}px`,\n      `${cellSize}px ${cellSize}px`,\n      `${cellSize}px ${cellSize}px`\n    ].join(\", \");\n    return `\n      ${selector} {\n        background-size: ${backgroundSize} !important;\n        background-position: ${offsetX}px ${offsetY}px, ${offsetX}px ${offsetY}px, ${offsetX}px ${offsetY}px, ${offsetX}px ${offsetY}px !important;\n        background-blend-mode: difference !important;\n        background-image: linear-gradient(rgba(130, 130, 130, ${opacity}) 1px, transparent 1px),\n         linear-gradient(90deg, rgba(130, 130, 130, ${opacity}) 1px, transparent 1px),\n         linear-gradient(rgba(130, 130, 130, ${opacity / 2}) 1px, transparent 1px),\n         linear-gradient(90deg, rgba(130, 130, 130, ${opacity / 2}) 1px, transparent 1px) !important;\n      }\n    `;\n  }, [cellSize]);\n  useEffect(() => {\n    const selectorId = context.viewMode === \"docs\" ? `addon-backgrounds-grid-docs-${context.id}` : `addon-backgrounds-grid`;\n    if (!isActive) {\n      clearStyles(selectorId);\n      return;\n    }\n    addGridStyle(selectorId, gridStyles);\n  }, [isActive, gridStyles, context]);\n  return StoryFn();\n};\n\n// src/preview.tsx\nvar decorators = [withGrid, withBackground];\nvar parameters = {\n  [PARAM_KEY]: {\n    grid: {\n      cellSize: 20,\n      opacity: 0.5,\n      cellAmount: 5\n    },\n    values: [\n      { name: \"light\", value: \"#F8F8F8\" },\n      { name: \"dark\", value: \"#333333\" }\n    ]\n  }\n};\nvar globals = {\n  [PARAM_KEY]: null\n};\n\nexport { decorators, globals, parameters };\n"],"names":["logger","PARAM_KEY","document","window","global","isReduceMotionEnabled","getBackgroundColorByName","currentSelectedValue","backgrounds","defaultName","background","defaultBackground","availableColors","dedent","clearStyles","selector","clearStyle","element","addGridStyle","css","existingStyle","style","addBackgroundStyle","storyId","gridStyleSelector","existingGridStyle","useMemo","useEffect","withBackground","StoryFn","context","globals2","parameters2","globalsBackgroundColor","_a","backgroundsConfig","selectedBackgroundColor","isActive","backgroundStyles","transitionStyle","selectorId","withGrid","gridParameters","cellAmount","cellSize","opacity","isInDocs","defaultOffset","offsetX","offsetY","gridStyles","backgroundSize","decorators","parameters","globals"],"mappings":"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","x_google_ignoreList":[0,1]}