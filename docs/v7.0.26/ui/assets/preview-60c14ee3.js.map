{"version":3,"file":"preview-60c14ee3.js","sources":["../../node_modules/@storybook/addon-links/dist/chunk-VMPRUIQZ.mjs","../../node_modules/@storybook/addon-links/dist/chunk-H3EQR3JJ.mjs","../../node_modules/@storybook/addon-links/dist/preview.mjs"],"sourcesContent":["// src/constants.ts\nvar ADDON_ID = \"storybook/links\";\nvar PARAM_KEY = `links`;\nvar constants_default = {\n  NAVIGATE: `${ADDON_ID}/navigate`,\n  REQUEST: `${ADDON_ID}/request`,\n  RECEIVE: `${ADDON_ID}/receive`\n};\n\nexport { ADDON_ID, PARAM_KEY, constants_default };\n","import { PARAM_KEY } from './chunk-VMPRUIQZ.mjs';\nimport { global } from '@storybook/global';\nimport { makeDecorator, addons } from '@storybook/preview-api';\nimport { STORY_CHANGED, SELECT_STORY } from '@storybook/core-events';\nimport { toId } from '@storybook/csf';\n\nvar { document, HTMLElement } = global;\nfunction parseQuery(queryString) {\n  const query = {};\n  const pairs = (queryString[0] === \"?\" ? queryString.substring(1) : queryString).split(\"&\").filter(Boolean);\n  for (let i = 0; i < pairs.length; i++) {\n    const pair = pairs[i].split(\"=\");\n    query[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1] || \"\");\n  }\n  return query;\n}\nvar navigate = (params) => addons.getChannel().emit(SELECT_STORY, params);\nvar hrefTo = (title, name) => {\n  return new Promise((resolve) => {\n    const { location } = document;\n    const query = parseQuery(location.search);\n    const existingId = [].concat(query.id)[0];\n    const titleToLink = title || existingId.split(\"--\", 2)[0];\n    const id = toId(titleToLink, name);\n    const path = `/story/${id}`;\n    const sbPath = location.pathname.replace(/iframe\\.html$/, \"\");\n    const url = `${location.origin + sbPath}?${Object.entries({ path }).map((item) => `${item[0]}=${item[1]}`).join(\"&\")}`;\n    resolve(url);\n  });\n};\nvar valueOrCall = (args) => (value) => typeof value === \"function\" ? value(...args) : value;\nvar linkTo = (idOrTitle, nameInput) => (...args) => {\n  const resolver = valueOrCall(args);\n  const title = resolver(idOrTitle);\n  const name = nameInput ? resolver(nameInput) : false;\n  if (title?.match(/--/) && !name) {\n    navigate({ storyId: title });\n  } else if (name && title) {\n    navigate({ kind: title, story: name });\n  } else if (title) {\n    navigate({ kind: title });\n  } else if (name) {\n    navigate({ story: name });\n  }\n};\nvar linksListener = (e) => {\n  const { target } = e;\n  if (!(target instanceof HTMLElement)) {\n    return;\n  }\n  const element = target;\n  const { sbKind: kind, sbStory: story } = element.dataset;\n  if (kind || story) {\n    e.preventDefault();\n    navigate({ kind, story });\n  }\n};\nvar hasListener = false;\nvar on = () => {\n  if (!hasListener) {\n    hasListener = true;\n    document.addEventListener(\"click\", linksListener);\n  }\n};\nvar off = () => {\n  if (hasListener) {\n    hasListener = false;\n    document.removeEventListener(\"click\", linksListener);\n  }\n};\nvar withLinks = makeDecorator({\n  name: \"withLinks\",\n  parameterName: PARAM_KEY,\n  wrapper: (getStory, context) => {\n    on();\n    addons.getChannel().once(STORY_CHANGED, off);\n    return getStory(context);\n  }\n});\n\nexport { hrefTo, linkTo, navigate, withLinks };\n","import './chunk-TEIZ2O3Q.mjs';\nimport { withLinks } from './chunk-H3EQR3JJ.mjs';\nimport './chunk-VMPRUIQZ.mjs';\n\n// src/preview.ts\nvar decorators = [withLinks];\n\nexport { decorators };\n"],"names":["PARAM_KEY","makeDecorator","addons","STORY_CHANGED","SELECT_STORY","document","HTMLElement","global","navigate","params","linksListener","target","element","kind","story","hasListener","on","off","withLinks","getStory","context","decorators"],"mappings":"oEAEA,IAAIA,EAAY,QCAhB,KAAA,CAAA,cAAAC,EAAA,OAAAC,CAAA,EAAA,iCACA,CAAA,cAAAC,EAAA,aAAAC,CAAA,EAAA,iCAGA,GAAI,CAAE,SAAAC,EAAU,YAAAC,CAAa,EAAGC,EAU5BC,EAAYC,GAAWP,EAAO,WAAY,EAAC,KAAKE,EAAcK,CAAM,EA6BpEC,EAAiB,GAAM,CACzB,KAAM,CAAE,OAAAC,CAAQ,EAAG,EACnB,GAAI,EAAEA,aAAkBL,GACtB,OAEF,MAAMM,EAAUD,EACV,CAAE,OAAQE,EAAM,QAASC,CAAO,EAAGF,EAAQ,SAC7CC,GAAQC,KACV,EAAE,eAAc,EAChBN,EAAS,CAAE,KAAAK,EAAM,MAAAC,CAAK,CAAE,EAE5B,EACIC,EAAc,GACdC,EAAK,IAAM,CACRD,IACHA,EAAc,GACdV,EAAS,iBAAiB,QAASK,CAAa,EAEpD,EACIO,EAAM,IAAM,CACVF,IACFA,EAAc,GACdV,EAAS,oBAAoB,QAASK,CAAa,EAEvD,EACIQ,EAAYjB,EAAc,CAC5B,KAAM,YACN,cAAeD,EACf,QAAS,CAACmB,EAAUC,KAClBJ,IACAd,EAAO,WAAY,EAAC,KAAKC,EAAec,CAAG,EACpCE,EAASC,CAAO,EAE3B,CAAC,ECzEGC,EAAa,CAACH,CAAS","x_google_ignoreList":[0,1,2]}