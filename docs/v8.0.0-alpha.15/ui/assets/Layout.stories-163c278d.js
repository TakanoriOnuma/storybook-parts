import{a as me}from"./chunk-AT66UTFE-23ee157f.js";import{r as h,R as o}from"./index-f1f2c4b1.js";import{n as v}from"./index-4b2a7d13.js";import{f as ue}from"./index-bb7da91f.js";import{M as pe,m as ge}from"./MobileNavigation.stories-4b1e5cf2.js";import{M as le}from"./constants-277f2eb4.js";import{u as fe,L as he}from"./LayoutProvider-eb9b2e6f.js";import{b as ve}from"./index-b4514f1c.js";import{N as Se}from"./NotificationList-8a1e7632.js";import"./v4-4a60fe23.js";import"./index-09d824d7.js";import"./lz-string-2a82d2da.js";import"./index-8d9ddb1f.js";import"./index-8c127ed0.js";import"./index-356e4a49.js";import"./lodash-302d6d3a.js";import"./index-a443495b.js";import"./iframe-14332c4c.js";import"../sb-preview/runtime.js";import"./index-c74c9f7f.js";import"./index-5f16f6cc.js";import"./extends-98964cd2.js";import"./index-758f4e48.js";import"./index-b75c9059.js";import"./MobileAbout-71d11983.js";import"./UpgradeBlock-816e5ec7.js";import"./objectWithoutPropertiesLoose-4f48578a.js";import"./inheritsLoose-c82a83d4.js";import"./_baseAssignValue-611095b5.js";import"./isObjectLike-e57f4fa0.js";import"./mapValues-3cd3a2b8.js";import"./_baseIteratee-c4babb20.js";import"./isSymbol-ef7afaa8.js";import"./_initCloneObject-ae952db3.js";import"./_getPrototype-a3b5123a.js";import"./isPlainObject-7a70f881.js";import"./index-9cc128d5.js";import"./_basePickBy-c1531931.js";import"./chunk-TNTLX5UL-4d44e490.js";import"./NotificationItem-3ee0fa06.js";import"./index-0a25eb6d.js";import"./polished.esm-e310f6d0.js";const T=30,w=240,M=270,_=.9;function I(e,t,n){return Math.min(Math.max(e,t),n)}function C(e,t,n){return t+(n-t)*e}function Pe({setState:e,isPanelShown:t,isDesktop:n}){const i=h.useRef(null),s=h.useRef(null);return h.useEffect(()=>{const l=i.current,c=s.current,d=document.querySelector("#storybook-preview-iframe");let m=null;const p=a=>{a.preventDefault(),e(r=>({...r,isDragging:!0})),a.currentTarget===l?m=l:a.currentTarget===c&&(m=c),window.addEventListener("mousemove",S),window.addEventListener("mouseup",g),d&&(d.style.pointerEvents="none")},g=a=>{e(r=>m===c&&r.navSize<w&&r.navSize>0?{...r,isDragging:!1,navSize:w}:m===l&&r.panelPosition==="right"&&r.rightPanelWidth<M&&r.rightPanelWidth>0?{...r,isDragging:!1,rightPanelWidth:M}:{...r,isDragging:!1}),window.removeEventListener("mousemove",S),window.removeEventListener("mouseup",g),d==null||d.removeAttribute("style"),m=null},S=a=>{if(a.buttons===0){g();return}e(r=>{if(m===c){const u=a.clientX;return u===r.navSize?r:u<=T?{...r,navSize:0}:u<=w?{...r,navSize:C(_,u,w)}:{...r,navSize:I(u,0,a.view.innerWidth)}}if(m===l){const u=r.panelPosition==="bottom"?"bottomPanelHeight":"rightPanelWidth",P=r.panelPosition==="bottom"?a.view.innerHeight-a.clientY:a.view.innerWidth-a.clientX;if(P===r[u])return r;if(P<=T)return{...r,[u]:0};if(r.panelPosition==="right"&&P<=M)return{...r,[u]:C(_,P,M)};const de=r.panelPosition==="bottom"?a.view.innerHeight:a.view.innerWidth;return{...r,[u]:I(P,0,de)}}return r})};return l==null||l.addEventListener("mousedown",p),c==null||c.addEventListener("mousedown",p),()=>{l==null||l.removeEventListener("mousedown",p),c==null||c.removeEventListener("mousedown",p),d==null||d.removeAttribute("style")}},[t,n,e]),{panelResizerRef:i,sidebarResizerRef:s}}const be=({state:e,api:t})=>({notifications:e.notifications,clearNotification:t.clearNotification}),ce=e=>o.createElement(ve,{filter:be},t=>o.createElement(Se,{...e,...t}));ce.__docgenInfo={description:"",methods:[],displayName:"Notifications"};const we=100,H=(e,t)=>e.navSize===t.navSize&&e.bottomPanelHeight===t.bottomPanelHeight&&e.rightPanelWidth===t.rightPanelWidth&&e.panelPosition===t.panelPosition,Me=({managerLayoutState:e,setManagerLayoutState:t,isDesktop:n})=>{const i=o.useRef(e),[s,l]=h.useState({...e,isDragging:!1});h.useEffect(()=>{s.isDragging||H(e,i.current)||(i.current=e,l(r=>({...r,...e})))},[s.isDragging,e,l]),h.useLayoutEffect(()=>{if(s.isDragging||H(i.current,s))return;const r={navSize:s.navSize,bottomPanelHeight:s.bottomPanelHeight,rightPanelWidth:s.rightPanelWidth};i.current={...i.current,...r},t(r)},[s,t]);const c=e.viewMode!=="story"&&e.viewMode!=="docs",d=e.viewMode==="story",{panelResizerRef:m,sidebarResizerRef:p}=Pe({setState:l,isPanelShown:d,isDesktop:n}),{navSize:g,rightPanelWidth:S,bottomPanelHeight:a}=s.isDragging?s:e;return{navSize:g,rightPanelWidth:S,bottomPanelHeight:a,panelPosition:e.panelPosition,panelResizerRef:m,sidebarResizerRef:p,showPages:c,showPanel:d,isDragging:s.isDragging}},z=({managerLayoutState:e,setManagerLayoutState:t,...n})=>{const{isDesktop:i,isMobile:s}=fe(),{navSize:l,rightPanelWidth:c,bottomPanelHeight:d,panelPosition:m,panelResizerRef:p,sidebarResizerRef:g,showPages:S,showPanel:a,isDragging:r}=Me({managerLayoutState:e,setManagerLayoutState:t,isDesktop:i});return o.createElement(Ee,{navSize:l,rightPanelWidth:c,bottomPanelHeight:d,panelPosition:e.panelPosition,isDragging:r,viewMode:e.viewMode},o.createElement(ce,null),S&&o.createElement(Re,null,n.slotPages),o.createElement(De,null,n.slotMain),i&&o.createElement(o.Fragment,null,o.createElement(ye,null,o.createElement(W,{ref:g}),n.slotSidebar),a&&o.createElement(ke,{position:m},o.createElement(W,{orientation:m==="bottom"?"horizontal":"vertical",position:m==="bottom"?"left":"right",ref:p}),n.slotPanel)),s&&o.createElement(pe,{menu:n.slotSidebar,panel:n.slotPanel,showPanel:a}))},Ee=v.div(({navSize:e,rightPanelWidth:t,bottomPanelHeight:n,viewMode:i,panelPosition:s})=>({width:"100%",height:["100vh","100dvh"],overflow:"hidden",display:"flex",flexDirection:"column",[le]:{display:"grid",gap:0,gridTemplateColumns:`minmax(0, ${e}px) minmax(${we}px, 1fr) minmax(0, ${t}px)`,gridTemplateRows:`1fr minmax(0, ${n}px)`,gridTemplateAreas:(()=>i==="docs"?`"sidebar content content"
                  "sidebar content content"`:s==="right"?`"sidebar content panel"
                  "sidebar content panel"`:`"sidebar content content"
                "sidebar panel   panel"`)()}})),ye=v.div(({theme:e})=>({backgroundColor:e.background.app,gridArea:"sidebar",position:"relative",borderRight:`1px solid ${e.color.border}`})),De=v.div(({theme:e})=>({flex:1,position:"relative",backgroundColor:e.background.content,display:"grid",[le]:{flex:"auto",gridArea:"content"}})),Re=v.div(({theme:e})=>({gridRowStart:"sidebar-start",gridRowEnd:"-1",gridColumnStart:"sidebar-end",gridColumnEnd:"-1",backgroundColor:e.background.content,zIndex:1})),ke=v.div(({theme:e,position:t})=>({gridArea:"panel",position:"relative",backgroundColor:e.background.content,borderTop:t==="bottom"?`1px solid ${e.color.border}`:null,borderLeft:t==="right"?`1px solid ${e.color.border}`:null})),W=v.div(({theme:e})=>({position:"absolute",opacity:0,transition:"opacity 0.2s ease-in-out",zIndex:100,"&:after":{content:'""',display:"block",backgroundColor:e.color.secondary},"&:hover":{opacity:1}}),({orientation:e="vertical",position:t="left"})=>e==="vertical"?{width:t==="left"?10:13,height:"100%",top:0,right:t==="left"?"-7px":null,left:t==="right"?"-7px":null,"&:after":{width:1,height:"100%",marginLeft:t==="left"?3:6},"&:hover":{cursor:"col-resize"}}:{width:"100%",height:"13px",top:"-7px",left:0,"&:after":{width:"100%",height:1,marginTop:6},"&:hover":{cursor:"row-resize"}});z.__docgenInfo={description:"",methods:[],displayName:"Layout",props:{managerLayoutState:{required:!0,tsType:{name:"ManagerLayoutState"},description:""},setManagerLayoutState:{required:!0,tsType:{name:"signature",type:"function",raw:"(state: Partial<Omit<ManagerLayoutState, 'viewMode'>>) => void",signature:{arguments:[{type:{name:"Partial",elements:[{name:"Omit",elements:[{name:"ManagerLayoutState"},{name:"literal",value:"'viewMode'"}],raw:"Omit<ManagerLayoutState, 'viewMode'>"}],raw:"Partial<Omit<ManagerLayoutState, 'viewMode'>>"},name:"state"}],return:{name:"void"}}},description:""},slotMain:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},slotSidebar:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},slotPanel:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},slotPages:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};const Le=v.div({width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden"}),N=({children:e})=>{const[t,n]=o.useState(0);return o.useEffect(()=>{const i=setInterval(()=>{n(t+1)},1e3);return()=>clearInterval(i)},[t]),o.createElement(Le,null,o.createElement("h2",null,t),e)},xe=()=>o.createElement(N,null),Ne=()=>o.createElement(N,null),ze=()=>o.createElement(N,null),Te=()=>o.createElement(N,null),b={navSize:150,bottomPanelHeight:150,rightPanelWidth:150,panelPosition:"bottom",viewMode:"story"},wt={title:"Layout",component:z,args:{managerLayoutState:b,slotMain:o.createElement(Ne,null),slotSidebar:o.createElement(xe,null),slotPanel:o.createElement(ze,null),slotPages:o.createElement(Te,null),setManagerLayoutState:ue()},parameters:{theme:"light",layout:"fullscreen"},decorators:[ge.decorators[0],e=>o.createElement(he,null,e())],render:e=>{const[t,n]=h.useState(e.managerLayoutState);return o.createElement(z,{...e,managerLayoutState:t,setManagerLayoutState:i=>{n({...t,...i}),me("setManagerStoreState")(i)}})}},E={},y={parameters:{theme:"dark"}},D={args:{managerLayoutState:{...b,panelPosition:"right"}}},R={args:{managerLayoutState:{...b,viewMode:"docs"}}},k={args:{managerLayoutState:{...b,viewMode:"settings"}}},f={parameters:{viewport:{defaultViewport:"mobile1"},chromatic:{viewports:[320]}}},L={...f,parameters:{...f.parameters,theme:"dark"}},x={...f,args:{managerLayoutState:{...b,viewMode:"docs"}}};var A,O,q;E.parameters={...E.parameters,docs:{...(A=E.parameters)==null?void 0:A.docs,source:{originalSource:"{}",...(q=(O=E.parameters)==null?void 0:O.docs)==null?void 0:q.source}}};var $,X,B;y.parameters={...y.parameters,docs:{...($=y.parameters)==null?void 0:$.docs,source:{originalSource:`{
  parameters: {
    theme: 'dark'
  }
}`,...(B=(X=y.parameters)==null?void 0:X.docs)==null?void 0:B.source}}};var F,K,V;D.parameters={...D.parameters,docs:{...(F=D.parameters)==null?void 0:F.docs,source:{originalSource:`{
  args: {
    managerLayoutState: {
      ...defaultState,
      panelPosition: 'right'
    }
  }
}`,...(V=(K=D.parameters)==null?void 0:K.docs)==null?void 0:V.source}}};var j,G,U;R.parameters={...R.parameters,docs:{...(j=R.parameters)==null?void 0:j.docs,source:{originalSource:`{
  args: {
    managerLayoutState: {
      ...defaultState,
      viewMode: 'docs'
    }
  }
}`,...(U=(G=R.parameters)==null?void 0:G.docs)==null?void 0:U.source}}};var Y,J,Q;k.parameters={...k.parameters,docs:{...(Y=k.parameters)==null?void 0:Y.docs,source:{originalSource:`{
  args: {
    managerLayoutState: {
      ...defaultState,
      viewMode: 'settings'
    }
  }
}`,...(Q=(J=k.parameters)==null?void 0:J.docs)==null?void 0:Q.source}}};var Z,ee,te;f.parameters={...f.parameters,docs:{...(Z=f.parameters)==null?void 0:Z.docs,source:{originalSource:`{
  parameters: {
    viewport: {
      defaultViewport: 'mobile1'
    },
    chromatic: {
      viewports: [320]
    }
  }
}`,...(te=(ee=f.parameters)==null?void 0:ee.docs)==null?void 0:te.source}}};var re,oe,ne;L.parameters={...L.parameters,docs:{...(re=L.parameters)==null?void 0:re.docs,source:{originalSource:`{
  ...Mobile,
  parameters: {
    ...Mobile.parameters,
    theme: 'dark'
  }
}`,...(ne=(oe=L.parameters)==null?void 0:oe.docs)==null?void 0:ne.source}}};var ae,ie,se;x.parameters={...x.parameters,docs:{...(ae=x.parameters)==null?void 0:ae.docs,source:{originalSource:`{
  ...Mobile,
  args: {
    managerLayoutState: {
      ...defaultState,
      viewMode: 'docs'
    }
  }
}`,...(se=(ie=x.parameters)==null?void 0:ie.docs)==null?void 0:se.source}}};const Mt=["Desktop","Dark","DesktopHorizontal","DesktopDocs","DesktopPages","Mobile","MobileDark","MobileDocs"];export{y as Dark,E as Desktop,R as DesktopDocs,D as DesktopHorizontal,k as DesktopPages,f as Mobile,L as MobileDark,x as MobileDocs,Mt as __namedExportsOrder,wt as default};
//# sourceMappingURL=Layout.stories-163c278d.js.map
