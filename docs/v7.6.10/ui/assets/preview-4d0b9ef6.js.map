{"version":3,"file":"preview-4d0b9ef6.js","sources":["../../node_modules/@storybook/addon-links/dist/preview.js"],"sourcesContent":["import 'ts-dedent';\nimport { global } from '@storybook/global';\nimport { makeDecorator, addons } from '@storybook/preview-api';\nimport { STORY_CHANGED, SELECT_STORY } from '@storybook/core-events';\nimport '@storybook/csf';\n\n// src/index.ts\nvar PARAM_KEY = `links`;\n\n// src/utils.ts\nvar { document, HTMLElement } = global;\nvar navigate = (params) => addons.getChannel().emit(SELECT_STORY, params);\nvar linksListener = (e) => {\n  const { target } = e;\n  if (!(target instanceof HTMLElement)) {\n    return;\n  }\n  const element = target;\n  const { sbKind: kind, sbStory: story } = element.dataset;\n  if (kind || story) {\n    e.preventDefault();\n    navigate({ kind, story });\n  }\n};\nvar hasListener = false;\nvar on = () => {\n  if (!hasListener) {\n    hasListener = true;\n    document.addEventListener(\"click\", linksListener);\n  }\n};\nvar off = () => {\n  if (hasListener) {\n    hasListener = false;\n    document.removeEventListener(\"click\", linksListener);\n  }\n};\nvar withLinks = makeDecorator({\n  name: \"withLinks\",\n  parameterName: PARAM_KEY,\n  wrapper: (getStory, context) => {\n    on();\n    addons.getChannel().once(STORY_CHANGED, off);\n    return getStory(context);\n  }\n});\n\n// src/preview.ts\nvar decorators = [withLinks];\n\nexport { decorators };\n"],"names":["global","makeDecorator","addons","STORY_CHANGED","SELECT_STORY","PARAM_KEY","document","HTMLElement","navigate","params","linksListener","target","element","kind","story","hasListener","on","off","withLinks","getStory","context","decorators"],"mappings":"4BACA,KAAA,CAAA,OAAAA,CAAA,EAAA,4BACA,CAAA,cAAAC,EAAA,OAAAC,CAAA,EAAA,iCACA,CAAA,cAAAC,EAAA,aAAAC,CAAA,EAAA,iCAIA,IAAIC,EAAY,QAGZ,CAAE,SAAAC,EAAU,YAAAC,CAAa,EAAGP,EAC5BQ,EAAYC,GAAWP,EAAO,WAAY,EAAC,KAAKE,EAAcK,CAAM,EACpEC,EAAiB,GAAM,CACzB,KAAM,CAAE,OAAAC,CAAQ,EAAG,EACnB,GAAI,EAAEA,aAAkBJ,GACtB,OAEF,MAAMK,EAAUD,EACV,CAAE,OAAQE,EAAM,QAASC,CAAO,EAAGF,EAAQ,SAC7CC,GAAQC,KACV,EAAE,eAAc,EAChBN,EAAS,CAAE,KAAAK,EAAM,MAAAC,CAAK,CAAE,EAE5B,EACIC,EAAc,GACdC,EAAK,IAAM,CACRD,IACHA,EAAc,GACdT,EAAS,iBAAiB,QAASI,CAAa,EAEpD,EACIO,EAAM,IAAM,CACVF,IACFA,EAAc,GACdT,EAAS,oBAAoB,QAASI,CAAa,EAEvD,EACIQ,EAAYjB,EAAc,CAC5B,KAAM,YACN,cAAeI,EACf,QAAS,CAACc,EAAUC,KAClBJ,IACAd,EAAO,WAAY,EAAC,KAAKC,EAAec,CAAG,EACpCE,EAASC,CAAO,EAE3B,CAAC,EAGGC,EAAa,CAACH,CAAS","x_google_ignoreList":[0]}