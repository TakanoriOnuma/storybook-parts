import{j as t,a as i,F as f}from"./jsx-runtime-31019b9d.js";import{r as c}from"./index-9f32f44c.js";import{n,u as C}from"./index-9e46a6e4.js";import{h as T,B as W,I as m,v as k}from"./index-0d90a496.js";import{u as L,g as v}from"./index-0d1d6e7e.js";import"./_commonjsHelpers-de833af9.js";import"./iframe-9b8f7ddb.js";import"../sb-preview/runtime.js";import"./index-9c2d1831.js";import"./bundle.esm-ef1ed2af.js";import"./index-b75c9059.js";import"./_getTag-a3fc040c.js";import"./isObjectLike-7c6e5cb8.js";import"./_baseAssignValue-dc207ad3.js";import"./mapValues-e4849353.js";import"./_baseIteratee-b502d39c.js";import"./_baseIsEqual-181029ac.js";import"./isSymbol-6ab5993c.js";import"./_initCloneObject-5b092e6d.js";import"./_getPrototype-7097101e.js";import"./isPlainObject-1556099e.js";import"./index-177da4c8.js";import"./isEqual-8e48f6f6.js";import"./index-356e4a49.js";import"./_basePickBy-58fe527f.js";import"./chunk-LNB2LN6G-b56da3a7.js";import"./index-9ed7e0e5.js";const{global:I}=__STORYBOOK_MODULE_GLOBAL__,x=n.div({top:"50%",position:"absolute",transform:"translateY(-50%)",width:"100%",textAlign:"center"}),q=n.div({position:"relative",height:"32px"}),S=n.div(({theme:e})=>({paddingTop:"12px",color:e.textMutedColor,maxWidth:"295px",margin:"0 auto",fontSize:`${e.typography.size.s1}px`,lineHeight:"16px"})),E=n.div(({theme:e})=>({position:"absolute",width:"100%",bottom:"40px",background:e.background.bar,fontSize:"13px",borderTop:"1px solid",borderColor:e.appBorderColor,padding:"8px 12px",display:"flex",alignItems:"center",justifyContent:"space-between"})),M=n(T)(({theme:e})=>({fontWeight:e.typography.weight.regular,color:e.color.mediumdark,margin:0})),V=n(W)(({theme:e})=>({"&&":{fontSize:"13px",color:e.color.defaultText,margin:0,padding:0,borderRadius:0}})),g=({isNotificationsEnabled:e,onToggleNotifications:a,onCopyLink:o})=>{const r=C(),[d,s]=c.useState("Copy Link"),l=()=>{o(),s("Copied!"),setTimeout(()=>s("Copy Link"),4e3)};return i(E,{children:[i("div",{style:{display:"flex",alignItems:"center",gap:10},children:[t(m,{icon:"heart",color:r.color.mediumdark}),t("div",{children:"Share this with your team."}),t(V,{onClick:l,small:!0,children:d})]}),t(M,{onClick:a,children:e?i(f,{children:[t(m,{icon:"eyeclose"})," Hide notifications"]}):i(f,{children:[t(m,{icon:"eye"})," Show notifications"]})})]})},B=n.iframe({position:"absolute",top:0,left:0,right:0,bottom:0,border:0,margin:0,padding:0,width:"100%",height:"calc(100% - 80px)",background:"white"},({isLoaded:e})=>({visibility:e?"visible":"hidden"})),P=n(e=>t(m,{icon:"alert",...e}))(({theme:e})=>({color:e.textMutedColor,width:32,height:32,margin:"0 auto"})),A=()=>i(x,{children:[t(q,{children:t(k,{})}),t(S,{children:"Loading..."})]}),U=()=>i(x,{children:[t(P,{}),t(S,{children:"The page couldn't be loaded. Check your internet connection and try again."})]}),h=({didHitMaxWaitTime:e,isLoaded:a,onLoad:o,url:r,onCopyLink:d,onToggleNotifications:s,isNotificationsEnabled:l})=>i(c.Fragment,{children:[!a&&!e&&t(A,{}),e?t(U,{}):i(f,{children:[t(B,{isLoaded:a,onLoad:o,src:r,title:"What's new?"}),t(g,{isNotificationsEnabled:l,onToggleNotifications:s,onCopyLink:d})]})]}),z=1e4,b=()=>{const e=L(),a=v(),{whatsNewData:o}=a,[r,d]=c.useState(!1),[s,l]=c.useState(!1);if(c.useEffect(()=>{const p=setTimeout(()=>!r&&l(!0),z);return()=>clearTimeout(p)},[r]),(o==null?void 0:o.status)!=="SUCCESS")return null;const y=!o.disableWhatsNewNotifications;return t(h,{didHitMaxWaitTime:s,isLoaded:r,onLoad:()=>{e.whatsNewHasBeenRead(),d(!0)},url:o.url,isNotificationsEnabled:y,onCopyLink:()=>{var p;(p=navigator.clipboard)==null||p.writeText(o.blogUrl??o.url)},onToggleNotifications:()=>{y?I.confirm("All update notifications will no longer be shown. Are you sure?")&&e.toggleWhatsNewNotifications():e.toggleWhatsNewNotifications()}})};try{g.displayName="WhatsNewFooter",g.__docgenInfo={description:"",displayName:"WhatsNewFooter",props:{isNotificationsEnabled:{defaultValue:null,description:"",name:"isNotificationsEnabled",required:!0,type:{name:"boolean"}},onToggleNotifications:{defaultValue:null,description:"",name:"onToggleNotifications",required:!1,type:{name:"(() => void)"}},onCopyLink:{defaultValue:null,description:"",name:"onCopyLink",required:!1,type:{name:"(() => void)"}}}}}catch{}try{b.displayName="WhatsNewScreen",b.__docgenInfo={description:"",displayName:"WhatsNewScreen",props:{}}}catch{}try{h.displayName="PureWhatsNewScreen",h.__docgenInfo={description:"",displayName:"PureWhatsNewScreen",props:{didHitMaxWaitTime:{defaultValue:null,description:"",name:"didHitMaxWaitTime",required:!0,type:{name:"boolean"}},isLoaded:{defaultValue:null,description:"",name:"isLoaded",required:!0,type:{name:"boolean"}},onLoad:{defaultValue:null,description:"",name:"onLoad",required:!0,type:{name:"() => void"}},url:{defaultValue:null,description:"",name:"url",required:!1,type:{name:"string"}},isNotificationsEnabled:{defaultValue:null,description:"",name:"isNotificationsEnabled",required:!0,type:{name:"boolean"}},onCopyLink:{defaultValue:null,description:"",name:"onCopyLink",required:!1,type:{name:"(() => void)"}},onToggleNotifications:{defaultValue:null,description:"",name:"onToggleNotifications",required:!1,type:{name:"(() => void)"}}}}}catch{}const me={component:g},u={args:{isNotificationsEnabled:!1},parameters:{design:{type:"figma",url:"https://www.figma.com/file/ur4kydUbRqdDyfoZWzdiIw/Storybook-app?type=design&node-id=9562-117308&mode=design&t=dJUhQrYPI3PCqPg2-4"}}};var w,N,_;u.parameters={...u.parameters,docs:{...(w=u.parameters)==null?void 0:w.docs,source:{originalSource:`{
  args: {
    isNotificationsEnabled: false
  },
  parameters: {
    design: {
      type: 'figma',
      url: 'https://www.figma.com/file/ur4kydUbRqdDyfoZWzdiIw/Storybook-app?type=design&node-id=9562-117308&mode=design&t=dJUhQrYPI3PCqPg2-4'
    }
  }
}`,...(_=(N=u.parameters)==null?void 0:N.docs)==null?void 0:_.source}}};const ge=["Default"];export{u as Default,ge as __namedExportsOrder,me as default};
//# sourceMappingURL=whats_new_footer.stories-44b9e2a7.js.map
