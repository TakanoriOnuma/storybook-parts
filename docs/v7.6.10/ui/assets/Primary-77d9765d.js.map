{"version":3,"file":"Primary-77d9765d.js","sources":["../../ui/blocks/src/blocks/Primary.tsx"],"sourcesContent":["import type { FC } from 'react';\nimport React, { useContext } from 'react';\nimport dedent from 'ts-dedent';\nimport { deprecate } from '@storybook/client-logger';\nimport type { Of } from './useOf';\nimport { useOf } from './useOf';\nimport { DocsContext } from './DocsContext';\nimport { DocsStory } from './DocsStory';\n\ninterface PrimaryProps {\n  /**\n   * @deprecated Primary block should only be used to render the primary story, which is automatically found.\n   */\n  name?: string;\n  /**\n   * Specify where to get the primary story from.\n   */\n  of?: Of;\n}\n\nexport const Primary: FC<PrimaryProps> = (props) => {\n  const { name, of } = props;\n\n  if ('of' in props && of === undefined) {\n    throw new Error('Unexpected `of={undefined}`, did you mistype a CSF file reference?');\n  }\n\n  const docsContext = useContext(DocsContext);\n\n  let story;\n  if (of) {\n    const resolvedOf = useOf(of || 'meta', ['meta']);\n    story = resolvedOf.csfFile.stories[0] || null;\n  }\n\n  if (!story) {\n    const storyId = name && docsContext.storyIdByName(name);\n    story = docsContext.storyById(storyId);\n  }\n\n  if (name) {\n    deprecate(dedent`\\`name\\` prop is deprecated on the Primary block.\n    The Primary block should only be used to render the primary story, which is automatically found.\n    `);\n  }\n\n  return story ? (\n    <DocsStory of={story.moduleExport} expanded={false} __primary withToolbar />\n  ) : null;\n};\n"],"names":["deprecate","Primary","props","name","of","docsContext","useContext","DocsContext","story","useOf","storyId","dedent","jsx","DocsStory"],"mappings":"gQAGA,KAAA,CAAA,UAAAA,CAAA,EAAA,mCAiBOC,EAAAC,GAAA,CACL,KAAA,CAAA,KAAAC,EAAA,GAAAC,CAAA,EAAAF,EAEA,GAAA,OAAAA,GAAAE,IAAA,OACE,MAAA,IAAA,MAAA,oEAAA,EAGF,MAAAC,EAAAC,aAAAC,CAAA,EAEA,IAAAC,EAMA,GALAJ,IAEEI,EADAC,EAAAL,GAAA,OAAA,CAAA,MAAA,CAAA,EACA,QAAA,QAAA,CAAA,GAAA,MAGF,CAAAI,EAAA,CACE,MAAAE,EAAAP,GAAAE,EAAA,cAAAF,CAAA,EACAK,EAAAH,EAAA,UAAAK,CAAA,CAAqC,CAGvC,OAAAP,GACEH,EAAAW;AAAA;AAAA,KAAU,EAKZH,EAAAI,EAAAC,EAAA,CAAA,GAAAL,EAAA,aAAA,SAAA,GAAA,UAAA,GAAA,YAAA,EAAA,CAAA,EAAA,IAGF"}