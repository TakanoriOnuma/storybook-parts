{"version":3,"file":"NotificationItem-758341bb.js","sources":["../../ui/manager/src/components/notifications/NotificationItem.tsx"],"sourcesContent":["import type { FC, SyntheticEvent } from 'react';\nimport React from 'react';\nimport { type State } from '@storybook/manager-api';\nimport { Link } from '@storybook/router';\nimport { styled, useTheme } from '@storybook/theming';\nimport { Icons, IconButton, type IconsProps } from '@storybook/components';\nimport { transparentize } from 'polished';\n\nconst Notification = styled.div(({ theme }) => ({\n  position: 'relative',\n  display: 'flex',\n  padding: 15,\n  width: 280,\n  borderRadius: 4,\n  alignItems: 'center',\n\n  background: theme.base === 'light' ? 'hsla(203, 50%, 20%, .97)' : 'hsla(203, 30%, 95%, .97)',\n  boxShadow: `0 2px 5px 0 rgba(0,0,0,0.05), 0 5px 15px 0 rgba(0,0,0,0.1)`,\n  color: theme.color.inverseText,\n  textDecoration: 'none',\n}));\n\nconst NotificationWithInteractiveStates = styled(Notification)(() => ({\n  transition: 'all 150ms ease-out',\n  transform: 'translate3d(0, 0, 0)',\n  '&:hover': {\n    transform: 'translate3d(0, -3px, 0)',\n    boxShadow:\n      '0 1px 3px 0 rgba(30,167,253,0.5), 0 2px 5px 0 rgba(0,0,0,0.05), 0 5px 15px 0 rgba(0,0,0,0.1)',\n  },\n  '&:active': {\n    transform: 'translate3d(0, 0, 0)',\n    boxShadow:\n      '0 1px 3px 0 rgba(30,167,253,0.5), 0 2px 5px 0 rgba(0,0,0,0.05), 0 5px 15px 0 rgba(0,0,0,0.1)',\n  },\n  '&:focus': {\n    boxShadow:\n      '0 1px 3px 0 rgba(30,167,253,0.5), 0 2px 5px 0 rgba(0,0,0,0.05), 0 5px 15px 0 rgba(0,0,0,0.1)',\n  },\n}));\nconst NotificationLink = NotificationWithInteractiveStates.withComponent(Link);\n\nconst NotificationIconWrapper = styled.div(() => ({\n  display: 'flex',\n  marginRight: 10,\n  alignItems: 'center',\n}));\n\nconst NotificationTextWrapper = styled.div(() => ({\n  width: '100%',\n  display: 'flex',\n  flexDirection: 'column',\n}));\n\nconst Headline = styled.div<{ hasIcon: boolean }>(({ theme, hasIcon }) => ({\n  height: '100%',\n  width: hasIcon ? 205 : 230,\n  alignItems: 'center',\n  whiteSpace: 'nowrap',\n  overflow: 'hidden',\n  textOverflow: 'ellipsis',\n  fontSize: theme.typography.size.s1,\n  lineHeight: '16px',\n  fontWeight: theme.typography.weight.bold,\n}));\n\nconst SubHeadline = styled.div(({ theme }) => ({\n  color: transparentize(0.25, theme.color.inverseText),\n  fontSize: theme.typography.size.s1 - 1,\n  lineHeight: '14px',\n  marginTop: 2,\n}));\n\nconst ItemContent: FC<Pick<State['notifications'][0], 'icon' | 'content'>> = ({\n  icon,\n  content: { headline, subHeadline },\n}) => {\n  const theme = useTheme();\n  const defaultColor = theme.base === 'dark' ? theme.color.mediumdark : theme.color.mediumlight;\n  return (\n    <>\n      {!icon || (\n        <NotificationIconWrapper>\n          <Icons\n            icon={icon.name as IconsProps['icon']}\n            width={16}\n            height={16}\n            color={icon.color || defaultColor}\n          />\n        </NotificationIconWrapper>\n      )}\n      <NotificationTextWrapper>\n        <Headline title={headline} hasIcon={!!icon}>\n          {headline}\n        </Headline>\n        {subHeadline && <SubHeadline>{subHeadline}</SubHeadline>}\n      </NotificationTextWrapper>\n    </>\n  );\n};\n\nconst DismissButtonWrapper = styled(IconButton)(({ theme }) => ({\n  alignSelf: 'center',\n  marginTop: 0,\n  color: theme.base === 'light' ? 'rgba(255,255,255,0.7)' : ' #999999',\n}));\n\nconst DismissNotificationItem: FC<{\n  onDismiss: () => void;\n}> = ({ onDismiss }) => (\n  <DismissButtonWrapper\n    title=\"Dismiss notification\"\n    onClick={(e: SyntheticEvent) => {\n      e.preventDefault();\n      onDismiss();\n    }}\n  >\n    <Icons icon=\"closeAlt\" height={12} width={12} />\n  </DismissButtonWrapper>\n);\n\nexport const NotificationItemSpacer = styled.div({\n  height: 48,\n});\n\nconst NotificationItem: FC<{\n  notification: State['notifications'][0];\n  onDismissNotification: (id: string) => void;\n}> = ({ notification: { content, link, onClear, id, icon }, onDismissNotification }) => {\n  const dismissNotificationItem = () => {\n    onDismissNotification(id);\n    if (onClear) {\n      onClear({ dismissed: true });\n    }\n  };\n  return link ? (\n    <NotificationLink to={link}>\n      <ItemContent icon={icon} content={content} />\n      <DismissNotificationItem onDismiss={dismissNotificationItem} />\n    </NotificationLink>\n  ) : (\n    <Notification>\n      <ItemContent icon={icon} content={content} />\n      <DismissNotificationItem onDismiss={dismissNotificationItem} />\n    </Notification>\n  );\n};\n\nexport default NotificationItem;\n"],"names":["Notification","styled","theme","NotificationWithInteractiveStates","NotificationLink","Link","NotificationIconWrapper","NotificationTextWrapper","Headline","hasIcon","SubHeadline","transparentize","ItemContent","icon","headline","subHeadline","useTheme","defaultColor","jsxs","Fragment","jsx","Icons","DismissButtonWrapper","IconButton","DismissNotificationItem","onDismiss","NotificationItemSpacer","NotificationItem","content","link","onClear","id","onDismissNotification","dismissNotificationItem","NotificationItem$1"],"mappings":"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"}