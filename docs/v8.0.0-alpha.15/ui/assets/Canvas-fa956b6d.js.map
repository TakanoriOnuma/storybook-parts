{"version":3,"file":"Canvas-fa956b6d.js","sources":["../../ui/blocks/src/blocks/Canvas.tsx"],"sourcesContent":["/* eslint-disable react/destructuring-assignment */\nimport React, { useContext } from 'react';\nimport type { FC } from 'react';\nimport type { ModuleExport, ModuleExports } from '@storybook/types';\nimport type { Layout, PreviewProps as PurePreviewProps } from '../components';\nimport { Preview as PurePreview } from '../components';\nimport { DocsContext } from './DocsContext';\nimport { SourceContext } from './SourceContainer';\nimport type { SourceProps } from './Source';\nimport { useSourceProps } from './Source';\nimport type { StoryProps } from './Story';\nimport { Story } from './Story';\nimport { useOf } from './useOf';\n\ntype CanvasProps = Pick<PurePreviewProps, 'withToolbar' | 'additionalActions' | 'className'> & {\n  /**\n   * Pass the export defining a story to render that story\n   *\n   * ```jsx\n   * import { Meta, Canvas } from '@storybook/blocks';\n   * import * as ButtonStories from './Button.stories';\n   *\n   * <Meta of={ButtonStories} />\n   * <Canvas of={ButtonStories.Primary} />\n   * ```\n   */\n  of?: ModuleExport;\n  /**\n   * Pass all exports of the CSF file if this MDX file is unattached\n   *\n   * ```jsx\n   * import { Canvas } from '@storybook/blocks';\n   * import * as ButtonStories from './Button.stories';\n   *\n   * <Canvas of={ButtonStories.Primary} meta={ButtonStories} />\n   * ```\n   */\n  meta?: ModuleExports;\n  /**\n   * Specify the initial state of the source panel\n   * hidden: the source panel is hidden by default\n   * shown: the source panel is shown by default\n   * none: the source panel is not available and the button to show it is hidden\n   * @default 'hidden'\n   */\n  sourceState?: 'hidden' | 'shown' | 'none';\n  /**\n   * how to layout the story within the canvas\n   * padded: the story has padding within the canvas\n   * fullscreen: the story is rendered edge to edge within the canvas\n   * centered: the story is centered within the canvas\n   * @default 'padded'\n   */\n  layout?: Layout;\n  /**\n   * @see {SourceProps}\n   */\n  source?: Omit<SourceProps, 'dark'>;\n  /**\n   * @see {StoryProps}\n   */\n  story?: Pick<StoryProps, 'inline' | 'height' | 'autoplay' | '__forceInitialArgs' | '__primary'>;\n};\n\nexport const Canvas: FC<CanvasProps> = (props) => {\n  const docsContext = useContext(DocsContext);\n  const sourceContext = useContext(SourceContext);\n  const { of, source } = props;\n  if ('of' in props && of === undefined) {\n    throw new Error('Unexpected `of={undefined}`, did you mistype a CSF file reference?');\n  }\n\n  const { story } = useOf(of || 'story', ['story']);\n  const sourceProps = useSourceProps({ ...source, ...(of && { of }) }, docsContext, sourceContext);\n\n  const layout =\n    props.layout ?? story.parameters.layout ?? story.parameters.docs?.canvas?.layout ?? 'padded';\n  const withToolbar = props.withToolbar ?? story.parameters.docs?.canvas?.withToolbar ?? false;\n  const additionalActions =\n    props.additionalActions ?? story.parameters.docs?.canvas?.additionalActions;\n  const sourceState = props.sourceState ?? story.parameters.docs?.canvas?.sourceState ?? 'hidden';\n  const className = props.className ?? story.parameters.docs?.canvas?.className;\n\n  return (\n    <PurePreview\n      withSource={sourceState === 'none' ? undefined : sourceProps}\n      isExpanded={sourceState === 'shown'}\n      withToolbar={withToolbar}\n      additionalActions={additionalActions}\n      className={className}\n      layout={layout}\n    >\n      <Story of={of || story.moduleExport} meta={props.meta} {...props.story} />\n    </PurePreview>\n  );\n};\n"],"names":["Canvas","props","docsContext","useContext","DocsContext","sourceContext","SourceContext","of","source","story","useOf","sourceProps","useSourceProps","layout","_b","_a","withToolbar","_d","_c","additionalActions","_f","_e","sourceState","_h","_g","className","_j","_i","React","PurePreview","Story"],"mappings":"uQAgEA,MAAAA,EAAAC,GAAA,yBACA,MAAAC,EAAAC,aAAAC,CAAA,EACAC,EAAAF,aAAAG,CAAA,EACA,CAAA,GAAAC,EAAA,OAAAC,CAAA,EAAAP,EACA,GAAA,OAAAA,GAAAM,IAAA,OACA,MAAA,IAAA,MAAA,oEAAA,EAGA,KAAA,CAAA,MAAAE,GAAAC,EAAAH,GAAA,QAAA,CAAA,OAAA,CAAA,EACAI,EAAAC,EAAA,CAAA,GAAAJ,EAAA,GAAAD,GAAA,CAAA,GAAAA,CAAA,CAAA,EAAAL,EAAAG,CAAA,EAEAQ,EACAZ,EAAA,QAAAQ,EAAA,WAAA,UAAAK,GAAAC,EAAAN,EAAA,WAAA,OAAA,YAAAM,EAAA,SAAA,YAAAD,EAAA,SAAA,SACAE,EAAAf,EAAA,eAAAgB,GAAAC,EAAAT,EAAA,WAAA,OAAA,YAAAS,EAAA,SAAA,YAAAD,EAAA,cAAA,GACAE,EACAlB,EAAA,qBAAAmB,GAAAC,EAAAZ,EAAA,WAAA,OAAA,YAAAY,EAAA,SAAA,YAAAD,EAAA,mBACAE,EAAArB,EAAA,eAAAsB,GAAAC,EAAAf,EAAA,WAAA,OAAA,YAAAe,EAAA,SAAA,YAAAD,EAAA,cAAA,SACAE,EAAAxB,EAAA,aAAAyB,GAAAC,EAAAlB,EAAA,WAAA,OAAA,YAAAkB,EAAA,SAAA,YAAAD,EAAA,WAGA,OAAAE,EAAA,cAAAC,EAAA,CACA,WAAAP,IAAA,OAAA,OAAAX,EACA,WAAAW,IAAA,QACA,YAAAN,EACA,kBAAAG,EACA,UAAAM,EACA,OAAAZ,CAAA,EAEAe,EAAA,cAAAE,EAAA,CAAA,GAAAvB,GAAAE,EAAA,aAAA,KAAAR,EAAA,KAAA,GAAAA,EAAA,KAAA,CAAA,CAAA,CAGA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}