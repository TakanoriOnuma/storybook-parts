import{r as C,R as D}from"./index-6f814c40.js";import{j as Ce,y as ie,e as Le,i as oe,n as it,a as ot,o as ct,c as ut,f as lt,q as ft}from"./_getTag-17cccba0.js";import{_ as Ne,a as ht}from"./_baseAssignValue-531dc4d6.js";import{_ as dt,a as pt,m as gt}from"./mapValues-511dc51c.js";import{_ as vt,k as $e,c as yt,b as St,d as mt,e as _t}from"./keysIn-d555f552.js";import{i as bt,a as ce,d as wt}from"./isObjectLike-dbd718f5.js";import{i as Ot}from"./isPlainObject-9af51d09.js";import{i as Ae,_ as Et,h as Rt}from"./_baseIteratee-11045650.js";import{c as K}from"./_commonjsHelpers-042e6b4d.js";import{s as Tt,p as xt}from"./index-ee3f53bc.js";import{i as Ct}from"./isEqual-09b8ceb9.js";import{s as T}from"./index-d475d2ea.js";import{m as V,g as Lt}from"./index-5a529529.js";import{N as M,L as ee}from"./index-569f0cbf.js";import{d as De}from"./index-356e4a49.js";import{_ as Nt}from"./_basePickBy-ac4ea461.js";import{s as x}from"./index-a0fdfe9c.js";import{a as $t,b as he}from"./chunk-P672VJMD-915057e7.js";var At=Ne,Dt=Ce;function kt(e,t,n){(n!==void 0&&!Dt(e[t],n)||n===void 0&&!(t in e))&&At(e,t,n)}var ke=kt,Pt=ie,jt=bt;function Mt(e){return jt(e)&&Pt(e)}var Ft=Mt;function Ut(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var Pe=Ut,Vt=vt,It=$e;function Gt(e){return Vt(e,It(e))}var Bt=Gt,de=ke,Kt=yt,Yt=St,Ht=mt,zt=_t,pe=Le,ge=oe,qt=Ft,Wt=it,Qt=ot,Xt=ce,Jt=Ot,Zt=ct,ve=Pe,er=Bt;function tr(e,t,n,r,o,i,a){var s=ve(e,n),c=ve(t,n),l=a.get(c);if(l){de(e,n,l);return}var u=i?i(s,c,n+"",e,t,a):void 0,f=u===void 0;if(f){var h=ge(c),d=!h&&Wt(c),p=!h&&!d&&Zt(c);u=c,h||d||p?ge(s)?u=s:qt(s)?u=Ht(s):d?(f=!1,u=Kt(c,!0)):p?(f=!1,u=Yt(c,!0)):u=[]:Jt(c)||pe(c)?(u=s,pe(s)?u=er(s):(!Xt(s)||Qt(s))&&(u=zt(c))):f=!1}f&&(a.set(c,u),o(u,c,r,i,a),a.delete(c)),de(e,n,u)}var rr=tr,nr=ut,sr=ke,ar=dt,ir=rr,or=ce,cr=$e,ur=Pe;function je(e,t,n,r,o){e!==t&&ar(t,function(i,a){if(o||(o=new nr),or(i))ir(e,t,a,n,je,r,o);else{var s=r?r(ur(e,a),i,a+"",e,t,o):void 0;s===void 0&&(s=i),sr(e,a,s)}},cr)}var lr=je;function fr(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var hr=fr,dr=hr,ye=Math.max;function pr(e,t,n){return t=ye(t===void 0?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=ye(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),dr(e,this,s)}}var Me=pr;function gr(e){return function(){return e}}var vr=gr,yr=vr,Se=ht,Sr=Ae,mr=Se?function(e,t){return Se(e,"toString",{configurable:!0,enumerable:!1,value:yr(t),writable:!0})}:Sr,_r=mr,br=800,wr=16,Or=Date.now;function Er(e){var t=0,n=0;return function(){var r=Or(),o=wr-(r-n);if(n=r,o>0){if(++t>=br)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Rr=Er,Tr=_r,xr=Rr,Cr=xr(Tr),Fe=Cr,Lr=Ae,Nr=Me,$r=Fe;function Ar(e,t){return $r(Nr(e,t,Lr),e+"")}var Dr=Ar,kr=Ce,Pr=ie,jr=lt,Mr=ce;function Fr(e,t,n){if(!Mr(n))return!1;var r=typeof t;return(r=="number"?Pr(n)&&jr(t,n.length):r=="string"&&t in n)?kr(n[t],e):!1}var Ur=Fr,Vr=Dr,Ir=Ur;function Gr(e){return Vr(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&typeof i=="function"?(o--,i):void 0,a&&Ir(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var s=n[r];s&&e(t,s,r,i)}return t})}var Br=Gr,Kr=lr,Yr=Br,Hr=Yr(function(e,t,n,r){Kr(e,t,n,r)}),Ue=Hr,N={},zr={get exports(){return N},set exports(e){N=e}};/*! store2 - v2.14.2 - 2022-07-18
* Copyright (c) 2022 Nathan Bubna; Licensed (MIT OR GPL-3.0) */(function(e){(function(t,n){var r={version:"2.14.2",areas:{},apis:{},nsdelim:".",inherit:function(i,a){for(var s in i)a.hasOwnProperty(s)||Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(i,s));return a},stringify:function(i,a){return i===void 0||typeof i=="function"?i+"":JSON.stringify(i,a||r.replace)},parse:function(i,a){try{return JSON.parse(i,a||r.revive)}catch{return i}},fn:function(i,a){r.storeAPI[i]=a;for(var s in r.apis)r.apis[s][i]=a},get:function(i,a){return i.getItem(a)},set:function(i,a,s){i.setItem(a,s)},remove:function(i,a){i.removeItem(a)},key:function(i,a){return i.key(a)},length:function(i){return i.length},clear:function(i){i.clear()},Store:function(i,a,s){var c=r.inherit(r.storeAPI,function(u,f,h){return arguments.length===0?c.getAll():typeof f=="function"?c.transact(u,f,h):f!==void 0?c.set(u,f,h):typeof u=="string"||typeof u=="number"?c.get(u):typeof u=="function"?c.each(u):u?c.setAll(u,f):c.clear()});c._id=i;try{var l="__store2_test";a.setItem(l,"ok"),c._area=a,a.removeItem(l)}catch{c._area=r.storage("fake")}return c._ns=s||"",r.areas[i]||(r.areas[i]=c._area),r.apis[c._ns+c._id]||(r.apis[c._ns+c._id]=c),c},storeAPI:{area:function(i,a){var s=this[i];return(!s||!s.area)&&(s=r.Store(i,a,this._ns),this[i]||(this[i]=s)),s},namespace:function(i,a,s){if(s=s||this._delim||r.nsdelim,!i)return this._ns?this._ns.substring(0,this._ns.length-s.length):"";var c=i,l=this[c];if((!l||!l.namespace)&&(l=r.Store(this._id,this._area,this._ns+c+s),l._delim=s,this[c]||(this[c]=l),!a))for(var u in r.areas)l.area(u,r.areas[u]);return l},isFake:function(i){return i?(this._real=this._area,this._area=r.storage("fake")):i===!1&&(this._area=this._real||this._area),this._area.name==="fake"},toString:function(){return"store"+(this._ns?"."+this.namespace():"")+"["+this._id+"]"},has:function(i){return this._area.has?this._area.has(this._in(i)):this._in(i)in this._area},size:function(){return this.keys().length},each:function(i,a){for(var s=0,c=r.length(this._area);s<c;s++){var l=this._out(r.key(this._area,s));if(l!==void 0&&i.call(this,l,this.get(l),a)===!1)break;c>r.length(this._area)&&(c--,s--)}return a||this},keys:function(i){return this.each(function(a,s,c){c.push(a)},i||[])},get:function(i,a){var s=r.get(this._area,this._in(i)),c;return typeof a=="function"&&(c=a,a=null),s!==null?r.parse(s,c):a??s},getAll:function(i){return this.each(function(a,s,c){c[a]=s},i||{})},transact:function(i,a,s){var c=this.get(i,s),l=a(c);return this.set(i,l===void 0?c:l),this},set:function(i,a,s){var c=this.get(i),l;return c!=null&&s===!1?a:(typeof s=="function"&&(l=s,s=void 0),r.set(this._area,this._in(i),r.stringify(a,l),s)||c)},setAll:function(i,a){var s,c;for(var l in i)c=i[l],this.set(l,c,a)!==c&&(s=!0);return s},add:function(i,a,s){var c=this.get(i);if(c instanceof Array)a=c.concat(a);else if(c!==null){var l=typeof c;if(l===typeof a&&l==="object"){for(var u in a)c[u]=a[u];a=c}else a=c+a}return r.set(this._area,this._in(i),r.stringify(a,s)),a},remove:function(i,a){var s=this.get(i,a);return r.remove(this._area,this._in(i)),s},clear:function(){return this._ns?this.each(function(i){r.remove(this._area,this._in(i))},1):r.clear(this._area),this},clearAll:function(){var i=this._area;for(var a in r.areas)r.areas.hasOwnProperty(a)&&(this._area=r.areas[a],this.clear());return this._area=i,this},_in:function(i){return typeof i!="string"&&(i=r.stringify(i)),this._ns?this._ns+i:i},_out:function(i){return this._ns?i&&i.indexOf(this._ns)===0?i.substring(this._ns.length):void 0:i}},storage:function(i){return r.inherit(r.storageAPI,{items:{},name:i})},storageAPI:{length:0,has:function(i){return this.items.hasOwnProperty(i)},key:function(i){var a=0;for(var s in this.items)if(this.has(s)&&i===a++)return s},setItem:function(i,a){this.has(i)||this.length++,this.items[i]=a},removeItem:function(i){this.has(i)&&(delete this.items[i],this.length--)},getItem:function(i){return this.has(i)?this.items[i]:null},clear:function(){for(var i in this.items)this.removeItem(i)}}},o=r.Store("local",function(){try{return localStorage}catch{}}());o.local=o,o._=r,o.area("session",function(){try{return sessionStorage}catch{}}()),o.area("page",r.storage("page")),typeof n=="function"&&n.amd!==void 0?n("store2",[],function(){return o}):e.exports?e.exports=o:(t.store&&(r.conflict=t.store),t.store=o)})(K,K&&K.define)})(zr);var ue=(e=>(e.TAB="tab",e.PANEL="panel",e.TOOL="tool",e.TOOLEXTRA="toolextra",e.PREVIEW="preview",e.NOTES_ELEMENT="notes-element",e))(ue||{});function qr(e,t,n,r){for(var o=-1,i=e==null?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}var Wr=qr,Qr=ie;function Xr(e,t){return function(n,r){if(n==null)return n;if(!Qr(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Object(n);(t?i--:++i<o)&&r(a[i],i,a)!==!1;);return n}}var Jr=Xr,Zr=pt,en=Jr,tn=en(Zr),rn=tn,nn=rn;function sn(e,t,n,r){return nn(e,function(o,i,a){t(r,o,n(o),a)}),r}var an=sn,on=Wr,cn=an,un=Et,ln=oe;function fn(e,t){return function(n,r){var o=ln(n)?on:cn,i=t?t():{};return o(n,e,un(r),i)}}var hn=fn,dn=Ne,pn=hn,gn=Object.prototype,vn=gn.hasOwnProperty,yn=pn(function(e,t,n){vn.call(e,n)?++e[n]:dn(e,n,1)}),Sn=yn,mn=Nt,_n=Rt;function bn(e,t){return mn(e,t,function(n,r){return _n(e,r)})}var wn=bn,me=wt,On=Le,En=oe,_e=me?me.isConcatSpreadable:void 0;function Rn(e){return En(e)||On(e)||!!(_e&&e&&e[_e])}var Tn=Rn,xn=ft,Cn=Tn;function Ve(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=Cn),o||(o=[]);++i<a;){var s=e[i];t>0&&n(s)?t>1?Ve(s,t-1,n,r,o):xn(o,s):r||(o[o.length]=s)}return o}var Ln=Ve,Nn=Ln;function $n(e){var t=e==null?0:e.length;return t?Nn(e,1):[]}var An=$n,Dn=An,kn=Me,Pn=Fe;function jn(e){return Pn(kn(e,void 0,Dn),e+"")}var Mn=jn,Fn=wn,Un=Mn,Vn=Un(function(e,t){return e==null?{}:Fn(e,t)}),P=Vn,be=Object.prototype.hasOwnProperty;function we(e,t,n){for(n of e.keys())if(R(n,t))return n}function R(e,t){var n,r,o;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&R(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if(o=r,o&&typeof o=="object"&&(o=we(t,o),!o)||!t.has(o))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if(o=r[0],o&&typeof o=="object"&&(o=we(t,o),!o)||!R(r[1],t.get(o)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(be.call(e,n)&&++r&&!be.call(t,n)||!(n in t)||!R(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}const{SET_CONFIG:te,SHARED_STATE_CHANGED:$a,STORIES_COLLAPSE_ALL:In,STORIES_EXPAND_ALL:Gn,UPDATE_STORY_ARGS:Bn,RESET_STORY_ARGS:Kn,STORY_SPECIFIED:Yn,CURRENT_STORY_WAS_SET:Hn,STORY_CHANGED:zn,STORY_PREPARED:qn,PRELOAD_ENTRIES:Wn,DOCS_PREPARED:Qn,SET_INDEX:Xn,SET_STORIES:Jn,SELECT_STORY:Zn,STORY_ARGS_UPDATED:Ie,CONFIG_ERROR:es,STORY_MISSING:ts,STORY_INDEX_INVALIDATED:rs,FORCE_REMOUNT:ns,PREVIEW_KEYDOWN:ss,UPDATE_QUERY_PARAMS:as,SET_CURRENT_STORY:is,GLOBALS_UPDATED:Ge,NAVIGATE_URL:os,UPDATE_GLOBALS:cs,SET_GLOBALS:us,SHARED_STATE_SET:Aa}=__STORYBOOK_MODULE_CORE_EVENTS__,{logger:k,deprecate:Y}=__STORYBOOK_MODULE_CLIENT_LOGGER__,{Channel:ls}=__STORYBOOK_MODULE_CHANNELS__;var fs=Object.defineProperty,E=(e,t)=>{for(var n in t)fs(e,n,{get:t[n],enumerable:!0})},hs=({api:e,state:t})=>C.createContext({api:e,state:t}),ds=e=>{e.fn("set",function(t,n){return e.set(this._area,this._in(t),Tt(n,{maxDepth:50}))}),e.fn("get",function(t,n){const r=e.get(this._area,this._in(t));return r!==null?xt(r):n||r})};ds(N._);var Be="@storybook/manager/store";function re(e){return e.get(Be)||{}}function ps(e,t){return e.set(Be,t)}function gs(e,t){const n=re(e);return ps(e,{...n,...t})}var vs=class{constructor({setState:e,getState:t}){this.upstreamSetState=e,this.upstreamGetState=t}getInitialState(e){return{...e,...re(N.local),...re(N.session)}}getState(){return this.upstreamGetState()}async setState(e,t,n){let r,o;typeof t=="function"?(r=t,o=n):o=t;const{persistence:i="none"}=o||{};let a={},s={};typeof e=="function"?a=l=>(s=e(l),s):(a=e,s=a);const c=await new Promise(l=>{this.upstreamSetState(a,l)});if(i!=="none"){const l=i==="session"?N.session:N.local;await gs(l,s)}return r&&r(c),c}},$=(e,t)=>Ue({},e,t,(n,r)=>{if(Array.isArray(r)&&Array.isArray(n))return r.forEach(o=>{n.find(a=>a===o||Ct(a,o))||n.push(o)}),n;if(Array.isArray(n))return k.log(["the types mismatch, picking",n]),n}),ys=(...e)=>e.reduce((t,n)=>$(t,n),{}),ne=ys,Ke={};E(Ke,{init:()=>Ss});var Ss=({provider:e,fullAPI:t})=>({api:e.renderPreview?{renderPreview:e.renderPreview}:{},state:{},init:()=>{e.handleAPI(t)}}),Ye={};E(Ye,{ensurePanel:()=>se,init:()=>ms});function se(e,t,n){const r=Object.keys(e);return r.indexOf(t)>=0?t:r.length?r[0]:n}var ms=({provider:e,store:t,fullAPI:n})=>{const r={getElements:o=>e.getElements(o),getPanels:()=>r.getElements(ue.PANEL),getStoryPanels:()=>{const o=r.getPanels(),{storyId:i}=t.getState(),a=n.getData(i);if(!o||!a||a.type!=="story")return o;const{parameters:s}=a,c={};return Object.entries(o).forEach(([l,u])=>{const{paramKey:f}=u;f&&s&&s[f]&&s[f].disable||(c[l]=u)}),c},getSelectedPanel:()=>{const{selectedPanel:o}=t.getState();return se(r.getPanels(),o,o)},setSelectedPanel:o=>{t.setState({selectedPanel:o},{persistence:"session"})},setAddonState(o,i,a){let s;const{addons:c}=t.getState();return typeof i=="function"?s=i(r.getAddonState(o)):s=i,t.setState({addons:{...c,[o]:s}},a).then(()=>r.getAddonState(o))},getAddonState:o=>t.getState().addons[o]};return{api:r,state:{selectedPanel:se(r.getPanels(),t.getState().selectedPanel),addons:{}}}},He={};E(He,{init:()=>_s});var _s=({provider:e})=>{const t={getChannel:()=>e.channel,on:(n,r)=>(e.channel.addListener(n,r),()=>e.channel.removeListener(n,r)),off:(n,r)=>e.channel.removeListener(n,r),once:(n,r)=>e.channel.once(n,r),emit:(n,r,...o)=>{var i;(i=r==null?void 0:r.options)!=null&&i.target&&r.options.target!=="storybook-preview-iframe"&&!r.options.target.startsWith("storybook-ref-")&&(r.options.target=r.options.target!=="storybook_internal"?`storybook-ref-${r.options.target}`:"storybook-preview-iframe"),e.channel.emit(n,r,...o)},collapseAll:()=>{e.channel.emit(In,{})},expandAll:()=>{t.emit(Gn)}};return{api:t,state:{}}},ze={};E(ze,{init:()=>bs});var bs=({store:e})=>{const t={addNotification:r=>{t.clearNotification(r.id);const{notifications:o}=e.getState();e.setState({notifications:[...o,r]})},clearNotification:r=>{const{notifications:o}=e.getState();e.setState({notifications:o.filter(a=>a.id!==r)});const i=o.find(a=>a.id===r);i&&i.onClear&&i.onClear()}};return{api:t,state:{notifications:[]}}},qe={};E(qe,{init:()=>ws});var ws=({store:e,navigate:t,fullAPI:n})=>{const r=()=>{const{path:i}=n.getUrlState();return!!(i||"").match(/^\/settings/)};return{state:{settings:{lastTrackedStoryId:null}},api:{closeSettings:()=>{const{settings:{lastTrackedStoryId:i}}=e.getState();i?n.selectStory(i):n.selectFirstStory()},changeSettingsTab:i=>{t(`/settings/${i}`)},isSettingsScreenActive:r,navigateToSettingsPage:async i=>{if(!r()){const{settings:a,storyId:s}=e.getState();await e.setState({settings:{...a,lastTrackedStoryId:s}})}t(i)}}}},We={};E(We,{init:()=>Rs});var{RELEASE_NOTES_DATA:Os}=T,Es=V(1)(()=>{try{return{...JSON.parse(Os)||{}}}catch{return{}}}),Rs=({store:e})=>{const t=Es(),n=()=>{const{releaseNotesViewed:o}=e.getState();return o||[]};return{state:{releaseNotesViewed:[]},api:{releaseNotesVersion:()=>t.currentVersion,setDidViewReleaseNotes:()=>{const o=n();o.includes(t.currentVersion)||e.setState({releaseNotesViewed:[...o,t.currentVersion]},{persistence:"permanent"})},showReleaseNotesOnLaunch:()=>{if(!t.currentVersion)return!1;const i=n().includes(t.currentVersion);return t.showOnFirstLaunch&&!i}}}},Qe={};E(Qe,{init:()=>Bs});var Xe={};E(Xe,{defaultStoryMapper:()=>Ze,getSourceType:()=>Je,init:()=>Us});var Ts=/\s*\/\s*/,xs=({globalParameters:e,kindParameters:t,stories:n})=>gt(n,r=>({...r,parameters:ca(e,t[r.kind],r.parameters)})),Cs=(e,{provider:t,docsOptions:n})=>le(Ls(e),{provider:t,docsOptions:n}),Ls=e=>({v:4,entries:Object.entries(e).reduce((n,[r,o])=>{if(!o)return n;const{docsOnly:i,fileName:a,...s}=o.parameters,c={title:o.kind,id:r,name:o.name,importPath:a};if(i)n[r]={type:"docs",tags:["stories-mdx"],storiesImports:[],...c};else{const{argTypes:l,args:u,initialArgs:f}=o;n[r]={type:"story",...c,parameters:s,argTypes:l,args:u,initialArgs:f}}return n},{})}),Ns=e=>({v:3,stories:Object.values(e.stories).reduce((t,n)=>(t[n.id]={...n,title:n.kind,name:n.name||n.story,importPath:n.parameters.fileName||""},t),{})}),$s=e=>{const t=Sn(Object.values(e.stories),"title");return{v:4,entries:Object.values(e.stories).reduce((n,r)=>{var i;let o="story";return((i=r.parameters)!=null&&i.docsOnly||r.name==="Page"&&t[r.title]===1)&&(o="docs"),n[r.id]={type:o,...o==="docs"&&{tags:["stories-mdx"],storiesImports:[]},...r},delete n[r.id].story,delete n[r.id].kind,n},{})}},le=(e,{provider:t,docsOptions:n})=>{if(!e.v)throw new Error("Composition: Missing stories.json version");let r=e;r=r.v===2?Ns(r):r,r=r.v===3?$s(r):r,r=r;const o=Object.values(r.entries),{sidebar:i={}}=t.getConfig(),{showRoots:a,collapsedRoots:s=[],renderLabel:c}=i,l=typeof a<"u",u=Object.values(o).reduce((d,p)=>{if(n.docsMode&&p.type!=="docs")return d;const{title:g}=p,v=g.trim().split(Ts),y=(!l||a)&&v.length>1?[v.shift()]:[],b=[...y,...v],m=b.reduce((S,_,w)=>{const G=w>0&&S[w-1],B=ee(G?`${G}-${_}`:_);if(G===B)throw new Error(De`
          Invalid part '${_}', leading to id === parentId ('${B}'), inside title '${g}'
          
          Did you create a path that uses the separator char accidentally, such as 'Vue <docs/>' where '/' is a separator char? See https://github.com/storybookjs/storybook/issues/6128
          `);return S.push(B),S},[]);return m.forEach((S,_)=>{const w=m[_+1]||p.id;y.length&&_===0?d[S]=$(d[S]||{},{type:"root",id:S,name:b[_],depth:_,renderLabel:c,startCollapsed:s.includes(S),children:[w],isRoot:!0,isComponent:!1,isLeaf:!1}):(!d[S]||d[S].type==="component")&&_===m.length-1?d[S]=$(d[S]||{},{type:"component",id:S,name:b[_],parent:m[_-1],depth:_,renderLabel:c,...w&&{children:[w]},isRoot:!1,isComponent:!0,isLeaf:!1}):d[S]=$(d[S]||{},{type:"group",id:S,name:b[_],parent:m[_-1],depth:_,renderLabel:c,...w&&{children:[w]},isRoot:!1,isComponent:!1,isLeaf:!1})}),d[p.id]={type:"story",...p,depth:m.length,parent:m[m.length-1],renderLabel:c,prepared:!!p.parameters,kind:p.title,isRoot:!1,isComponent:!1,isLeaf:!0},d},{});function f(d,p){return d[p.id]||(d[p.id]=p,(p.type==="root"||p.type==="group"||p.type==="component")&&p.children.forEach(g=>f(d,u[g]))),d}const h=Object.values(u).filter(d=>d.type!=="root"&&!d.parent).reduce(f,{});return Object.values(u).filter(d=>d.type==="root").reduce(f,h)},As=(e,t)=>t?Object.fromEntries(Object.entries(e).map(([n,r])=>{const o=t[n];return r.type==="story"&&(o==null?void 0:o.type)==="story"&&o.prepared?[n,{...o,...r,prepared:!0}]:[n,r]})):e,Ds=V(1)(e=>Object.entries(e).reduce((t,n)=>{const r=n[1];return r.type==="component"&&t.push([...r.children]),t},[])),ks=V(1)(e=>Object.keys(e).filter(t=>["story","docs"].includes(e[t].type))),{location:Ps,fetch:Oe}=T,Ee=/(\/((?:[^\/]+?)\.[^\/]+?)|\/)$/,Je=(e,t)=>{const{origin:n,pathname:r}=Ps,{origin:o,pathname:i}=new URL(e),a=`${n+r}`.replace(Ee,""),s=`${o+i}`.replace(Ee,"");return a===s?["local",s]:t||e?["external",s]:[null,null]},Ze=(e,t)=>({...t,kind:t.kind.replace("|","/")}),js=(e,t)=>Object.entries(e).reduce((n,[r,o])=>({...n,[r]:{...o,refId:t.id}}),{});async function Re(e){if(!e)return{};try{const t=await e;if(t===!1||t===!0)throw new Error("Unexpected boolean response");if(!t.ok)throw new Error(`Unexpected response not OK: ${t.statusText}`);const n=await t.json();return n.entries||n.stories?{storyIndex:n}:n}catch(t){return{indexError:t}}}var Ms=e=>{const t=/https?:\/\/(.+:.+)@/;let n=e,r;const[,o]=e.match(t)||[];return o&&(n=e.replace(`${o}@`,""),r=btoa(`${o}`)),{url:n,authorization:r}},Fs=(e,t,n)=>{const{storyMapper:r}=n;return r?Object.entries(e).reduce((o,[i,a])=>({...o,[i]:r(t,a)}),{}):e},Us=({store:e,provider:t,singleStory:n,docsOptions:r={}},{runCheck:o=!0}={})=>{const i={findRef:c=>{const l=i.getRefs();return Object.values(l).find(({url:u})=>u.match(c))},changeRefVersion:(c,l)=>{const{versions:u,title:f}=i.getRefs()[c],h={id:c,url:l,versions:u,title:f,index:{},expanded:!0};i.setRef(c,{...h,type:"unknown"},!1),i.checkRef(h)},changeRefState:(c,l)=>{const{[c]:u,...f}=i.getRefs();f[c]={...u,previewInitialized:l},e.setState({refs:f})},checkRef:async c=>{const{id:l,url:u,version:f,type:h}=c,d=h==="server-checked",p={},g=f?`?version=${f}`:"",v=d?"omit":"include",y=Ms(u),b={Accept:"application/json"};y.authorization&&Object.assign(b,{Authorization:`Basic ${y.authorization}`});const[m,S]=await Promise.all(["index.json","stories.json"].map(async w=>Re(Oe(`${y.url}/${w}${g}`,{headers:b,credentials:v}))));if(!m.indexError||!S.indexError){const w=await Re(Oe(`${y.url}/metadata.json${g}`,{headers:b,credentials:v,cache:"no-cache"}).catch(()=>!1));Object.assign(p,{...m.indexError?S:m,...!w.indexError&&w})}else d||(p.indexError={message:De`
            Error: Loading of ref failed
              at fetch (lib/api/src/modules/refs.ts)

            URL: ${y.url}

            We weren't able to load the above URL,
            it's possible a CORS error happened.

            Please check your dev-tools network tab.
          `});const _=c.versions&&Object.keys(c.versions).length?c.versions:p.versions;await i.setRef(l,{id:l,url:y.url,...p,..._?{versions:_}:{},type:p.storyIndex?"lazy":"auto-inject"})},getRefs:()=>{const{refs:c={}}=e.getState();return c},setRef:(c,{storyIndex:l,setStoriesData:u,...f},h=!1)=>{if(n)return;const{storyMapper:d=Ze}=t.getConfig(),p=i.getRefs()[c];let g;u?g=Cs(Fs(u,p,{storyMapper:d}),{provider:t,docsOptions:r}):l&&(g=le(l,{provider:t,docsOptions:r})),g&&(g=js(g,p)),i.updateRef(c,{index:g,...f})},updateRef:(c,l)=>{const{[c]:u,...f}=i.getRefs();f[c]={...u,...l};const h=Object.keys(s).reduce((d,p)=>(d[p]=f[p],d),{});e.setState({refs:h})}},a=!n&&T.REFS||{},s=a;return o&&Object.entries(a).forEach(([c,l])=>{i.checkRef({...l,stories:{}})}),{api:i,state:{refs:s}}},O=(e,t)=>{const{source:n,refId:r,type:o}=e,[i,a]=Je(n,r),s=r&&t.getRefs()[r]?t.getRefs()[r]:t.findRef(a),c={source:n,sourceType:i,sourceLocation:a,refId:r,ref:s,type:o};switch(!0){case typeof r=="string":case i==="local":case i==="external":return c;default:return k.warn(`Received a ${o} frame that was not configured as a ref`),null}},{FEATURES:H,fetch:Vs}=T,Is="./index.json",Gs=["enableShortcuts","theme","showRoots"];function z(e){if(!e||typeof e=="string")return e;const t={...e};return Gs.forEach(n=>{n in t&&delete t[n]}),t}var Bs=({fullAPI:e,store:t,navigate:n,provider:r,storyId:o,viewMode:i,docsOptions:a={}})=>{const s={storyId:M,getData:(l,u)=>{const f=s.resolveStory(l,u);if((f==null?void 0:f.type)==="story"||(f==null?void 0:f.type)==="docs")return f},isPrepared:(l,u)=>{const f=s.getData(l,u);return f.type==="story"?f.prepared:!0},resolveStory:(l,u)=>{const{refs:f,index:h}=t.getState();return u&&!f[u]?null:u?f[u].index?f[u].index[l]:void 0:h?h[l]:void 0},getCurrentStoryData:()=>{const{storyId:l,refId:u}=t.getState();return s.getData(l,u)},getParameters:(l,u)=>{const{storyId:f,refId:h}=typeof l=="string"?{storyId:l,refId:void 0}:l,d=s.getData(f,h);if(["story","docs"].includes(d==null?void 0:d.type)){const{parameters:p}=d;if(p)return u?p[u]:p}return null},getCurrentParameter:l=>{const{storyId:u,refId:f}=t.getState();return s.getParameters({storyId:u,refId:f},l)||void 0},jumpToComponent:l=>{const{index:u,storyId:f,refs:h,refId:d}=t.getState();if(!s.getData(f,d))return;const g=d?h[d].index||{}:u,v=s.findSiblingStoryId(f,g,l,!0);v&&s.selectStory(v,void 0,{ref:d})},jumpToStory:l=>{const{index:u,storyId:f,refs:h,refId:d}=t.getState(),p=s.getData(f,d);if(!p)return;const g=p.refId?h[p.refId].index:u,v=s.findSiblingStoryId(f,g,l,!1);v&&s.selectStory(v,void 0,{ref:d})},selectFirstStory:()=>{const{index:l}=t.getState(),u=Object.keys(l).find(f=>l[f].type==="story");if(u){s.selectStory(u);return}n("/")},selectStory:(l=void 0,u=void 0,f={})=>{const{ref:h}=f,{storyId:d,index:p,refs:g}=t.getState(),v=h?g[h].index:p,y=d==null?void 0:d.split("--",2)[0];if(u)if(l){const b=h?`${h}_${M(l,u)}`:M(l,u);if(v[b])s.selectStory(b,void 0,f);else{const m=v[ee(l)];if((m==null?void 0:m.type)==="component"){const S=m.children.find(_=>v[_].name===u);S&&s.selectStory(S,void 0,f)}}}else{const b=M(y,u);s.selectStory(b,void 0,f)}else{const b=l?v[l]||v[ee(l)]:v[y];if(!b)throw new Error(`Unknown id or title: '${l}'`);const m=s.findLeafEntry(v,b.id),S=m.refId?`${m.refId}_${m.id}`:m.id;n(`/${m.type}/${S}`)}},findLeafEntry(l,u){const f=l[u];if(f.type==="docs"||f.type==="story")return f;const h=f.children[0];return s.findLeafEntry(l,h)},findLeafStoryId(l,u){var f;return(f=s.findLeafEntry(l,u))==null?void 0:f.id},findSiblingStoryId(l,u,f,h){if(h){const g=Ds(u),v=g.findIndex(y=>y.includes(l));return v===g.length-1&&f>0||v===0&&f<0?void 0:g[v+f]?g[v+f][0]:void 0}const d=ks(u),p=d.indexOf(l);if(!(p===d.length-1&&f>0)&&!(p===0&&f<0))return d[p+f]},updateStoryArgs:(l,u)=>{const{id:f,refId:h}=l;e.emit(Bn,{storyId:f,updatedArgs:u,options:{target:h}})},resetStoryArgs:(l,u)=>{const{id:f,refId:h}=l;e.emit(Kn,{storyId:f,argNames:u,options:{target:h}})},fetchIndex:async()=>{try{const l=await Vs(Is);if(l.status!==200)throw new Error(await l.text());const u=await l.json();if(u.v<3){k.warn(`Skipping story index with version v${u.v}, awaiting SET_STORIES.`);return}await e.setIndex(u)}catch(l){await t.setState({indexError:l})}},setIndex:async l=>{const u=le(l,{provider:r,docsOptions:a}),f=t.getState().index;await t.setState({index:As(u,f),indexError:void 0})},updateStory:async(l,u,f)=>{if(f){const{id:h,index:d}=f;d[l]={...d[l],...u},await e.updateRef(h,{index:d})}else{const{index:h}=t.getState();h[l]={...h[l],...u},await t.setState({index:h})}},updateDocs:async(l,u,f)=>{if(f){const{id:h,index:d}=f;d[l]={...d[l],...u},await e.updateRef(h,{index:d})}else{const{index:h}=t.getState();h[l]={...h[l],...u},await t.setState({index:h})}},setPreviewInitialized:async l=>{l?e.updateRef(l.id,{previewInitialized:!0}):t.setState({previewInitialized:!0})}};return{api:s,state:{storyId:o,viewMode:i,hasCalledSetOptions:!1,previewInitialized:!1},init:async()=>{var l;e.on(Yn,function({storyId:f,viewMode:h}){const{sourceType:d}=O(this,e);if(d==="local"){if(e.isSettingsScreenActive())return;const p=t.getState();(p.storyId!==f||p.viewMode!==h)&&n(`/${h}/${f}`)}}),e.on(Hn,function(){const{ref:f}=O(this,e);e.setPreviewInitialized(f)}),e.on(zn,function(){const{sourceType:f}=O(this,e);if(f==="local"){const h=e.getCurrentParameter("options");h&&e.setOptions(z(h))}}),e.on(qn,function({id:f,...h}){const{ref:d,sourceType:p}=O(this,e);if(e.updateStory(f,{...h,prepared:!0},d),!d&&!t.getState().hasCalledSetOptions){const{options:g}=h.parameters;e.setOptions(z(g)),t.setState({hasCalledSetOptions:!0})}if(p==="local"){const{storyId:g,index:v,refId:y}=t.getState(),b=Array.from(new Set([s.findSiblingStoryId(g,v,1,!0),s.findSiblingStoryId(g,v,-1,!0)])).filter(Boolean);e.emit(Wn,{ids:b,options:{target:y}})}}),e.on(Qn,function({id:f,...h}){const{ref:d}=O(this,e);e.updateStory(f,{...h,prepared:!0},d)}),e.on(Xn,function(f){const{ref:h}=O(this,e);if(h)e.setRef(h.id,{...h,storyIndex:f},!0);else{e.setIndex(f);const d=e.getCurrentParameter("options");e.setOptions(z(d))}}),e.on(Jn,function(f){const{ref:h}=O(this,e),d=f.v?xs(f):f.stories;if(h)e.setRef(h.id,{...h,setStoriesData:d},!0);else throw new Error("Cannot call SET_STORIES for local frame")}),e.on(Zn,function({kind:f,title:h=f,story:d,name:p=d,storyId:g,...v}){const{ref:y}=O(this,e);y?e.selectStory(g||h,p,{...v,ref:y.id}):e.selectStory(g||h,p,v)}),e.on(Ie,function({storyId:f,args:h}){const{ref:d}=O(this,e);e.updateStory(f,{args:h},d)}),e.on(es,function(f){const{ref:h}=O(this,e);e.setPreviewInitialized(h)}),e.on(ts,function(f){const{ref:h}=O(this,e);e.setPreviewInitialized(h)}),H!=null&&H.storyStoreV7&&((l=r.serverChannel)==null||l.on(rs,()=>e.fetchIndex()),await e.fetchIndex())}}},fe={};E(fe,{ActiveTabs:()=>et,focusableUIElements:()=>F,init:()=>Ys});var{document:Ks}=T,et={SIDEBAR:"sidebar",CANVAS:"canvas",ADDONS:"addons"},L={ui:{enableShortcuts:!0},layout:{initialActive:et.CANVAS,showToolbar:!0,isFullscreen:!1,showPanel:!0,showNav:!0,panelPosition:"bottom",showTabs:!0},selectedPanel:void 0,theme:Lt()},F={storySearchField:"storybook-explorer-searchfield",storyListMenu:"storybook-explorer-menu",storyPanelRoot:"storybook-panel-root"},Ys=({store:e,provider:t,singleStory:n,fullAPI:r})=>{const o={toggleFullscreen(a){return e.setState(s=>{const{showNav:c}=s.layout,l=typeof a=="boolean"?a:!s.layout.isFullscreen,u=c===!1&&l===!1;return{layout:{...s.layout,isFullscreen:l,showNav:!n&&u?!0:c}}},{persistence:"session"})},togglePanel(a){return e.setState(s=>{const{showNav:c,isFullscreen:l}=s.layout,u=typeof a<"u"?a:!s.layout.showPanel,f=c===!1&&u===!1;return{layout:{...s.layout,showPanel:u,isFullscreen:f?!0:l}}},{persistence:"session"})},togglePanelPosition(a){return typeof a<"u"?e.setState(s=>({layout:{...s.layout,panelPosition:a}}),{persistence:"permanent"}):e.setState(s=>({layout:{...s.layout,panelPosition:s.layout.panelPosition==="right"?"bottom":"right"}}),{persistence:"permanent"})},toggleNav(a){return e.setState(s=>{if(n)return{layout:s.layout};const{showPanel:c,isFullscreen:l}=s.layout,u=typeof a<"u"?a:!s.layout.showNav,f=c===!1&&u===!1;return{layout:{...s.layout,showNav:u,isFullscreen:f?!0:!u&&l}}},{persistence:"session"})},toggleToolbar(a){return e.setState(s=>{const c=typeof a<"u"?a:!s.layout.showToolbar;return{layout:{...s.layout,showToolbar:c}}},{persistence:"session"})},resetLayout(){return e.setState(a=>({layout:{...a.layout,showNav:!1,showPanel:!1,isFullscreen:!1}}),{persistence:"session"})},focusOnUIElement(a,s){if(!a)return;const c=Ks.getElementById(a);c&&(c.focus(),s&&c.select())},getInitialOptions(){const{theme:a,selectedPanel:s,...c}=t.getConfig();return{...L,layout:{...L.layout,...P(c,Object.keys(L.layout)),...n&&{showNav:!1}},ui:{...L.ui,...P(c,Object.keys(L.ui))},selectedPanel:s||L.selectedPanel,theme:a||L.theme}},setOptions:a=>{const{layout:s,ui:c,selectedPanel:l,theme:u}=e.getState();if(a){const f={...s,...a.layout,...P(a,Object.keys(s)),...n&&{showNav:!1}},h={...c,...a.ui,...P(a,Object.keys(c))},d={...u,...a.theme},p={};R(c,h)||(p.ui=h),R(s,f)||(p.layout=f),a.selectedPanel&&!R(l,a.selectedPanel)&&(p.selectedPanel=a.selectedPanel),Object.keys(p).length&&e.setState(p,{persistence:"permanent"}),R(u,d)||e.setState({theme:d})}}},i=P(e.getState(),"layout","selectedPanel");return{api:o,state:$(o.getInitialOptions(),i),init:()=>{o.setOptions($(o.getInitialOptions(),i)),r.on(te,()=>{o.setOptions($(o.getInitialOptions(),i))})}}},tt={};E(tt,{controlOrMetaKey:()=>U,defaultShortcuts:()=>A,init:()=>Js,isMacLike:()=>rt,keys:()=>ae});var{navigator:q}=T,Hs=()=>q&&q.platform?!!q.platform.match(/(Mac|iPhone|iPod|iPad)/i):!1,zs=()=>Hs()?"⌥":"alt",qs=e=>{var n;if(["Meta","Alt","Control","Shift"].includes(e.key))return null;const t=[];if(e.altKey&&t.push("alt"),e.ctrlKey&&t.push("control"),e.metaKey&&t.push("meta"),e.shiftKey&&t.push("shift"),e.key&&e.key.length===1&&e.key!==" "){const r=e.key.toUpperCase(),o=(n=e.code)==null?void 0:n.toUpperCase().replace("KEY","").replace("DIGIT","");o&&o.length===1&&o!==r?t.push([r,o]):t.push(r)}return e.key===" "&&t.push("space"),e.key==="Escape"&&t.push("escape"),e.key==="ArrowRight"&&t.push("ArrowRight"),e.key==="ArrowDown"&&t.push("ArrowDown"),e.key==="ArrowUp"&&t.push("ArrowUp"),e.key==="ArrowLeft"&&t.push("ArrowLeft"),t.length>0?t:null},Ws=(e,t)=>!e||!t||(e.join("").startsWith("shift/")&&e.shift(),e.length!==t.length)?!1:!e.find((n,r)=>Array.isArray(n)?!n.includes(t[r]):n!==t[r]),Qs=e=>e==="alt"?zs():e==="control"?"⌃":e==="meta"?"⌘":e==="shift"?"⇧​":e==="Enter"||e==="Backspace"||e==="Esc"||e==="escape"?"":e===" "?"SPACE":e==="ArrowUp"?"↑":e==="ArrowDown"?"↓":e==="ArrowLeft"?"←":e==="ArrowRight"?"→":e.toUpperCase(),Da=e=>e.map(Qs).join(" "),{navigator:W,document:Te}=T,rt=()=>W&&W.platform?!!W.platform.match(/(Mac|iPhone|iPod|iPad)/i):!1,U=()=>rt()?"meta":"control";function ae(e){return Object.keys(e)}var A=Object.freeze({fullScreen:["F"],togglePanel:["A"],panelPosition:["D"],toggleNav:["S"],toolbar:["T"],search:["/"],focusNav:["1"],focusIframe:["2"],focusPanel:["3"],prevComponent:["alt","ArrowUp"],nextComponent:["alt","ArrowDown"],prevStory:["alt","ArrowLeft"],nextStory:["alt","ArrowRight"],shortcutsPage:[U(),"shift",","],aboutPage:[","],escape:["escape"],collapseAll:[U(),"shift","ArrowUp"],expandAll:[U(),"shift","ArrowDown"],remount:["alt","R"]}),Q={};function Xs(e){const t=e.target;return/input|textarea/i.test(t.tagName)||t.getAttribute("contenteditable")!==null}var Js=({store:e,fullAPI:t})=>{const n={getShortcutKeys(){return e.getState().shortcuts},getDefaultShortcuts(){return{...A,...n.getAddonsShortcutDefaults()}},getAddonsShortcuts(){return Q},getAddonsShortcutLabels(){const a={};return Object.entries(n.getAddonsShortcuts()).forEach(([s,{label:c}])=>{a[s]=c}),a},getAddonsShortcutDefaults(){const a={};return Object.entries(n.getAddonsShortcuts()).forEach(([s,{defaultShortcut:c}])=>{a[s]=c}),a},async setShortcuts(a){return await e.setState({shortcuts:a},{persistence:"permanent"}),a},async restoreAllDefaultShortcuts(){return n.setShortcuts(n.getDefaultShortcuts())},async setShortcut(a,s){const c=n.getShortcutKeys();return await n.setShortcuts({...c,[a]:s}),s},async setAddonShortcut(a,s){const c=n.getShortcutKeys();return await n.setShortcuts({...c,[`${a}-${s.actionName}`]:s.defaultShortcut}),Q[`${a}-${s.actionName}`]=s,s},async restoreDefaultShortcut(a){const s=n.getDefaultShortcuts()[a];return n.setShortcut(a,s)},handleKeydownEvent(a){const s=qs(a),c=n.getShortcutKeys(),u=ae(c).find(f=>Ws(s,c[f]));u&&(a!=null&&a.preventDefault&&a.preventDefault(),n.handleShortcutFeature(u))},handleShortcutFeature(a){const{layout:{isFullscreen:s,showNav:c,showPanel:l},ui:{enableShortcuts:u},storyId:f}=e.getState();if(u)switch(a){case"escape":{s?t.toggleFullscreen():c||t.toggleNav();break}case"focusNav":{s&&t.toggleFullscreen(),c||t.toggleNav(),t.focusOnUIElement(F.storyListMenu);break}case"search":{s&&t.toggleFullscreen(),c||t.toggleNav(),setTimeout(()=>{t.focusOnUIElement(F.storySearchField,!0)},0);break}case"focusIframe":{const h=Te.getElementById("storybook-preview-iframe");if(h)try{h.contentWindow.focus()}catch{}break}case"focusPanel":{s&&t.toggleFullscreen(),l||t.togglePanel(),t.focusOnUIElement(F.storyPanelRoot);break}case"nextStory":{t.jumpToStory(1);break}case"prevStory":{t.jumpToStory(-1);break}case"nextComponent":{t.jumpToComponent(1);break}case"prevComponent":{t.jumpToComponent(-1);break}case"fullScreen":{t.toggleFullscreen();break}case"togglePanel":{s&&(t.toggleFullscreen(),t.resetLayout()),t.togglePanel();break}case"toggleNav":{s&&(t.toggleFullscreen(),t.resetLayout()),t.toggleNav();break}case"toolbar":{t.toggleToolbar();break}case"panelPosition":{s&&t.toggleFullscreen(),l||t.togglePanel(),t.togglePanelPosition();break}case"aboutPage":{t.navigate("/settings/about");break}case"shortcutsPage":{t.navigate("/settings/shortcuts");break}case"collapseAll":{t.collapseAll();break}case"expandAll":{t.expandAll();break}case"remount":{t.emit(ns,{storyId:f});break}default:Q[a].action();break}}},{shortcuts:r=A}=e.getState(),o={shortcuts:ae(A).reduce((a,s)=>({...a,[s]:r[s]||A[s]}),A)};return{api:n,state:o,init:()=>{Te.addEventListener("keydown",a=>{Xs(a)||t.handleKeydownEvent(a)}),t.on(ss,a=>{t.handleKeydownEvent(a.event)})}}},nt={};E(nt,{init:()=>ea});var{window:X}=T,j=e=>{if(e==="true"||e==="1")return!0;if(e==="false"||e==="0")return!1},J,Zs=({state:{location:e,path:t,viewMode:n,storyId:r},singleStory:o})=>{const{full:i,panel:a,nav:s,shortcuts:c,addonPanel:l,tabs:u,path:f,...h}=$t(e),d={isFullscreen:j(i),showNav:!o&&j(s),showPanel:j(a),panelPosition:["right","bottom"].includes(a)?a:void 0,showTabs:j(u)},p={enableShortcuts:j(c)},g=l||void 0,v=r,y=R(J,h)?J:h;return J=y,{viewMode:n,layout:d,ui:p,selectedPanel:g,location:e,path:t,customQueryParams:y,storyId:v}},ea=({store:e,navigate:t,state:n,provider:r,fullAPI:o,...i})=>{const a=(l,u={},f={})=>{const h=Object.entries(u).filter(([,p])=>p).sort(([p],[g])=>p<g?-1:1).map(([p,g])=>`${p}=${g}`),d=[l,...h].join("&");return t(d,f)},s={getQueryParam(l){const{customQueryParams:u}=e.getState();return u?u[l]:void 0},getUrlState(){const{path:l,customQueryParams:u,storyId:f,url:h,viewMode:d}=e.getState();return{path:l,queryParams:u,storyId:f,url:h,viewMode:d}},setQueryParams(l){const{customQueryParams:u}=e.getState(),f={},h={...u,...Object.entries(l).reduce((d,[p,g])=>(g!==null&&(d[p]=g),d),f)};R(u,h)||(e.setState({customQueryParams:h}),o.emit(as,h))},navigateUrl(l,u){t(l,{...u,plain:!0})}},c=()=>{const l=()=>{const{path:f,queryParams:h,viewMode:d}=o.getUrlState();if(d!=="story")return;const p=o.getCurrentStoryData();if((p==null?void 0:p.type)!=="story")return;const{args:g,initialArgs:v}=p,y=he(v,g);a(f,{...h,args:y},{replace:!0}),s.setQueryParams({args:y})};o.on(is,()=>l());let u;o.on(Ie,()=>{"requestIdleCallback"in X?(u&&X.cancelIdleCallback(u),u=X.requestIdleCallback(l,{timeout:1e3})):(u&&clearTimeout(u),setTimeout(l,100))}),o.on(Ge,({globals:f,initialGlobals:h})=>{const{path:d,queryParams:p}=o.getUrlState(),g=he(h,f);a(d,{...p,globals:g},{replace:!0}),s.setQueryParams({globals:g})}),o.on(os,(f,h)=>{o.navigateUrl(f,h)}),o.showReleaseNotesOnLaunch()&&t("/settings/release-notes")};return{api:s,state:Zs({store:e,navigate:t,state:n,provider:r,fullAPI:o,...i}),init:c}},st={};E(st,{init:()=>na});var ta="7.0.26",{VERSIONCHECK:ra}=T,xe=V(1)(()=>{try{return{...JSON.parse(ra).data||{}}}catch{return{}}}),na=({store:e,mode:t,fullAPI:n})=>{const{dismissedVersionNotification:r}=e.getState(),o={versions:{current:{version:ta},...xe()},dismissedVersionNotification:r},i={getCurrentVersion:()=>{const{versions:{current:s}}=e.getState();return s},getLatestVersion:()=>{const{versions:{latest:s,next:c,current:l}}=e.getState();return l&&x.prerelease(l.version)&&c?s&&x.gt(s.version,c.version)?s:c:s},versionUpdateAvailable:()=>{const s=i.getLatestVersion(),c=i.getCurrentVersion();if(s){if(!s.version||!c.version)return!0;const u=!!x.prerelease(c.version)?`${x.major(c.version)}.${x.minor(c.version)}.${x.patch(c.version)}`:c.version,f=x.diff(u,s.version);return x.gt(s.version,u)&&f!=="patch"&&!f.includes("pre")}return!1}};return{init:async()=>{const{versions:s={}}=e.getState(),{latest:c,next:l}=xe();if(await e.setState({versions:{...s,latest:c,next:l}}),i.versionUpdateAvailable()){const u=i.getLatestVersion().version,f=x.diff(s.current.version,s.latest.version);u!==r&&f!=="patch"&&!x.prerelease(u)&&t!=="production"&&n.addNotification({id:"update",link:"/settings/about",content:{headline:`Storybook ${u} is available!`,subHeadline:`Your current version is: ${s.current.version}`},icon:{name:"book"},onClear(){e.setState({dismissedVersionNotification:u},{persistence:"permanent"})}})}},state:o,api:i}},at={};E(at,{init:()=>sa});var sa=({store:e,fullAPI:t})=>{const n={getGlobals(){return e.getState().globals},getGlobalTypes(){return e.getState().globalTypes},updateGlobals(a){t.emit(cs,{globals:a,options:{target:"storybook-preview-iframe"}})}},r={globals:{},globalTypes:{}},o=a=>{var c;const s=(c=e.getState())==null?void 0:c.globals;R(a,s)||e.setState({globals:a})};return{api:n,state:r,init:()=>{t.on(Ge,function({globals:s}){const{ref:c}=O(this,t);c?k.warn("received a GLOBALS_UPDATED from a non-local ref. This is not currently supported."):o(s)}),t.on(us,function({globals:s,globalTypes:c}){var f;const{ref:l}=O(this,t),u=(f=e.getState())==null?void 0:f.globals;l?Object.keys(s).length>0&&k.warn("received globals from a non-local ref. This is not currently supported."):e.setState({globals:s,globalTypes:c}),u&&Object.keys(u).length!==0&&!R(s,u)&&n.updateGlobals(u)})}}};function aa(){const e={setHandler:()=>{},send:()=>{}};return new ls({transport:e})}var ia=class{constructor(){this.loaders={},this.elements={},this.config={},this.getChannel=()=>(this.channel||this.setChannel(aa()),this.channel),this.getServerChannel=()=>{if(!this.serverChannel)throw new Error("Accessing non-existent serverChannel");return this.serverChannel},this.ready=()=>this.promise,this.hasChannel=()=>!!this.channel,this.hasServerChannel=()=>!!this.serverChannel,this.setChannel=e=>{this.channel=e,this.resolve()},this.setServerChannel=e=>{this.serverChannel=e},this.getElements=e=>(this.elements[e]||(this.elements[e]={}),this.elements[e]),this.addPanel=(e,t)=>{this.add(e,{type:ue.PANEL,...t})},this.add=(e,t)=>{const{type:n}=t,r=this.getElements(n);r[e]={id:e,...t}},this.setConfig=e=>{Object.assign(this.config,e),this.hasChannel()?this.getChannel().emit(te,this.config):this.ready().then(t=>{t.emit(te,this.config)})},this.getConfig=()=>this.config,this.register=(e,t)=>{this.loaders[e]&&k.warn(`${e} was loaded twice, this could have bad side-effects`),this.loaders[e]=t},this.loadAddons=e=>{Object.values(this.loaders).forEach(t=>t(e))},this.promise=new Promise(e=>{this.resolve=()=>e(this.getChannel())})}},Z="__STORYBOOK_ADDONS_MANAGER";function oa(){return T[Z]||(T[Z]=new ia),T[Z]}var ka=oa(),{ActiveTabs:Pa}=fe,I=hs({api:void 0,state:ne({})}),ca=(...e)=>Ue({},...e,(t,n)=>{if(Array.isArray(n))return n}),ua=class extends C.Component{constructor(e){super(e),this.api={},this.initModules=()=>{this.modules.forEach(g=>{"init"in g&&g.init()})};const{location:t,path:n,refId:r,viewMode:o=e.docsOptions.docsMode?"docs":"story",singleStory:i,storyId:a,docsOptions:s,navigate:c}=e,l=new vs({getState:()=>this.state,setState:(g,v)=>this.setState(g,v)}),u={location:t,path:n,viewMode:o,singleStory:i,storyId:a,refId:r},f={docsOptions:s};this.state=l.getInitialState(ne({...u,...f}));const h={navigate:c,store:l,provider:e.provider};this.modules=[Ke,He,Ye,fe,ze,qe,We,tt,Qe,Xe,at,nt,st].map(g=>g.init({...u,...f,...h,state:this.state,fullAPI:this.api}));const d=ne(this.state,...this.modules.map(g=>g.state)),p=Object.assign(this.api,{navigate:c},...this.modules.map(g=>g.api));this.state=d,this.api=p}static getDerivedStateFromProps(e,t){return t.path!==e.path?{...t,location:e.location,path:e.path,refId:e.refId,viewMode:e.viewMode,storyId:e.storyId}:null}shouldComponentUpdate(e,t){const n=this.state,r=this.props;return n!==t||r.path!==e.path}render(){const{children:e}=this.props,t={state:this.state,api:this.api};return D.createElement(la,{effect:this.initModules},D.createElement(I.Provider,{value:t},D.createElement(ha,null,e)))}};ua.displayName="Manager";var la=({children:e,effect:t})=>(D.useEffect(t,[]),e),fa=e=>e;function ha({filter:e=fa,children:t}){const n=C.useContext(I),r=C.useRef(t),o=C.useRef(e);if(typeof r.current!="function")return D.createElement(C.Fragment,null,r.current);const i=o.current(n),a=C.useMemo(()=>[...Object.entries(i).reduce((s,c)=>s.concat(c),[])],[n.state]);return C.useMemo(()=>{const s=r.current;return D.createElement(s,{...i})},a)}function ja(){const{state:e}=C.useContext(I);return{...e,get storiesHash(){return Y("state.storiesHash is deprecated, please use state.index"),this.index||{}},get storiesConfigured(){return Y("state.storiesConfigured is deprecated, please use state.previewInitialized"),this.previewInitialized},get storiesFailed(){return Y("state.storiesFailed is deprecated, please use state.indexError"),this.indexError}}}function Ma(){const{api:e}=C.useContext(I);return e}export{Pa as A,ha as M,ja as a,ua as b,Da as c,ue as d,ka as e,I as f,qs as g,Ws as h,$ as m,N as s,Ma as u};
//# sourceMappingURL=index-f8624f6f.js.map
