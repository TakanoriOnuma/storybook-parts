{"version":3,"file":"preview-823c3a92.js","sources":["../../ui/.storybook/preview.tsx"],"sourcesContent":["import { global } from '@storybook/global';\nimport React, { Fragment, useEffect } from 'react';\nimport isChromatic from 'chromatic/isChromatic';\nimport {\n  Global,\n  ThemeProvider,\n  themes,\n  createReset,\n  convert,\n  styled,\n  useTheme,\n} from '@storybook/theming';\nimport { useArgs, DocsContext as DocsContextProps } from '@storybook/preview-api';\nimport { Symbols } from '@storybook/components';\nimport type { PreviewWeb } from '@storybook/preview-api';\nimport type { ReactRenderer } from '@storybook/react';\nimport type { Channel } from '@storybook/channels';\n\nimport { DocsContext } from '@storybook/blocks';\n\nimport { DocsPageWrapper } from '../blocks/src/components';\n\nconst { document } = global;\n\nconst ThemeBlock = styled.div<{ side: 'left' | 'right' }>(\n  {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: '50vw',\n    width: '50vw',\n    height: '100vh',\n    bottom: 0,\n    overflow: 'auto',\n    padding: 10,\n  },\n  ({ theme }) => ({\n    background: theme.background.content,\n    color: theme.color.defaultText,\n  }),\n  ({ side }) =>\n    side === 'left'\n      ? {\n          left: 0,\n          right: '50vw',\n        }\n      : {\n          right: 0,\n          left: '50vw',\n        }\n);\n\nconst ThemeStack = styled.div(\n  {\n    position: 'relative',\n    minHeight: 'calc(50vh - 15px)',\n  },\n  ({ theme }) => ({\n    background: theme.background.content,\n    color: theme.color.defaultText,\n  })\n);\n\nconst PlayFnNotice = styled.div(\n  {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    width: '100%',\n    borderBottom: '1px solid #ccc',\n    padding: '3px 8px',\n    fontSize: '10px',\n    fontWeight: 'bold',\n    '> *': {\n      display: 'block',\n    },\n  },\n  ({ theme }) => ({\n    background: '#fffbd9',\n    color: theme.color.defaultText,\n  })\n);\n\nconst ThemedSetRoot = () => {\n  const theme = useTheme();\n\n  useEffect(() => {\n    document.body.style.background = theme.background.content;\n    document.body.style.color = theme.color.defaultText;\n  });\n\n  return null;\n};\n\n// eslint-disable-next-line no-underscore-dangle\nconst preview = (window as any).__STORYBOOK_PREVIEW__ as PreviewWeb<ReactRenderer>;\nconst channel = (window as any).__STORYBOOK_ADDONS_CHANNEL__ as Channel;\nexport const loaders = [\n  /**\n   * This loader adds a DocsContext to the story, which is required for the most Blocks to work.\n   * A story will specify which stories they need in the index with:\n   * parameters: {\n   *  relativeCsfPaths: ['../stories/MyStory.stories.tsx'], // relative to the story\n   * }\n   * The DocsContext will then be added via the decorator below.\n   */\n  async ({ parameters: { relativeCsfPaths, attached = true } }) => {\n    if (!relativeCsfPaths) return {};\n    const csfFiles = await Promise.all(\n      (relativeCsfPaths as string[]).map(async (blocksRelativePath) => {\n        const projectRelativePath = `./ui/blocks/src/${blocksRelativePath.replace(\n          /^..\\//,\n          ''\n        )}.tsx`;\n        const entry = preview.storyStore.storyIndex?.importPathToEntry(projectRelativePath);\n\n        if (!entry) {\n          throw new Error(\n            `Couldn't find story file at ${projectRelativePath} (passed as ${blocksRelativePath})`\n          );\n        }\n\n        return preview.storyStore.loadCSFFileByStoryId(entry.id);\n      })\n    );\n    const docsContext = new DocsContextProps(\n      channel,\n      preview.storyStore,\n      preview.renderStoryToElement.bind(preview),\n      csfFiles\n    );\n    if (attached && csfFiles[0]) {\n      docsContext.attachCSFFile(csfFiles[0]);\n    }\n    return { docsContext };\n  },\n];\n\nexport const decorators = [\n  // This decorator adds the DocsContext created in the loader above\n  (Story, { loaded: { docsContext } }) =>\n    docsContext ? (\n      <DocsContext.Provider value={docsContext}>\n        <Story />\n      </DocsContext.Provider>\n    ) : (\n      <Story />\n    ),\n  /**\n   * This decorator adds wrappers that contains global styles for stories to be targeted by.\n   * Activated with parameters.docsStyles = true\n   */ (Story, { parameters: { docsStyles } }) =>\n    docsStyles ? (\n      <DocsPageWrapper>\n        <Story />\n      </DocsPageWrapper>\n    ) : (\n      <Story />\n    ),\n  /**\n   * This decorator adds Symbols that the sidebar icons references.\n   * Any sidebar story that uses the icons must set the parameter withSymbols: true .\n   */\n  (Story, { parameters: { withSymbols } }) => (\n    <>\n      {withSymbols && <Symbols icons={['folder', 'component', 'document', 'bookmarkhollow']} />}\n      <Story />\n    </>\n  ),\n  /**\n   * This decorator renders the stories side-by-side, stacked or default based on the theme switcher in the toolbar\n   */\n  (StoryFn, { globals, parameters, playFunction }) => {\n    const defaultTheme = isChromatic() && !playFunction ? 'stacked' : 'light';\n    const theme = globals.theme || parameters.theme || defaultTheme;\n\n    switch (theme) {\n      case 'side-by-side': {\n        return (\n          <Fragment>\n            <ThemeProvider theme={convert(themes.light)}>\n              <Global styles={createReset} />\n            </ThemeProvider>\n            <ThemeProvider theme={convert(themes.light)}>\n              <ThemeBlock side=\"left\" data-side=\"left\">\n                <StoryFn />\n              </ThemeBlock>\n            </ThemeProvider>\n            <ThemeProvider theme={convert(themes.dark)}>\n              <ThemeBlock side=\"right\" data-side=\"right\">\n                <StoryFn />\n              </ThemeBlock>\n            </ThemeProvider>\n          </Fragment>\n        );\n      }\n      case 'stacked': {\n        return (\n          <Fragment>\n            <ThemeProvider theme={convert(themes.light)}>\n              <Global styles={createReset} />\n            </ThemeProvider>\n            <ThemeProvider theme={convert(themes.light)}>\n              <ThemeStack data-side=\"left\">\n                <StoryFn />\n              </ThemeStack>\n            </ThemeProvider>\n            <ThemeProvider theme={convert(themes.dark)}>\n              <ThemeStack data-side=\"right\">\n                <StoryFn />\n              </ThemeStack>\n            </ThemeProvider>\n          </Fragment>\n        );\n      }\n      case 'default':\n      default: {\n        return (\n          <ThemeProvider theme={convert(themes[theme])}>\n            <Global styles={createReset} />\n            <ThemedSetRoot />\n            {!parameters.theme && isChromatic() && playFunction && (\n              <>\n                <PlayFnNotice>\n                  <span>\n                    Detected play function in Chromatic. Rendering only light theme to avoid\n                    multiple play functions in the same story.\n                  </span>\n                </PlayFnNotice>\n                <div style={{ marginBottom: 20 }} />\n              </>\n            )}\n            <StoryFn />\n          </ThemeProvider>\n        );\n      }\n    }\n  },\n  /**\n   * This decorator shows the current state of the arg named in the\n   * parameters.withRawArg property, by updating the arg in the onChange function\n   * this also means that the arg will sync with the control panel\n   *\n   * If parameters.withRawArg is not set, this decorator will do nothing\n   */\n  (StoryFn, { parameters, args, hooks }) => {\n    const [, updateArgs] = useArgs();\n    if (!parameters.withRawArg) {\n      return <StoryFn />;\n    }\n\n    return (\n      <>\n        <StoryFn\n          args={{\n            ...args,\n            onChange: (newValue) => {\n              updateArgs({ [parameters.withRawArg]: newValue });\n              args.onChange?.(newValue);\n            },\n          }}\n        />\n        <div style={{ marginTop: '1rem' }}>\n          Current <code>{parameters.withRawArg}</code>:{' '}\n          <pre>{JSON.stringify(args[parameters.withRawArg], null, 2) || 'undefined'}</pre>\n        </div>\n      </>\n    );\n  },\n];\n\nexport const parameters = {\n  actions: { argTypesRegex: '^on.*' },\n  options: {\n    storySort: (a, b) =>\n      a.title === b.title ? 0 : a.id.localeCompare(b.id, undefined, { numeric: true }),\n  },\n  docs: {\n    theme: themes.light,\n  },\n  controls: {\n    presetColors: [\n      { color: '#ff4785', title: 'Coral' },\n      { color: '#1EA7FD', title: 'Ocean' },\n      { color: 'rgb(252, 82, 31)', title: 'Orange' },\n      { color: 'RGBA(255, 174, 0, 0.5)', title: 'Gold' },\n      { color: 'hsl(101, 52%, 49%)', title: 'Green' },\n      { color: 'HSLA(179,65%,53%,0.5)', title: 'Seafoam' },\n      { color: '#6F2CAC', title: 'Purple' },\n      { color: '#2A0481', title: 'Ultraviolet' },\n      { color: 'black' },\n      { color: '#333', title: 'Darkest' },\n      { color: '#444', title: 'Darker' },\n      { color: '#666', title: 'Dark' },\n      { color: '#999', title: 'Mediumdark' },\n      { color: '#ddd', title: 'Medium' },\n      { color: '#EEE', title: 'Mediumlight' },\n      { color: '#F3F3F3', title: 'Light' },\n      { color: '#F8F8F8', title: 'Lighter' },\n      { color: '#FFFFFF', title: 'Lightest' },\n      '#fe4a49',\n      '#FED766',\n      'rgba(0, 159, 183, 1)',\n      'HSLA(240,11%,91%,0.5)',\n      'slategray',\n    ],\n  },\n};\n\nexport const globalTypes = {\n  theme: {\n    name: 'Theme',\n    description: 'Global theme for components',\n    toolbar: {\n      icon: 'circlehollow',\n      title: 'Theme',\n      items: [\n        { value: 'light', icon: 'circlehollow', title: 'light' },\n        { value: 'dark', icon: 'circle', title: 'dark' },\n        { value: 'side-by-side', icon: 'sidebar', title: 'side by side' },\n        { value: 'stacked', icon: 'bottombar', title: 'stacked' },\n      ],\n    },\n  },\n};\n"],"names":["useArgs","DocsContextProps","document","global","ThemeBlock","styled","theme","side","ThemeStack","PlayFnNotice","ThemedSetRoot","useTheme","useEffect","preview","channel","loaders","relativeCsfPaths","attached","csfFiles","blocksRelativePath","projectRelativePath","entry","_a","docsContext","decorators","Story","jsx","DocsContext","docsStyles","DocsPageWrapper","withSymbols","jsxs","Fragment","Symbols","StoryFn","globals","parameters","playFunction","defaultTheme","isChromatic","ThemeProvider","convert","themes","Global","createReset","args","hooks","updateArgs","newValue","a","b","globalTypes"],"mappings":"sqCAYA,KAAA,CAAA,QAAAA,EAAA,YAAAC,CAAA,EAAA,iCAUM,CAAE,SAAAC,CAAa,EAAAC,EAEfC,EAAaC,EAAO,IACxB,CACE,SAAU,WACV,IAAK,EACL,KAAM,EACN,MAAO,OACP,MAAO,OACP,OAAQ,QACR,OAAQ,EACR,SAAU,OACV,QAAS,EACX,EACA,CAAC,CAAE,MAAAC,CAAA,KAAa,CACd,WAAYA,EAAM,WAAW,QAC7B,MAAOA,EAAM,MAAM,WAAA,GAErB,CAAC,CAAE,KAAAC,CAAK,IACNA,IAAS,OACL,CACE,KAAM,EACN,MAAO,MAAA,EAET,CACE,MAAO,EACP,KAAM,MACR,CACR,EAEMC,EAAaH,EAAO,IACxB,CACE,SAAU,WACV,UAAW,mBACb,EACA,CAAC,CAAE,MAAAC,CAAA,KAAa,CACd,WAAYA,EAAM,WAAW,QAC7B,MAAOA,EAAM,MAAM,WAAA,EAEvB,EAEMG,EAAeJ,EAAO,IAC1B,CACE,SAAU,WACV,IAAK,EACL,KAAM,EACN,MAAO,OACP,aAAc,iBACd,QAAS,UACT,SAAU,OACV,WAAY,OACZ,MAAO,CACL,QAAS,OACX,CACF,EACA,CAAC,CAAE,MAAAC,CAAA,KAAa,CACd,WAAY,UACZ,MAAOA,EAAM,MAAM,WAAA,EAEvB,EAEMI,EAAgB,IAAM,CAC1B,MAAMJ,EAAQK,IAEdC,OAAAA,EAAAA,UAAU,IAAM,CACdV,EAAS,KAAK,MAAM,WAAaI,EAAM,WAAW,QAClDJ,EAAS,KAAK,MAAM,MAAQI,EAAM,MAAM,WAAA,CACzC,EAEM,IACT,EAGMO,EAAW,OAAe,sBAC1BC,EAAW,OAAe,6BACnBC,GAAU,CASrB,MAAO,CAAE,WAAY,CAAE,iBAAAC,EAAkB,SAAAC,EAAW,OAAa,CAC/D,GAAI,CAACD,EAAkB,MAAO,GACxB,MAAAE,EAAW,MAAM,QAAQ,IAC5BF,EAA8B,IAAI,MAAOG,GAAuB,OACzD,MAAAC,EAAsB,mBAAmBD,EAAmB,QAChE,QACA,EACF,QACME,GAAQC,EAAAT,EAAQ,WAAW,aAAnB,YAAAS,EAA+B,kBAAkBF,GAE/D,GAAI,CAACC,EACH,MAAM,IAAI,MACR,+BAA+BD,gBAAkCD,IAAA,EAIrE,OAAON,EAAQ,WAAW,qBAAqBQ,EAAM,EAAE,CAAA,CACxD,CAAA,EAEGE,EAAc,IAAItB,EACtBa,EACAD,EAAQ,WACRA,EAAQ,qBAAqB,KAAKA,CAAO,EACzCK,CAAA,EAEE,OAAAD,GAAYC,EAAS,CAAC,GACZK,EAAA,cAAcL,EAAS,CAAC,CAAC,EAEhC,CAAE,YAAAK,CAAY,CACvB,CACF,EAEaC,GAAa,CAExB,CAACC,EAAO,CAAE,OAAQ,CAAE,YAAAF,CAAY,KAC9BA,EACEG,EAACC,EAAY,SAAZ,CAAqB,MAAOJ,EAC3B,SAAAG,EAACD,IAAM,CACT,CAAA,IAECA,EAAM,EAAA,EAKP,CAACA,EAAO,CAAE,WAAY,CAAE,WAAAG,MAC1BA,EACEF,EAACG,GACC,SAACH,EAAAD,EAAA,CAAM,CAAA,CACT,CAAA,IAECA,EAAM,EAAA,EAMX,CAACA,EAAO,CAAE,WAAY,CAAE,YAAAK,CAAY,CAAA,IAE/BC,EAAAC,EAAA,CAAA,SAAA,CAAeF,GAAAJ,EAACO,GAAQ,MAAO,CAAC,SAAU,YAAa,WAAY,gBAAgB,EAAG,IACtFR,EAAM,EAAA,CAAA,EACT,EAKF,CAACS,EAAS,CAAE,QAAAC,EAAS,WAAAC,EAAY,aAAAC,KAAmB,CAClD,MAAMC,EAAeC,EAAiB,GAAA,CAACF,EAAe,UAAY,QAC5D/B,EAAQ6B,EAAQ,OAASC,EAAW,OAASE,EAEnD,OAAQhC,EAAO,CACb,IAAK,eAED,OAAAyB,EAACC,WAAA,CACC,SAAA,CAACN,EAAAc,EAAA,CAAc,MAAOC,EAAQC,EAAO,KAAK,EACxC,SAAChB,EAAAiB,EAAA,CAAO,OAAQC,CAAA,CAAa,CAC/B,CAAA,IACCJ,EAAc,CAAA,MAAOC,EAAQC,EAAO,KAAK,EACxC,SAAAhB,EAACtB,EAAW,CAAA,KAAK,OAAO,YAAU,OAChC,SAACsB,EAAAQ,EAAA,CAAA,CAAQ,CACX,CAAA,EACF,IACCM,EAAc,CAAA,MAAOC,EAAQC,EAAO,IAAI,EACvC,SAAAhB,EAACtB,EAAW,CAAA,KAAK,QAAQ,YAAU,QACjC,SAACsB,EAAAQ,EAAA,CAAA,CAAQ,CACX,CAAA,EACF,CACF,CAAA,CAAA,EAGJ,IAAK,UAED,OAAAH,EAACC,WAAA,CACC,SAAA,CAACN,EAAAc,EAAA,CAAc,MAAOC,EAAQC,EAAO,KAAK,EACxC,SAAChB,EAAAiB,EAAA,CAAO,OAAQC,CAAA,CAAa,CAC/B,CAAA,EACClB,EAAAc,EAAA,CAAc,MAAOC,EAAQC,EAAO,KAAK,EACxC,SAAChB,EAAAlB,EAAA,CAAW,YAAU,OACpB,SAACkB,EAAAQ,EAAA,CAAQ,CAAA,CACX,CAAA,EACF,EACCR,EAAAc,EAAA,CAAc,MAAOC,EAAQC,EAAO,IAAI,EACvC,SAAChB,EAAAlB,EAAA,CAAW,YAAU,QACpB,SAACkB,EAAAQ,EAAA,CAAQ,CAAA,CACX,CAAA,EACF,CACF,CAAA,CAAA,EAGJ,IAAK,UACL,QACE,SACGM,EAAc,CAAA,MAAOC,EAAQC,EAAOpC,CAAK,CAAC,EACzC,SAAA,CAACoB,EAAAiB,EAAA,CAAO,OAAQC,CAAa,CAAA,IAC5BlC,EAAc,EAAA,EACd,CAAC0B,EAAW,OAASG,EAAY,GAAKF,GAEnCN,EAAAC,EAAA,CAAA,SAAA,CAAAN,EAACjB,EACC,CAAA,SAAAiB,EAAC,OAAK,CAAA,SAAA,qHAGN,CAAA,EACF,IACC,MAAI,CAAA,MAAO,CAAE,aAAc,IAAM,CAAA,EACpC,IAEDQ,EAAQ,EAAA,CACX,CAAA,CAAA,CAGN,CACF,EAQA,CAACA,EAAS,CAAE,WAAAE,EAAY,KAAAS,EAAM,MAAAC,KAAY,CACxC,KAAM,CAAG,CAAAC,CAAU,EAAI/C,IACnB,OAACoC,EAAW,WAMZL,EAAAC,EAAA,CAAA,SAAA,CAAAN,EAACQ,EAAA,CACC,KAAM,CACJ,GAAGW,EACH,SAAWG,GAAa,OACtBD,EAAW,CAAE,CAACX,EAAW,UAAU,EAAGY,CAAU,CAAA,GAChD1B,EAAAuB,EAAK,WAAL,MAAAvB,EAAA,KAAAuB,EAAgBG,EAClB,CACF,CAAA,CACF,IACC,MAAI,CAAA,MAAO,CAAE,UAAW,MAAU,EAAA,SAAA,CAAA,WACxBtB,EAAA,OAAA,CAAM,SAAAU,EAAW,UAAW,CAAA,EAAO,IAAE,IAC9CV,EAAC,MAAK,CAAA,SAAA,KAAK,UAAUmB,EAAKT,EAAW,UAAU,EAAG,KAAM,CAAC,GAAK,WAAY,CAAA,CAAA,EAC5E,CACF,CAAA,CAAA,IAlBQF,EAAQ,CAAA,CAAA,CAoBpB,CACF,EAEaE,GAAa,CACxB,QAAS,CAAE,cAAe,OAAQ,EAClC,QAAS,CACP,UAAW,CAACa,EAAGC,IACbD,EAAE,QAAUC,EAAE,MAAQ,EAAID,EAAE,GAAG,cAAcC,EAAE,GAAI,OAAW,CAAE,QAAS,GAAM,CACnF,EACA,KAAM,CACJ,MAAOR,EAAO,KAChB,EACA,SAAU,CACR,aAAc,CACZ,CAAE,MAAO,UAAW,MAAO,OAAQ,EACnC,CAAE,MAAO,UAAW,MAAO,OAAQ,EACnC,CAAE,MAAO,mBAAoB,MAAO,QAAS,EAC7C,CAAE,MAAO,yBAA0B,MAAO,MAAO,EACjD,CAAE,MAAO,qBAAsB,MAAO,OAAQ,EAC9C,CAAE,MAAO,wBAAyB,MAAO,SAAU,EACnD,CAAE,MAAO,UAAW,MAAO,QAAS,EACpC,CAAE,MAAO,UAAW,MAAO,aAAc,EACzC,CAAE,MAAO,OAAQ,EACjB,CAAE,MAAO,OAAQ,MAAO,SAAU,EAClC,CAAE,MAAO,OAAQ,MAAO,QAAS,EACjC,CAAE,MAAO,OAAQ,MAAO,MAAO,EAC/B,CAAE,MAAO,OAAQ,MAAO,YAAa,EACrC,CAAE,MAAO,OAAQ,MAAO,QAAS,EACjC,CAAE,MAAO,OAAQ,MAAO,aAAc,EACtC,CAAE,MAAO,UAAW,MAAO,OAAQ,EACnC,CAAE,MAAO,UAAW,MAAO,SAAU,EACrC,CAAE,MAAO,UAAW,MAAO,UAAW,EACtC,UACA,UACA,uBACA,wBACA,WACF,CACF,CACF,EAEaS,GAAc,CACzB,MAAO,CACL,KAAM,QACN,YAAa,8BACb,QAAS,CACP,KAAM,eACN,MAAO,QACP,MAAO,CACL,CAAE,MAAO,QAAS,KAAM,eAAgB,MAAO,OAAQ,EACvD,CAAE,MAAO,OAAQ,KAAM,SAAU,MAAO,MAAO,EAC/C,CAAE,MAAO,eAAgB,KAAM,UAAW,MAAO,cAAe,EAChE,CAAE,MAAO,UAAW,KAAM,YAAa,MAAO,SAAU,CAC1D,CACF,CACF,CACF"}