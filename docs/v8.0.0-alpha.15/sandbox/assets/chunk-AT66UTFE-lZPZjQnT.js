import{v as R}from"./v4-yQnnJER4.js";const{addons:v}=__STORYBOOK_MODULE_PREVIEW_API__,{global:f}=__STORYBOOK_MODULE_GLOBAL__,{ImplicitActionsDuringRendering:b}=__STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS__;var I="actions",m="storybook/actions",A=`${m}/action-event`,i={depth:10,clearOnStoryChange:!0,limit:50},T=(n={})=>{Object.assign(i,n)},g=(n,e)=>{const t=Object.getPrototypeOf(n);return!t||e(t)?t:g(t,e)},j=n=>!!(typeof n=="object"&&n&&g(n,e=>/^Synthetic(?:Base)?Event$/.test(e.constructor.name))&&typeof n.persist=="function"),D=n=>{if(j(n)){const e=Object.create(n.constructor.prototype,Object.getOwnPropertyDescriptors(n));e.persist();const t=Object.getOwnPropertyDescriptor(e,"view"),o=t==null?void 0:t.value;return typeof o=="object"&&(o==null?void 0:o.constructor.name)==="Window"&&Object.defineProperty(e,"view",{...t,value:Object.create(o.constructor.prototype)}),e}return n},S=()=>typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?R():Date.now().toString(36)+Math.random().toString(36).substring(2);function P(n,e={}){const t={...i,...e},o=function(...r){var O;if(e.implicit){const a="__STORYBOOK_PREVIEW__"in f?f.__STORYBOOK_PREVIEW__:void 0,l=a==null?void 0:a.storyRenders.find(c=>c.phase==="playing"||c.phase==="rendering");if(l){const c=!((O=window==null?void 0:window.FEATURES)!=null&&O.disallowImplicitActionsInRenderV8),_=new b({phase:l.phase,name:n,deprecated:c});if(c)console.warn(_);else throw _}}const d=v.getChannel(),u=S(),y=5,p=r.map(D),E=r.length>1?p:p[0],h={id:u,count:0,data:{name:n,args:E},options:{...t,maxDepth:y+(t.depth||3),allowFunction:t.allowFunction||!1}};d.emit(A,h)};return o.isAction=!0,o}var B=(...n)=>{let e=i,t=n;t.length===1&&Array.isArray(t[0])&&([t]=t),t.length!==1&&typeof t[t.length-1]!="string"&&(e={...i,...t.pop()});let o=t[0];(t.length!==1||typeof o=="string")&&(o={},t.forEach(r=>{o[r]=r}));const s={};return Object.keys(o).forEach(r=>{s[r]=P(o[r],e)}),s};export{I as P,P as a,B as b,T as c};
