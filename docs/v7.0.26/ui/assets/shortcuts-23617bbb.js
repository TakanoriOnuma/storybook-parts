import{a as i,j as s}from"./jsx-runtime-0f39435c.js";import{r as w}from"./index-6f814c40.js";import{e as o,k as x}from"./index-5a529529.js";import{g as k,h as q,c as T}from"./index-f8624f6f.js";import{o as _,c as F}from"./index-90790cc0.js";import{S as V}from"./SettingsFooter-1aeca9e7.js";const I=o.header(({theme:a})=>({marginBottom:20,fontSize:a.typography.size.m3,fontWeight:a.typography.weight.bold,alignItems:"center",display:"flex"})),c=o.div(({theme:a})=>({fontWeight:a.typography.weight.bold})),v=o.div({alignSelf:"flex-end",display:"grid",margin:"10px 0",gridTemplateColumns:"1fr 1fr 12px","& > *:last-of-type":{gridColumn:"2 / 2",justifySelf:"flex-end",gridRow:"1"}}),p=o.div(({theme:a})=>({padding:"6px 0",borderTop:`1px solid ${a.appBorderColor}`,display:"grid",gridTemplateColumns:"1fr 1fr 0px"})),m=o.div({display:"grid",gridTemplateColumns:"1fr",gridAutoRows:"minmax(auto, auto)",marginBottom:20}),h=o.div({alignSelf:"center"}),y=o(_.Input)(({valid:a,theme:u})=>a==="error"?{animation:`${u.animation.jiggle} 700ms ease-out`}:{},{display:"flex",width:80,flexDirection:"column",justifySelf:"flex-end",paddingLeft:4,paddingRight:4,textAlign:"center"}),K=x`
0%,100% { opacity: 0; }
  50% { opacity: 1; }
`,f=o(F)(({valid:a,theme:u})=>a==="valid"?{color:u.color.positive,animation:`${K} 2s ease forwards`}:{opacity:0},{alignSelf:"center",display:"flex",marginLeft:10,height:14,width:14}),N=o.div(({theme:a})=>({fontSize:a.typography.size.s2,padding:"3rem 20px",maxWidth:600,margin:"0 auto"})),D={fullScreen:"Go full screen",togglePanel:"Toggle addons",panelPosition:"Toggle addons orientation",toggleNav:"Toggle sidebar",toolbar:"Toggle canvas toolbar",search:"Focus search",focusNav:"Focus sidebar",focusIframe:"Focus canvas",focusPanel:"Focus addons",prevComponent:"Previous component",nextComponent:"Next component",prevStory:"Previous story",nextStory:"Next story",shortcutsPage:"Go to shortcuts page",aboutPage:"Go to about page",collapseAll:"Collapse all items on sidebar",expandAll:"Expand all items on sidebar",remount:"Remount component"},C=["escape"];function d(a){return Object.entries(a).reduce((u,[e,t])=>C.includes(e)?u:{...u,[e]:{shortcut:t,error:!1}},{})}class b extends w.Component{constructor(u){super(u),this.onKeyDown=e=>{const{activeFeature:t,shortcutKeys:r}=this.state;if(e.key==="Backspace")return this.restoreDefault();const l=k(e);if(!l)return!1;const n=!!Object.entries(r).find(([S,{shortcut:g}])=>S!==t&&g&&q(l,g));return this.setState({shortcutKeys:{...r,[t]:{shortcut:l,error:n}}})},this.onFocus=e=>()=>{const{shortcutKeys:t}=this.state;this.setState({activeFeature:e,shortcutKeys:{...t,[e]:{shortcut:null,error:!1}}})},this.onBlur=async()=>{const{shortcutKeys:e,activeFeature:t}=this.state;if(e[t]){const{shortcut:r,error:l}=e[t];return!r||l?this.restoreDefault():this.saveShortcut()}return!1},this.saveShortcut=async()=>{const{activeFeature:e,shortcutKeys:t}=this.state,{setShortcut:r}=this.props;await r(e,t[e].shortcut),this.setState({successField:e})},this.restoreDefaults=async()=>{const{restoreAllDefaultShortcuts:e}=this.props,t=await e();return this.setState({shortcutKeys:d(t)})},this.restoreDefault=async()=>{const{activeFeature:e,shortcutKeys:t}=this.state,{restoreDefaultShortcut:r}=this.props,l=await r(e);return this.setState({shortcutKeys:{...t,...d({[e]:l})}})},this.displaySuccessMessage=e=>{const{successField:t,shortcutKeys:r}=this.state;return e===t&&r[e].error===!1?"valid":void 0},this.displayError=e=>{const{activeFeature:t,shortcutKeys:r}=this.state;return e===t&&r[e].error===!0?"error":void 0},this.renderKeyInput=()=>{const{shortcutKeys:e,addonsShortcutLabels:t}=this.state;return Object.entries(e).map(([l,{shortcut:n}])=>i(p,{children:[s(h,{children:D[l]||t[l]}),s(y,{spellCheck:"false",valid:this.displayError(l),className:"modalInput",onBlur:this.onBlur,onFocus:this.onFocus(l),onKeyDown:this.onKeyDown,value:n?T(n):"",placeholder:"Type keys",readOnly:!0}),s(f,{valid:this.displaySuccessMessage(l),icon:"check"})]},l))},this.renderKeyForm=()=>i(m,{children:[i(v,{children:[s(c,{children:"Commands"}),s(c,{children:"Shortcut"})]}),this.renderKeyInput()]}),this.state={activeFeature:void 0,successField:void 0,shortcutKeys:d(u.shortcutKeys),addonsShortcutLabels:u.addonsShortcutLabels}}render(){const u=this.renderKeyForm();return i(N,{children:[s(I,{children:"Keyboard shortcuts"}),u,s(_.Button,{tertiary:!0,small:!0,id:"restoreDefaultsHotkeys",onClick:this.restoreDefaults,children:"Restore defaults"}),s(V,{})]})}}try{c.displayName="HeaderItem",c.__docgenInfo={description:"",displayName:"HeaderItem",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"ElementType<any>"}}}}}catch{}try{v.displayName="GridHeaderRow",v.__docgenInfo={description:"",displayName:"GridHeaderRow",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"ElementType<any>"}}}}}catch{}try{p.displayName="Row",p.__docgenInfo={description:"",displayName:"Row",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"ElementType<any>"}}}}}catch{}try{m.displayName="GridWrapper",m.__docgenInfo={description:"",displayName:"GridWrapper",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"ElementType<any>"}}}}}catch{}try{h.displayName="Description",h.__docgenInfo={description:"",displayName:"Description",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"ElementType<any>"}}}}}catch{}try{y.displayName="TextInput",y.__docgenInfo={description:"",displayName:"TextInput",props:{height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"number"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"flex"'},{value:'"auto"'},{value:'"100%"'}]}},align:{defaultValue:null,description:"",name:"align",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"end"'},{value:'"start"'}]}},valid:{defaultValue:null,description:"",name:"valid",required:!1,type:{name:"enum",value:[{value:'"valid"'},{value:'"error"'},{value:'"warn"'}]}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}}}}}catch{}try{f.displayName="SuccessIcon",f.__docgenInfo={description:"",displayName:"SuccessIcon",props:{icon:{defaultValue:null,description:"",name:"icon",required:!0,type:{name:"enum",value:[{value:'"button"'},{value:'"form"'},{value:'"link"'},{value:'"menu"'},{value:'"time"'},{value:'"video"'},{value:'"circle"'},{value:'"filter"'},{value:'"stop"'},{value:'"clear"'},{value:'"zoom"'},{value:'"grid"'},{value:'"outline"'},{value:'"search"'},{value:'"bold"'},{value:'"key"'},{value:'"alert"'},{value:'"document"'},{value:'"timer"'},{value:'"email"'},{value:'"location"'},{value:'"copy"'},{value:'"info"'},{value:'"medium"'},{value:'"controls"'},{value:'"download"'},{value:'"type"'},{value:'"user"'},{value:'"useralt"'},{value:'"useradd"'},{value:'"users"'},{value:'"profile"'},{value:'"facehappy"'},{value:'"faceneutral"'},{value:'"facesad"'},{value:'"accessibility"'},{value:'"accessibilityalt"'},{value:'"arrowup"'},{value:'"arrowdown"'},{value:'"arrowleft"'},{value:'"arrowright"'},{value:'"arrowupalt"'},{value:'"arrowdownalt"'},{value:'"arrowleftalt"'},{value:'"arrowrightalt"'},{value:'"expandalt"'},{value:'"collapse"'},{value:'"expand"'},{value:'"unfold"'},{value:'"transfer"'},{value:'"redirect"'},{value:'"undo"'},{value:'"reply"'},{value:'"sync"'},{value:'"upload"'},{value:'"back"'},{value:'"proceed"'},{value:'"refresh"'},{value:'"globe"'},{value:'"compass"'},{value:'"pin"'},{value:'"dashboard"'},{value:'"home"'},{value:'"admin"'},{value:'"question"'},{value:'"support"'},{value:'"phone"'},{value:'"unlink"'},{value:'"bell"'},{value:'"rss"'},{value:'"sharealt"'},{value:'"share"'},{value:'"circlehollow"'},{value:'"bookmarkhollow"'},{value:'"bookmark"'},{value:'"hearthollow"'},{value:'"heart"'},{value:'"starhollow"'},{value:'"star"'},{value:'"certificate"'},{value:'"verified"'},{value:'"thumbsup"'},{value:'"shield"'},{value:'"basket"'},{value:'"beaker"'},{value:'"hourglass"'},{value:'"flag"'},{value:'"cloudhollow"'},{value:'"cloud"'},{value:'"edit"'},{value:'"cog"'},{value:'"nut"'},{value:'"wrench"'},{value:'"ellipsis"'},{value:'"check"'},{value:'"batchdeny"'},{value:'"batchaccept"'},{value:'"plus"'},{value:'"closeAlt"'},{value:'"cross"'},{value:'"trash"'},{value:'"pinalt"'},{value:'"unpin"'},{value:'"add"'},{value:'"subtract"'},{value:'"close"'},{value:'"delete"'},{value:'"passed"'},{value:'"changed"'},{value:'"failed"'},{value:'"comment"'},{value:'"commentadd"'},{value:'"requestchange"'},{value:'"comments"'},{value:'"lock"'},{value:'"unlock"'},{value:'"outbox"'},{value:'"credit"'},{value:'"pointerdefault"'},{value:'"pointerhand"'},{value:'"browser"'},{value:'"tablet"'},{value:'"mobile"'},{value:'"watch"'},{value:'"sidebar"'},{value:'"sidebaralt"'},{value:'"sidebaralttoggle"'},{value:'"sidebartoggle"'},{value:'"bottombar"'},{value:'"bottombartoggle"'},{value:'"cpu"'},{value:'"database"'},{value:'"memory"'},{value:'"structure"'},{value:'"box"'},{value:'"power"'},{value:'"photo"'},{value:'"component"'},{value:'"photodrag"'},{value:'"zoomout"'},{value:'"zoomreset"'},{value:'"eye"'},{value:'"eyeclose"'},{value:'"lightning"'},{value:'"lightningoff"'},{value:'"contrast"'},{value:'"switchalt"'},{value:'"mirror"'},{value:'"grow"'},{value:'"paintbrush"'},{value:'"ruler"'},{value:'"camera"'},{value:'"speaker"'},{value:'"play"'},{value:'"playback"'},{value:'"playnext"'},{value:'"rewind"'},{value:'"fastforward"'},{value:'"stopalt"'},{value:'"sidebyside"'},{value:'"stacked"'},{value:'"sun"'},{value:'"moon"'},{value:'"book"'},{value:'"category"'},{value:'"folder"'},{value:'"print"'},{value:'"graphline"'},{value:'"calendar"'},{value:'"graphbar"'},{value:'"menualt"'},{value:'"docchart"'},{value:'"doclist"'},{value:'"markup"'},{value:'"italic"'},{value:'"paperclip"'},{value:'"listordered"'},{value:'"listunordered"'},{value:'"paragraph"'},{value:'"markdown"'},{value:'"repository"'},{value:'"commit"'},{value:'"branch"'},{value:'"pullrequest"'},{value:'"merge"'},{value:'"apple"'},{value:'"linux"'},{value:'"ubuntu"'},{value:'"windows"'},{value:'"storybook"'},{value:'"azuredevops"'},{value:'"bitbucket"'},{value:'"chrome"'},{value:'"chromatic"'},{value:'"componentdriven"'},{value:'"discord"'},{value:'"facebook"'},{value:'"figma"'},{value:'"gdrive"'},{value:'"github"'},{value:'"gitlab"'},{value:'"google"'},{value:'"graphql"'},{value:'"redux"'},{value:'"twitter"'},{value:'"youtube"'},{value:'"vscode"'}]}},useSymbol:{defaultValue:null,description:"",name:"useSymbol",required:!1,type:{name:"boolean"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"ElementType<any>"}},valid:{defaultValue:null,description:"",name:"valid",required:!0,type:{name:"string"}}}}}catch{}try{b.displayName="ShortcutsScreen",b.__docgenInfo={description:"",displayName:"ShortcutsScreen",props:{shortcutKeys:{defaultValue:null,description:"",name:"shortcutKeys",required:!0,type:{name:'Record<"search" | "toolbar" | "fullScreen" | "togglePanel" | "panelPosition" | "toggleNav" | "focusNav" | "focusIframe" | "focusPanel" | "prevComponent" | "nextComponent" | "prevStory" | ... 5 more ... | "remount", any>'}},addonsShortcutLabels:{defaultValue:null,description:"",name:"addonsShortcutLabels",required:!1,type:{name:"Record<string, string>"}},setShortcut:{defaultValue:null,description:"",name:"setShortcut",required:!0,type:{name:"Function"}},restoreDefaultShortcut:{defaultValue:null,description:"",name:"restoreDefaultShortcut",required:!0,type:{name:"Function"}},restoreAllDefaultShortcuts:{defaultValue:null,description:"",name:"restoreAllDefaultShortcuts",required:!0,type:{name:"Function"}}}}}catch{}export{b as S};
//# sourceMappingURL=shortcuts-23617bbb.js.map
