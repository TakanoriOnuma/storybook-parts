import{r as m,R as p}from"./index-f1f2c4b1.js";import{n as h}from"./index-4b2a7d13.js";import{F as y}from"./index-a443495b.js";import{a as w}from"./helpers-a9e07cde.js";const D=n=>{const[e,r,t]=n.split("-"),a=new Date;return a.setFullYear(parseInt(e,10),parseInt(r,10)-1,parseInt(t,10)),a},$=n=>{const[e,r]=n.split(":"),t=new Date;return t.setHours(parseInt(e,10)),t.setMinutes(parseInt(r,10)),t},I=n=>{const e=new Date(n),r=`000${e.getFullYear()}`.slice(-4),t=`0${e.getMonth()+1}`.slice(-2),a=`0${e.getDate()}`.slice(-2);return`${r}-${t}-${a}`},x=n=>{const e=new Date(n),r=`0${e.getHours()}`.slice(-2),t=`0${e.getMinutes()}`.slice(-2);return`${r}:${t}`},q=h.div(({theme:n})=>({flex:1,display:"flex",input:{marginLeft:10,flex:1,height:32,"&::-webkit-calendar-picker-indicator":{opacity:.5,height:12,filter:n.base==="light"?void 0:"invert(1)"}},"input:first-of-type":{marginLeft:0,flexGrow:4},"input:last-of-type":{flexGrow:3}})),C=({name:n,value:e,onChange:r,onFocus:t,onBlur:a})=>{const[f,g]=m.useState(!0),u=m.useRef(),c=m.useRef();m.useEffect(()=>{f!==!1&&(u&&u.current&&(u.current.value=I(e)),c&&c.current&&(c.current.value=x(e)))},[e]);const T=d=>{const i=D(d.target.value),o=new Date(e);o.setFullYear(i.getFullYear(),i.getMonth(),i.getDate());const s=o.getTime();s&&r(s),g(!!s)},v=d=>{const i=$(d.target.value),o=new Date(e);o.setHours(i.getHours()),o.setMinutes(i.getMinutes());const s=o.getTime();s&&r(s),g(!!s)},l=w(n);return p.createElement(q,null,p.createElement(y.Input,{type:"date",max:"9999-12-31",ref:u,id:`${l}-date`,name:`${l}-date`,onChange:T,onFocus:t,onBlur:a}),p.createElement(y.Input,{type:"time",id:`${l}-time`,name:`${l}-time`,ref:c,onChange:v,onFocus:t,onBlur:a}),f?null:p.createElement("div",null,"invalid"))};C.__docgenInfo={description:"",methods:[],displayName:"DateControl",props:{name:{required:!0,tsType:{name:"string"},description:""},value:{required:!1,tsType:{name:"T"},description:""},defaultValue:{required:!1,tsType:{name:"T"},description:""},argType:{required:!1,tsType:{name:"ArgType"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: T) => T | void",signature:{arguments:[{type:{name:"T"},name:"value"}],return:{name:"union",raw:"T | void",elements:[{name:"T"},{name:"void"}]}}},description:""},onFocus:{required:!1,tsType:{name:"signature",type:"function",raw:"(evt: any) => void",signature:{arguments:[{type:{name:"any"},name:"evt"}],return:{name:"void"}}},description:""},onBlur:{required:!1,tsType:{name:"signature",type:"function",raw:"(evt: any) => void",signature:{arguments:[{type:{name:"any"},name:"evt"}],return:{name:"void"}}},description:""}}};export{C as D};
//# sourceMappingURL=Date-f9d82492.js.map
