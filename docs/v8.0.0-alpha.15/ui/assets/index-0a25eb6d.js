import{q as te,p as ne}from"./chunk-TNTLX5UL-4d44e490.js";import{R as K,r as c}from"./index-f1f2c4b1.js";var ae=(()=>{let e;return typeof window<"u"?e=window:typeof globalThis<"u"?e=globalThis:typeof global<"u"?e=global:typeof self<"u"?e=self:e={},e})();function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},O.apply(this,arguments)}var x;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(x||(x={}));var U=function(e){return Object.freeze(e)};function re(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}var q="beforeunload",oe="popstate";function ie(e){e===void 0&&(e={});var t=e,n=t.window,a=n===void 0?document.defaultView:n,r=a.history;function o(){var i=a.location,f=i.pathname,v=i.search,b=i.hash,w=r.state||{};return[w.idx,U({pathname:f,search:v,hash:b,state:w.usr||null,key:w.key||"default"})]}var l=null;function s(){if(l)h.call(l),l=null;else{var i=x.Pop,f=o(),v=f[0],b=f[1];if(h.length)if(v!=null){var w=d-v;w&&(l={action:i,location:b,retry:function(){C(w*-1)}},C(w))}else re(!1,"You are trying to block a POP navigation to a location that was not created by the history library. The block will fail silently in production, but in general you should do all navigation with the history library (instead of using window.history.pushState directly) to avoid this situation.");else H(i)}}a.addEventListener(oe,s);var u=x.Pop,p=o(),d=p[0],y=p[1],m=Q(),h=Q();d==null&&(d=0,r.replaceState(O({},r.state,{idx:d}),""));function g(i){return typeof i=="string"?i:M(i)}function P(i,f){return f===void 0&&(f=null),U(O({pathname:y.pathname,hash:"",search:""},typeof i=="string"?R(i):i,{state:f,key:le()}))}function L(i,f){return[{usr:i.state,key:i.key,idx:f},g(i)]}function N(i,f,v){return!h.length||(h.call({action:i,location:f,retry:v}),!1)}function H(i){u=i;var f=o();d=f[0],y=f[1],m.call({action:u,location:y})}function D(i,f){var v=x.Push,b=P(i,f);function w(){D(i,f)}if(N(v,b,w)){var k=L(b,d+1),J=k[0],S=k[1];try{r.pushState(J,"",S)}catch{a.location.assign(S)}H(v)}}function Y(i,f){var v=x.Replace,b=P(i,f);function w(){Y(i,f)}if(N(v,b,w)){var k=L(b,d),J=k[0],S=k[1];r.replaceState(J,"",S),H(v)}}function C(i){r.go(i)}var ee={get action(){return u},get location(){return y},createHref:g,push:D,replace:Y,go:C,back:function(){C(-1)},forward:function(){C(1)},listen:function(f){return m.push(f)},block:function(f){var v=h.push(f);return h.length===1&&a.addEventListener(q,F),function(){v(),h.length||a.removeEventListener(q,F)}}};return ee}function F(e){e.preventDefault(),e.returnValue=""}function Q(){var e=[];return{get length(){return e.length},push:function(n){return e.push(n),function(){e=e.filter(function(a){return a!==n})}},call:function(n){e.forEach(function(a){return a&&a(n)})}}}function le(){return Math.random().toString(36).substr(2,8)}function M(e){var t=e.pathname,n=t===void 0?"/":t,a=e.search,r=a===void 0?"":a,o=e.hash,l=o===void 0?"":o;return r&&r!=="?"&&(n+=r.charAt(0)==="?"?r:"?"+r),l&&l!=="#"&&(n+=l.charAt(0)==="#"?l:"#"+l),n}function R(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function W(e,t){if(!e)throw new Error(t)}function V(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}var T=c.createContext(null);T.displayName="Navigation";var B=c.createContext(null);B.displayName="Location";var _=c.createContext({outlet:null,matches:[]});_.displayName="Route";function I(e){let{basename:t="/",children:n=null,location:a,navigationType:r=x.Pop,navigator:o,static:l=!1}=e;$()&&W(!1,"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=de(t),u=c.useMemo(()=>({basename:s,navigator:o,static:l}),[s,o,l]);typeof a=="string"&&(a=R(a));let{pathname:p="/",search:d="",hash:y="",state:m=null,key:h="default"}=a,g=c.useMemo(()=>{let P=pe(p,s);return P==null?null:{pathname:P,search:d,hash:y,state:m,key:h}},[s,p,d,y,m,h]);return V(g!=null,'<Router basename="'+s+'"> is not able to match the URL '+('"'+p+d+y+'" because it does not start with the ')+"basename, so the <Router> won't render anything."),g==null?null:c.createElement(T.Provider,{value:u},c.createElement(B.Provider,{children:n,value:{location:g,navigationType:r}}))}function se(e){$()||W(!1,"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=c.useContext(T),{hash:a,pathname:r,search:o}=z(e),l=r;if(t!=="/"){let s=he(e),u=s!=null&&s.endsWith("/");l=r==="/"?t+(u?"/":""):X([t,r])}return n.createHref({pathname:l,search:o,hash:a})}function $(){return c.useContext(B)!=null}function E(){return $()||W(!1,"useLocation() may be used only in the context of a <Router> component."),c.useContext(B).location}function ue(){$()||W(!1,"useNavigate() may be used only in the context of a <Router> component.");let{basename:e,navigator:t}=c.useContext(T),{matches:n}=c.useContext(_),{pathname:a}=E(),r=JSON.stringify(n.map(s=>s.pathnameBase)),o=c.useRef(!1);return c.useEffect(()=>{o.current=!0}),c.useCallback(function(s,u){if(u===void 0&&(u={}),V(o.current,"You should call navigate() in a React.useEffect(), not when your component is first rendered."),!o.current)return;if(typeof s=="number"){t.go(s);return}let p=G(s,JSON.parse(r),a);e!=="/"&&(p.pathname=X([e,p.pathname])),(u.replace?t.replace:t.push)(p,u.state)},[e,t,r,a])}function z(e){let{matches:t}=c.useContext(_),{pathname:n}=E(),a=JSON.stringify(t.map(r=>r.pathnameBase));return c.useMemo(()=>G(e,JSON.parse(a),n),[e,a,n])}function ce(e,t){t===void 0&&(t="/");let{pathname:n,search:a="",hash:r=""}=typeof e=="string"?R(e):e;return{pathname:n?n.startsWith("/")?n:fe(n,t):t,search:ve(a),hash:me(r)}}function fe(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function G(e,t,n){let a=typeof e=="string"?R(e):e,r=e===""||a.pathname===""?"/":a.pathname,o;if(r==null)o=n;else{let s=t.length-1;if(r.startsWith("..")){let u=r.split("/");for(;u[0]==="..";)u.shift(),s-=1;a.pathname=u.join("/")}o=s>=0?t[s]:"/"}let l=ce(a,o);return r&&r!=="/"&&r.endsWith("/")&&!l.pathname.endsWith("/")&&(l.pathname+="/"),l}function he(e){return e===""||e.pathname===""?"/":typeof e=="string"?R(e).pathname:e.pathname}function pe(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=e.charAt(t.length);return n&&n!=="/"?null:e.slice(t.length)||"/"}var X=e=>e.join("/").replace(/\/\/+/g,"/"),de=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ve=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,me=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function j(){return j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},j.apply(this,arguments)}function Z(e,t){if(e==null)return{};var n={},a=Object.keys(e),r,o;for(o=0;o<a.length;o++)r=a[o],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}var ye=["onClick","reloadDocument","replace","state","target","to"],ge=["aria-current","caseSensitive","className","end","style","to"];function we(e){let{basename:t,children:n,window:a}=e,r=c.useRef();r.current==null&&(r.current=ie({window:a}));let o=r.current,[l,s]=c.useState({action:o.action,location:o.location});return c.useLayoutEffect(()=>o.listen(s),[o]),c.createElement(I,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o})}function be(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var A=c.forwardRef(function(t,n){let{onClick:a,reloadDocument:r,replace:o=!1,state:l,target:s,to:u}=t,p=Z(t,ye),d=se(u),y=xe(u,{replace:o,state:l,target:s});function m(h){a&&a(h),!h.defaultPrevented&&!r&&y(h)}return c.createElement("a",j({},p,{href:d,onClick:m,ref:n,target:s}))});A.displayName="Link";var Pe=c.forwardRef(function(t,n){let{"aria-current":a="page",caseSensitive:r=!1,className:o="",end:l=!1,style:s,to:u}=t,p=Z(t,ge),d=E(),y=z(u),m=d.pathname,h=y.pathname;r||(m=m.toLowerCase(),h=h.toLowerCase());let g=m===h||!l&&m.startsWith(h)&&m.charAt(h.length)==="/",P=g?a:void 0,L;typeof o=="function"?L=o({isActive:g}):L=[o,g?"active":null].filter(Boolean).join(" ");let N=typeof s=="function"?s({isActive:g}):s;return c.createElement(A,j({},p,{"aria-current":P,className:L,ref:n,style:N,to:u}))});Pe.displayName="NavLink";function xe(e,t){let{target:n,replace:a,state:r}=t===void 0?{}:t,o=ue(),l=E(),s=z(e);return c.useCallback(u=>{if(u.button===0&&(!n||n==="_self")&&!be(u)){u.preventDefault();let p=!!a||M(l)===M(s);o(e,{replace:p,state:r})}},[l,o,s,a,r,n,e])}var{document:Le}=ae,ke=()=>`${Le.location.pathname}?`,Ce=({to:e,children:t,...n})=>K.createElement(A,{to:`${ke()}path=${e}`,...n},t);Ce.displayName="QueryLink";var Re=({children:e})=>{const t=E(),{path:n,singleStory:a}=te(t.search),{viewMode:r,storyId:o,refId:l}=ne(n);return K.createElement(K.Fragment,null,e({path:n||"/",location:t,viewMode:r,storyId:o,refId:l,singleStory:a==="true"}))};Re.displayName="QueryLocation";var Oe=(...e)=>we(...e),je=(...e)=>I(...e);export{je as B,Ce as L,Oe as a,Re as b};
//# sourceMappingURL=index-0a25eb6d.js.map
