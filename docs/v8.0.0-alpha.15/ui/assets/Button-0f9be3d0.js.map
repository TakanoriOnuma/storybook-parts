{"version":3,"file":"Button-0f9be3d0.js","sources":["../../ui/components/src/components/Button/Button.tsx"],"sourcesContent":["import type { ButtonHTMLAttributes, SyntheticEvent } from 'react';\nimport React, { forwardRef, useEffect, useState } from 'react';\nimport { isPropValid, styled } from '@storybook/theming';\nimport { darken, lighten, rgba, transparentize } from 'polished';\nimport { Slot } from '@radix-ui/react-slot';\nimport { deprecate } from '@storybook/client-logger';\n\nexport interface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  asChild?: boolean;\n  size?: 'small' | 'medium';\n  padding?: 'small' | 'medium';\n  variant?: 'outline' | 'solid' | 'ghost';\n  onClick?: (event: SyntheticEvent) => void;\n  disabled?: boolean;\n  active?: boolean;\n  animation?: 'none' | 'rotate360' | 'glow' | 'jiggle';\n\n  /** @deprecated Use {@link asChild} instead. This will be removed in Storybook 9.0 */\n  isLink?: boolean;\n  /** @deprecated Use {@link variant} instead. This will be removed in Storybook 9.0 */\n  primary?: boolean;\n  /** @deprecated Use {@link variant} instead. This will be removed in Storybook 9.0 */\n  secondary?: boolean;\n  /** @deprecated Use {@link variant} instead. This will be removed in Storybook 9.0 */\n  tertiary?: boolean;\n  /** @deprecated Use {@link variant} instead. This will be removed in Storybook 9.0 */\n  gray?: boolean;\n  /** @deprecated Use {@link variant} instead. This will be removed in Storybook 9.0 */\n  inForm?: boolean;\n  /** @deprecated Use {@link size} instead. This will be removed in Storybook 9.0 */\n  small?: boolean;\n  /** @deprecated Use {@link variant} instead. This will be removed in Storybook 9.0 */\n  outline?: boolean;\n  /** @deprecated Add your icon as a child directly. This will be removed in Storybook 9.0 */\n  containsIcon?: boolean;\n}\n\nexport const Button = forwardRef<HTMLButtonElement, ButtonProps>(\n  (\n    {\n      asChild = false,\n      animation = 'none',\n      size = 'small',\n      variant = 'outline',\n      padding = 'medium',\n      disabled = false,\n      active = false,\n      onClick,\n      ...props\n    },\n    ref\n  ) => {\n    let Comp: 'button' | 'a' | typeof Slot = 'button';\n    if (props.isLink) Comp = 'a';\n    if (asChild) Comp = Slot;\n    let localVariant = variant;\n    let localSize = size;\n\n    const [isAnimating, setIsAnimating] = useState(false);\n\n    const handleClick = (event: SyntheticEvent) => {\n      if (onClick) onClick(event);\n      if (animation === 'none') return;\n      setIsAnimating(true);\n    };\n\n    useEffect(() => {\n      const timer = setTimeout(() => {\n        if (isAnimating) setIsAnimating(false);\n      }, 1000);\n      return () => clearTimeout(timer);\n    }, [isAnimating]);\n\n    // Match the old API with the new API.\n    // TODO: Remove this after 9.0.\n    if (props.primary) {\n      localVariant = 'solid';\n      localSize = 'medium';\n    }\n\n    // Match the old API with the new API.\n    // TODO: Remove this after 9.0.\n    if (props.secondary || props.tertiary || props.gray || props.outline || props.inForm) {\n      localVariant = 'outline';\n      localSize = 'medium';\n    }\n\n    if (\n      props.small ||\n      props.isLink ||\n      props.primary ||\n      props.secondary ||\n      props.tertiary ||\n      props.gray ||\n      props.outline ||\n      props.inForm ||\n      props.containsIcon\n    ) {\n      const buttonContent = React.Children.toArray(props.children).filter(\n        (e) => typeof e === 'string' && e !== ''\n      );\n\n      deprecate(\n        `Use of deprecated props in the button ${\n          buttonContent.length > 0 ? `\"${buttonContent.join(' ')}\"` : 'component'\n        } detected, see the migration notes at https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#new-ui-and-props-for-button-and-iconbutton-components`\n      );\n    }\n\n    return (\n      <StyledButton\n        as={Comp}\n        ref={ref}\n        variant={localVariant}\n        size={localSize}\n        padding={padding}\n        disabled={disabled}\n        active={active}\n        animating={isAnimating}\n        animation={animation}\n        onClick={handleClick}\n        {...props}\n      />\n    );\n  }\n);\n\nButton.displayName = 'Button';\n\nconst StyledButton = styled('button', {\n  shouldForwardProp: (prop) => isPropValid(prop),\n})<\n  ButtonProps & {\n    animating: boolean;\n    animation: ButtonProps['animation'];\n  }\n>(({ theme, variant, size, disabled, active, animating, animation, padding }) => ({\n  border: 0,\n  cursor: disabled ? 'not-allowed' : 'pointer',\n  display: 'inline-flex',\n  gap: '6px',\n  alignItems: 'center',\n  justifyContent: 'center',\n  overflow: 'hidden',\n  padding: (() => {\n    if (padding === 'small' && size === 'small') return '0 7px';\n    if (padding === 'small' && size === 'medium') return '0 9px';\n    if (size === 'small') return '0 10px';\n    if (size === 'medium') return '0 12px';\n    return 0;\n  })(),\n  height: size === 'small' ? '28px' : '32px',\n  position: 'relative',\n  textAlign: 'center',\n  textDecoration: 'none',\n  transitionProperty: 'background, box-shadow',\n  transitionDuration: '150ms',\n  transitionTimingFunction: 'ease-out',\n  verticalAlign: 'top',\n  whiteSpace: 'nowrap',\n  userSelect: 'none',\n  opacity: disabled ? 0.5 : 1,\n  margin: 0,\n  fontSize: `${theme.typography.size.s1}px`,\n  fontWeight: theme.typography.weight.bold,\n  lineHeight: '1',\n  background: (() => {\n    if (variant === 'solid') return theme.color.secondary;\n    if (variant === 'outline') return theme.button.background;\n    if (variant === 'ghost' && active) return theme.background.hoverable;\n    return 'transparent';\n  })(),\n  color: (() => {\n    if (variant === 'solid') return theme.color.lightest;\n    if (variant === 'outline') return theme.input.color;\n    if (variant === 'ghost' && active) return theme.color.secondary;\n    if (variant === 'ghost') return theme.color.mediumdark;\n    return theme.input.color;\n  })(),\n  boxShadow: variant === 'outline' ? `${theme.button.border} 0 0 0 1px inset` : 'none',\n  borderRadius: theme.input.borderRadius,\n  // Making sure that the button never shrinks below its minimum size\n  flexShrink: 0,\n\n  '&:hover': {\n    color: variant === 'ghost' ? theme.color.secondary : null,\n    background: (() => {\n      let bgColor = theme.color.secondary;\n      if (variant === 'solid') bgColor = theme.color.secondary;\n      if (variant === 'outline') bgColor = theme.button.background;\n\n      if (variant === 'ghost') return transparentize(0.86, theme.color.secondary);\n      return theme.base === 'light' ? darken(0.02, bgColor) : lighten(0.03, bgColor);\n    })(),\n  },\n\n  '&:active': {\n    color: variant === 'ghost' ? theme.color.secondary : null,\n    background: (() => {\n      let bgColor = theme.color.secondary;\n      if (variant === 'solid') bgColor = theme.color.secondary;\n      if (variant === 'outline') bgColor = theme.button.background;\n\n      if (variant === 'ghost') return theme.background.hoverable;\n      return theme.base === 'light' ? darken(0.02, bgColor) : lighten(0.03, bgColor);\n    })(),\n  },\n\n  '&:focus': {\n    boxShadow: `${rgba(theme.color.secondary, 1)} 0 0 0 1px inset`,\n    outline: 'none',\n  },\n\n  '> svg': {\n    animation:\n      animating && animation !== 'none' ? `${theme.animation[animation]} 1000ms ease-out` : '',\n  },\n}));\n"],"names":["deprecate","Button","forwardRef","asChild","animation","size","variant","padding","disabled","active","onClick","props","ref","Comp","Slot","localVariant","localSize","isAnimating","setIsAnimating","useState","handleClick","event","useEffect","timer","buttonContent","React","e","StyledButton","styled","prop","isPropValid","theme","animating","bgColor","transparentize","darken","lighten","rgba"],"mappings":"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"}