{"version":3,"file":"chunk-AT66UTFE-23ee157f.js","sources":["../../node_modules/@storybook/addon-actions/dist/chunk-AT66UTFE.mjs"],"sourcesContent":["import { v4 } from 'uuid';\nimport { addons } from '@storybook/preview-api';\nimport { global } from '@storybook/global';\nimport { ImplicitActionsDuringRendering } from '@storybook/core-events/preview-errors';\n\n// src/constants.ts\nvar PARAM_KEY = \"actions\";\nvar ADDON_ID = \"storybook/actions\";\nvar PANEL_ID = `${ADDON_ID}/panel`;\nvar EVENT_ID = `${ADDON_ID}/action-event`;\nvar CLEAR_ID = `${ADDON_ID}/action-clear`;\nvar CYCLIC_KEY = \"$___storybook.isCyclic\";\n\n// src/runtime/configureActions.ts\nvar config = {\n  depth: 10,\n  clearOnStoryChange: true,\n  limit: 50\n};\nvar configureActions = (options = {}) => {\n  Object.assign(config, options);\n};\nvar findProto = (obj, callback) => {\n  const proto = Object.getPrototypeOf(obj);\n  if (!proto || callback(proto))\n    return proto;\n  return findProto(proto, callback);\n};\nvar isReactSyntheticEvent = (e) => Boolean(\n  typeof e === \"object\" && e && findProto(e, (proto) => /^Synthetic(?:Base)?Event$/.test(proto.constructor.name)) && typeof e.persist === \"function\"\n);\nvar serializeArg = (a) => {\n  if (isReactSyntheticEvent(a)) {\n    const e = Object.create(\n      // @ts-expect-error (Converted from ts-ignore)\n      a.constructor.prototype,\n      Object.getOwnPropertyDescriptors(a)\n    );\n    e.persist();\n    const viewDescriptor = Object.getOwnPropertyDescriptor(e, \"view\");\n    const view = viewDescriptor?.value;\n    if (typeof view === \"object\" && view?.constructor.name === \"Window\") {\n      Object.defineProperty(e, \"view\", {\n        ...viewDescriptor,\n        value: Object.create(view.constructor.prototype)\n      });\n    }\n    return e;\n  }\n  return a;\n};\nvar generateId = () => {\n  return typeof crypto === \"object\" && typeof crypto.getRandomValues === \"function\" ? v4() : (\n    // pseudo random id, example response lo1e7zm4832bkr7yfl7\n    Date.now().toString(36) + Math.random().toString(36).substring(2)\n  );\n};\nfunction action(name, options = {}) {\n  const actionOptions = {\n    ...config,\n    ...options\n  };\n  const handler = function actionHandler(...args) {\n    if (options.implicit) {\n      const preview = \"__STORYBOOK_PREVIEW__\" in global ? (\n        // eslint-disable-next-line no-underscore-dangle\n        global.__STORYBOOK_PREVIEW__\n      ) : void 0;\n      const storyRenderer = preview?.storyRenders.find(\n        (render) => render.phase === \"playing\" || render.phase === \"rendering\"\n      );\n      if (storyRenderer) {\n        const deprecated = !window?.FEATURES?.disallowImplicitActionsInRenderV8;\n        const error = new ImplicitActionsDuringRendering({\n          phase: storyRenderer.phase,\n          name,\n          deprecated\n        });\n        if (deprecated) {\n          console.warn(error);\n        } else {\n          throw error;\n        }\n      }\n    }\n    const channel = addons.getChannel();\n    const id = generateId();\n    const minDepth = 5;\n    const serializedArgs = args.map(serializeArg);\n    const normalizedArgs = args.length > 1 ? serializedArgs : serializedArgs[0];\n    const actionDisplayToEmit = {\n      id,\n      count: 0,\n      data: { name, args: normalizedArgs },\n      options: {\n        ...actionOptions,\n        maxDepth: minDepth + (actionOptions.depth || 3),\n        allowFunction: actionOptions.allowFunction || false\n      }\n    };\n    channel.emit(EVENT_ID, actionDisplayToEmit);\n  };\n  handler.isAction = true;\n  return handler;\n}\n\n// src/runtime/actions.ts\nvar actions = (...args) => {\n  let options = config;\n  let names = args;\n  if (names.length === 1 && Array.isArray(names[0])) {\n    [names] = names;\n  }\n  if (names.length !== 1 && typeof names[names.length - 1] !== \"string\") {\n    options = {\n      ...config,\n      ...names.pop()\n    };\n  }\n  let namesObject = names[0];\n  if (names.length !== 1 || typeof namesObject === \"string\") {\n    namesObject = {};\n    names.forEach((name) => {\n      namesObject[name] = name;\n    });\n  }\n  const actionsObject = {};\n  Object.keys(namesObject).forEach((name) => {\n    actionsObject[name] = action(namesObject[name], options);\n  });\n  return actionsObject;\n};\n\nexport { ADDON_ID, CLEAR_ID, CYCLIC_KEY, EVENT_ID, PANEL_ID, PARAM_KEY, action, actions, config, configureActions };\n"],"names":["addons","global","ImplicitActionsDuringRendering","ADDON_ID","EVENT_ID","config","findProto","obj","callback","proto","isReactSyntheticEvent","serializeArg","a","e","viewDescriptor","view","generateId","v4","action","name","options","actionOptions","handler","args","preview","storyRenderer","render","deprecated","_a","error","channel","id","minDepth","serializedArgs","normalizedArgs","actionDisplayToEmit","actions","names","namesObject","actionsObject"],"mappings":"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","x_google_ignoreList":[0]}