{"version":3,"file":"Tooltip-13cb3c0b.js","sources":["../../ui/components/src/tooltip/Tooltip.tsx"],"sourcesContent":["import React from 'react';\nimport memoize from 'memoizerific';\n\nimport { styled, type Color, lighten } from '@storybook/theming';\n\nconst match = memoize(1000)((requests, actual, value, fallback = 0) =>\n  actual.split('-')[0] === requests ? value : fallback\n);\n\nconst ArrowSpacing = 8;\n\nexport interface ArrowProps {\n  color: keyof Color;\n  placement: string;\n}\n\nconst Arrow = styled.div<ArrowProps>(\n  {\n    position: 'absolute',\n    borderStyle: 'solid',\n  },\n  ({ placement }) => {\n    let x = 0;\n    let y = 0;\n\n    switch (true) {\n      case placement.startsWith('left') || placement.startsWith('right'): {\n        y = 8;\n        break;\n      }\n      case placement.startsWith('top') || placement.startsWith('bottom'): {\n        x = 8;\n        break;\n      }\n      default: {\n        //\n      }\n    }\n\n    const transform = `translate3d(${x}px, ${y}px, 0px)`;\n    return { transform };\n  },\n  ({ theme, color, placement }) => ({\n    bottom: `${match('top', placement, `${ArrowSpacing * -1}px`, 'auto')}`,\n    top: `${match('bottom', placement, `${ArrowSpacing * -1}px`, 'auto')}`,\n    right: `${match('left', placement, `${ArrowSpacing * -1}px`, 'auto')}`,\n    left: `${match('right', placement, `${ArrowSpacing * -1}px`, 'auto')}`,\n\n    borderBottomWidth: `${match('top', placement, '0', ArrowSpacing)}px`,\n    borderTopWidth: `${match('bottom', placement, '0', ArrowSpacing)}px`,\n    borderRightWidth: `${match('left', placement, '0', ArrowSpacing)}px`,\n    borderLeftWidth: `${match('right', placement, '0', ArrowSpacing)}px`,\n\n    borderTopColor: match(\n      'top',\n      placement,\n      theme.color[color] || color || theme.base === 'light'\n        ? lighten(theme.background.app)\n        : theme.background.app,\n      'transparent'\n    ),\n    borderBottomColor: match(\n      'bottom',\n      placement,\n      theme.color[color] || color || theme.base === 'light'\n        ? lighten(theme.background.app)\n        : theme.background.app,\n      'transparent'\n    ),\n    borderLeftColor: match(\n      'left',\n      placement,\n      theme.color[color] || color || theme.base === 'light'\n        ? lighten(theme.background.app)\n        : theme.background.app,\n      'transparent'\n    ),\n    borderRightColor: match(\n      'right',\n      placement,\n      theme.color[color] || color || theme.base === 'light'\n        ? lighten(theme.background.app)\n        : theme.background.app,\n      'transparent'\n    ),\n  })\n);\n\nexport interface WrapperProps {\n  color: keyof Color;\n  hidden?: boolean;\n  hasChrome: boolean;\n}\n\nconst Wrapper = styled.div<WrapperProps>(\n  ({ hidden }) => ({\n    display: hidden ? 'none' : 'inline-block',\n    zIndex: 2147483647,\n  }),\n  ({ theme, color, hasChrome }) =>\n    hasChrome\n      ? {\n          background:\n            theme.color[color] || color || theme.base === 'light'\n              ? lighten(theme.background.app)\n              : theme.background.app,\n          filter: `\n            drop-shadow(0px 5px 5px rgba(0,0,0,0.05))\n            drop-shadow(0 1px 3px rgba(0,0,0,0.1))\n          `,\n          borderRadius: theme.appBorderRadius,\n          fontSize: theme.typography.size.s1,\n        }\n      : {}\n);\n\nexport interface TooltipProps {\n  children?: React.ReactNode;\n  tooltipRef?: any;\n  hasChrome?: boolean;\n  arrowProps?: any;\n  placement?: string;\n  color?: keyof Color;\n  withArrows?: boolean;\n}\n\nexport const Tooltip = React.forwardRef<HTMLDivElement, TooltipProps>(\n  (\n    { placement, hasChrome, children, arrowProps, tooltipRef, color, withArrows, ...props },\n    ref\n  ) => {\n    return (\n      <Wrapper data-testid=\"tooltip\" hasChrome={hasChrome} ref={ref} {...props} color={color}>\n        {hasChrome && withArrows && <Arrow placement={placement} {...arrowProps} color={color} />}\n        {children}\n      </Wrapper>\n    );\n  }\n);\n\nTooltip.displayName = 'Tooltip';\nTooltip.defaultProps = {\n  color: undefined,\n  tooltipRef: undefined,\n  hasChrome: true,\n  placement: 'top',\n  arrowProps: {},\n};\n"],"names":["match","memoize","requests","actual","value","fallback","ArrowSpacing","Arrow","styled","placement","x","y","theme","color","lighten","Wrapper","hidden","hasChrome","Tooltip","React","children","arrowProps","tooltipRef","withArrows","props","ref","jsxs","jsx"],"mappings":"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"}