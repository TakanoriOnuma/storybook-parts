{"version":3,"file":"HighlightStyles-bdd60786.js","sources":["../../ui/manager/src/components/sidebar/TreeNode.tsx","../../ui/manager/src/components/sidebar/HighlightStyles.tsx"],"sourcesContent":["import { styled } from '@storybook/theming';\nimport type { Color, Theme } from '@storybook/theming';\nimport { Icons } from '@storybook/components';\nimport { transparentize } from 'polished';\nimport type { FunctionComponent, ComponentProps } from 'react';\nimport React from 'react';\n\nexport const CollapseIcon = styled.span<{ isExpanded: boolean }>(({ theme, isExpanded }) => ({\n  display: 'inline-block',\n  width: 0,\n  height: 0,\n  marginTop: 6,\n  marginLeft: 8,\n  marginRight: 5,\n  color: transparentize(0.4, theme.textMutedColor),\n  borderTop: '3px solid transparent',\n  borderBottom: '3px solid transparent',\n  borderLeft: `3px solid`,\n  transform: isExpanded ? 'rotateZ(90deg)' : 'none',\n  transition: 'transform .1s ease-out',\n}));\n\nconst iconColors = {\n  light: {\n    document: '#ff8300',\n    docsModeDocument: 'secondary',\n    bookmarkhollow: 'seafoam',\n    component: 'secondary',\n    folder: 'ultraviolet',\n  },\n  dark: {\n    document: 'gold',\n    docsModeDocument: 'secondary',\n    bookmarkhollow: 'seafoam',\n    component: 'secondary',\n    folder: 'primary',\n  },\n};\nconst isColor = (theme: Theme, color: string): color is keyof Color => color in theme.color;\nconst TypeIcon = styled(Icons)<{ docsMode?: boolean }>(\n  {\n    width: 12,\n    height: 12,\n    padding: 1,\n    marginTop: 3,\n    marginRight: 5,\n    flex: '0 0 auto',\n  },\n\n  // @ts-expect-error (TODO)\n  ({ theme, icon, symbol = icon, docsMode }) => {\n    const colors = theme.base === 'dark' ? iconColors.dark : iconColors.light;\n    const colorKey = docsMode && symbol === 'document' ? 'docsModeDocument' : symbol;\n    const color = colors[colorKey as keyof typeof colors];\n    return { color: isColor(theme, color) ? theme.color[color] : color };\n  }\n);\n\nconst BranchNode = styled.button<{\n  depth?: number;\n  isExpandable?: boolean;\n  isExpanded?: boolean;\n  isComponent?: boolean;\n  isSelected?: boolean;\n}>(({ theme, depth = 0, isExpandable = false }) => ({\n  width: '100%',\n  border: 'none',\n  cursor: 'pointer',\n  display: 'flex',\n  alignItems: 'start',\n  textAlign: 'left',\n  padding: 3,\n  paddingLeft: `${(isExpandable ? 2 : 18) + depth * 16}px`,\n  color: 'inherit',\n  fontSize: `${theme.typography.size.s2 - 1}px`,\n  background: 'transparent',\n  '&:hover, &:focus': {\n    background: theme.background.hoverable,\n    outline: 'none',\n  },\n}));\n\nconst LeafNode = styled.a<{ depth?: number }>(({ theme, depth = 0 }) => ({\n  cursor: 'pointer',\n  display: 'flex',\n  alignItems: 'start',\n  padding: 3,\n  paddingLeft: `${18 + depth * 16}px`,\n  fontSize: `${theme.typography.size.s2 - 1}px`,\n  textDecoration: 'none',\n  color: theme.color.defaultText,\n  background: 'transparent',\n  '&:hover, &:focus': {\n    outline: 'none',\n    background: theme.background.hoverable,\n  },\n  '&[data-selected=\"true\"]': {\n    color: theme.color.lightest,\n    background: theme.color.secondary,\n    fontWeight: theme.typography.weight.bold,\n    '&:hover, &:focus': {\n      background: theme.color.secondary,\n    },\n    svg: { color: theme.color.lightest },\n  },\n}));\n\nexport const Path = styled.span(({ theme }) => ({\n  display: 'grid',\n  justifyContent: 'start',\n  gridAutoColumns: 'auto',\n  gridAutoFlow: 'column',\n  color: theme.textMutedColor,\n  fontSize: `${theme.typography.size.s1 - 1}px`,\n  '& > span': {\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n  },\n  '& > span + span': {\n    position: 'relative',\n    marginLeft: 4,\n    paddingLeft: 7,\n    '&:before': {\n      content: \"'/'\",\n      position: 'absolute',\n      left: 0,\n    },\n  },\n}));\n\nexport const RootNode = styled.div(({ theme }) => ({\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'space-between',\n  padding: '0 20px',\n  marginTop: 16,\n  marginBottom: 4,\n  fontSize: `${theme.typography.size.s1 - 1}px`,\n  fontWeight: theme.typography.weight.bold,\n  lineHeight: '16px',\n  minHeight: 20,\n  letterSpacing: '0.35em',\n  textTransform: 'uppercase',\n  color: theme.textMutedColor,\n}));\n\nexport const GroupNode: FunctionComponent<\n  ComponentProps<typeof BranchNode> & { isExpanded?: boolean; isExpandable?: boolean }\n> = React.memo(function GroupNode({\n  children,\n  isExpanded = false,\n  isExpandable = false,\n  ...props\n}) {\n  return (\n    <BranchNode isExpandable={isExpandable} tabIndex={-1} {...props}>\n      {isExpandable ? <CollapseIcon isExpanded={isExpanded} /> : null}\n      <TypeIcon icon=\"folder\" useSymbol color=\"primary\" />\n      {children}\n    </BranchNode>\n  );\n});\n\nexport const ComponentNode: FunctionComponent<ComponentProps<typeof BranchNode>> = React.memo(\n  function ComponentNode({ theme, children, isExpanded, isExpandable, isSelected, ...props }) {\n    return (\n      <BranchNode isExpandable={isExpandable} tabIndex={-1} {...props}>\n        {isExpandable && <CollapseIcon isExpanded={isExpanded} />}\n        <TypeIcon icon=\"component\" useSymbol color=\"secondary\" />\n        {children}\n      </BranchNode>\n    );\n  }\n);\n\nexport const DocumentNode: FunctionComponent<\n  ComponentProps<typeof LeafNode> & { docsMode: boolean }\n> = React.memo(function DocumentNode({ theme, children, docsMode, ...props }) {\n  return (\n    <LeafNode tabIndex={-1} {...props}>\n      <TypeIcon icon=\"document\" useSymbol docsMode={docsMode} />\n      {children}\n    </LeafNode>\n  );\n});\n\nexport const StoryNode: FunctionComponent<ComponentProps<typeof LeafNode>> = React.memo(\n  function StoryNode({ theme, children, ...props }) {\n    return (\n      <LeafNode tabIndex={-1} {...props}>\n        <TypeIcon icon=\"bookmarkhollow\" useSymbol />\n        {children}\n      </LeafNode>\n    );\n  }\n);\n","import { transparentize } from 'polished';\nimport type { FC } from 'react';\nimport React from 'react';\nimport { Global } from '@storybook/theming';\nimport type { Highlight } from './types';\n\nexport const HighlightStyles: FC<Highlight> = ({ refId, itemId }) => (\n  <Global\n    styles={({ color }) => {\n      const background = transparentize(0.85, color.secondary);\n      return {\n        [`[data-ref-id=\"${refId}\"][data-item-id=\"${itemId}\"]:not([data-selected=\"true\"])`]: {\n          [`&[data-nodetype=\"component\"], &[data-nodetype=\"group\"]`]: {\n            background,\n            '&:hover, &:focus': { background },\n          },\n          [`&[data-nodetype=\"story\"], &[data-nodetype=\"document\"]`]: {\n            color: color.defaultText,\n            background,\n            '&:hover, &:focus': { background },\n          },\n        },\n      };\n    }}\n  />\n);\n"],"names":["CollapseIcon","styled","theme","isExpanded","transparentize","iconColors","isColor","color","TypeIcon","Icons","icon","symbol","docsMode","BranchNode","depth","isExpandable","LeafNode","Path","RootNode","GroupNode","React","children","props","jsxs","jsx","ComponentNode","isSelected","DocumentNode","StoryNode","HighlightStyles","refId","itemId","Global","background"],"mappings":"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"}