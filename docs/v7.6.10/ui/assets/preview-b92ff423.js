import{a as A,F as j,j as c}from"./jsx-runtime-31019b9d.js";import{R as C,r as T}from"./index-9f32f44c.js";import{P as y}from"./index-9d475cdf.js";import{n as qe}from"./index-eafb6329.js";import{g as pe}from"./_commonjsHelpers-de833af9.js";import{t as w,d as R,s as Ve,b as me,m as Ae}from"./index-0d1d6e7e.js";import{h as x,I as L,D as fe,x as ye,m as Ue,G as He,q as Fe,B as $e,v as Be}from"./index-0d90a496.js";import{L as ze,b as Pe}from"./index-f64ebf9a.js";import{n as k,G as Ye}from"./index-9e46a6e4.js";import{I as We}from"./iframe-0bb403ee.js";import{a as Ke}from"./chunk-LNB2LN6G-b56da3a7.js";var Ge=function(e,t,r,n,o,s,i,a){if(!e){var l;if(t===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,o,s,i,a],p=0;l=new Error(t.replace(/%s/g,function(){return u[p++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},Ze=Ge;const ge=pe(Ze);var Qe=function(t,r,n,o){var s=n?n.call(o,t,r):void 0;if(s!==void 0)return!!s;if(t===r)return!0;if(typeof t!="object"||!t||typeof r!="object"||!r)return!1;var i=Object.keys(t),a=Object.keys(r);if(i.length!==a.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(r),u=0;u<i.length;u++){var p=i[u];if(!l(p))return!1;var f=t[p],d=r[p];if(s=n?n.call(o,f,d,p):void 0,s===!1||s===void 0&&f!==d)return!1}return!0};const Xe=pe(Qe);function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v.apply(this,arguments)}function he(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,J(e,t)}function J(e,t){return J=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},J(e,t)}function be(e,t){if(e==null)return{};var r,n,o={},s=Object.keys(e);for(n=0;n<s.length;n++)t.indexOf(r=s[n])>=0||(o[r]=e[r]);return o}var m={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title",FRAGMENT:"Symbol(react.fragment)"},Je={rel:["amphtml","canonical","alternate"]},et={type:["application/ld+json"]},tt={charset:"",name:["robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},Te=Object.keys(m).map(function(e){return m[e]}),z={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},rt=Object.keys(z).reduce(function(e,t){return e[z[t]]=t,e},{}),D=function(e,t){for(var r=e.length-1;r>=0;r-=1){var n=e[r];if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}return null},nt=function(e){var t=D(e,m.TITLE),r=D(e,"titleTemplate");if(Array.isArray(t)&&(t=t.join("")),r&&t)return r.replace(/%s/g,function(){return t});var n=D(e,"defaultTitle");return t||n||void 0},ot=function(e){return D(e,"onChangeClientState")||function(){}},K=function(e,t){return t.filter(function(r){return r[e]!==void 0}).map(function(r){return r[e]}).reduce(function(r,n){return v({},r,n)},{})},at=function(e,t){return t.filter(function(r){return r[m.BASE]!==void 0}).map(function(r){return r[m.BASE]}).reverse().reduce(function(r,n){if(!r.length)for(var o=Object.keys(n),s=0;s<o.length;s+=1){var i=o[s].toLowerCase();if(e.indexOf(i)!==-1&&n[i])return r.concat(n)}return r},[])},q=function(e,t,r){var n={};return r.filter(function(o){return!!Array.isArray(o[e])||(o[e]!==void 0&&console&&typeof console.warn=="function"&&console.warn("Helmet: "+e+' should be of type "Array". Instead found type "'+typeof o[e]+'"'),!1)}).map(function(o){return o[e]}).reverse().reduce(function(o,s){var i={};s.filter(function(f){for(var d,h=Object.keys(f),g=0;g<h.length;g+=1){var b=h[g],_=b.toLowerCase();t.indexOf(_)===-1||d==="rel"&&f[d].toLowerCase()==="canonical"||_==="rel"&&f[_].toLowerCase()==="stylesheet"||(d=_),t.indexOf(b)===-1||b!=="innerHTML"&&b!=="cssText"&&b!=="itemprop"||(d=b)}if(!d||!f[d])return!1;var O=f[d].toLowerCase();return n[d]||(n[d]={}),i[d]||(i[d]={}),!n[d][O]&&(i[d][O]=!0,!0)}).reverse().forEach(function(f){return o.push(f)});for(var a=Object.keys(i),l=0;l<a.length;l+=1){var u=a[l],p=v({},n[u],i[u]);n[u]=p}return o},[]).reverse()},it=function(e,t){if(Array.isArray(e)&&e.length){for(var r=0;r<e.length;r+=1)if(e[r][t])return!0}return!1},xe=function(e){return Array.isArray(e)?e.join(""):e},G=function(e,t){return Array.isArray(e)?e.reduce(function(r,n){return function(o,s){for(var i=Object.keys(o),a=0;a<i.length;a+=1)if(s[i[a]]&&s[i[a]].includes(o[i[a]]))return!0;return!1}(n,t)?r.priority.push(n):r.default.push(n),r},{priority:[],default:[]}):{default:e}},ve=function(e,t){var r;return v({},e,((r={})[t]=void 0,r))},st=[m.NOSCRIPT,m.SCRIPT,m.STYLE],Z=function(e,t){return t===void 0&&(t=!0),t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},_e=function(e){return Object.keys(e).reduce(function(t,r){var n=e[r]!==void 0?r+'="'+e[r]+'"':""+r;return t?t+" "+n:n},"")},Ce=function(e,t){return t===void 0&&(t={}),Object.keys(e).reduce(function(r,n){return r[z[n]||n]=e[n],r},t)},$=function(e,t){return t.map(function(r,n){var o,s=((o={key:n})["data-rh"]=!0,o);return Object.keys(r).forEach(function(i){var a=z[i]||i;a==="innerHTML"||a==="cssText"?s.dangerouslySetInnerHTML={__html:r.innerHTML||r.cssText}:s[a]=r[i]}),C.createElement(e,s)})},S=function(e,t,r){switch(e){case m.TITLE:return{toComponent:function(){return o=t.titleAttributes,(s={key:n=t.title})["data-rh"]=!0,i=Ce(o,s),[C.createElement(m.TITLE,i,n)];var n,o,s,i},toString:function(){return function(n,o,s,i){var a=_e(s),l=xe(o);return a?"<"+n+' data-rh="true" '+a+">"+Z(l,i)+"</"+n+">":"<"+n+' data-rh="true">'+Z(l,i)+"</"+n+">"}(e,t.title,t.titleAttributes,r)}};case"bodyAttributes":case"htmlAttributes":return{toComponent:function(){return Ce(t)},toString:function(){return _e(t)}};default:return{toComponent:function(){return $(e,t)},toString:function(){return function(n,o,s){return o.reduce(function(i,a){var l=Object.keys(a).filter(function(f){return!(f==="innerHTML"||f==="cssText")}).reduce(function(f,d){var h=a[d]===void 0?d:d+'="'+Z(a[d],s)+'"';return f?f+" "+h:h},""),u=a.innerHTML||a.cssText||"",p=st.indexOf(n)===-1;return i+"<"+n+' data-rh="true" '+l+(p?"/>":">"+u+"</"+n+">")},"")}(e,t,r)}}}},ee=function(e){var t=e.baseTag,r=e.bodyAttributes,n=e.encode,o=e.htmlAttributes,s=e.noscriptTags,i=e.styleTags,a=e.title,l=a===void 0?"":a,u=e.titleAttributes,p=e.linkTags,f=e.metaTags,d=e.scriptTags,h={toComponent:function(){},toString:function(){return""}};if(e.prioritizeSeoTags){var g=function(b){var _=b.linkTags,O=b.scriptTags,I=b.encode,P=G(b.metaTags,tt),E=G(_,Je),M=G(O,et);return{priorityMethods:{toComponent:function(){return[].concat($(m.META,P.priority),$(m.LINK,E.priority),$(m.SCRIPT,M.priority))},toString:function(){return S(m.META,P.priority,I)+" "+S(m.LINK,E.priority,I)+" "+S(m.SCRIPT,M.priority,I)}},metaTags:P.default,linkTags:E.default,scriptTags:M.default}}(e);h=g.priorityMethods,p=g.linkTags,f=g.metaTags,d=g.scriptTags}return{priority:h,base:S(m.BASE,t,n),bodyAttributes:S("bodyAttributes",r,n),htmlAttributes:S("htmlAttributes",o,n),link:S(m.LINK,p,n),meta:S(m.META,f,n),noscript:S(m.NOSCRIPT,s,n),script:S(m.SCRIPT,d,n),style:S(m.STYLE,i,n),title:S(m.TITLE,{title:l,titleAttributes:u},n)}},F=[],te=function(e,t){var r=this;t===void 0&&(t=typeof document<"u"),this.instances=[],this.value={setHelmet:function(n){r.context.helmet=n},helmetInstances:{get:function(){return r.canUseDOM?F:r.instances},add:function(n){(r.canUseDOM?F:r.instances).push(n)},remove:function(n){var o=(r.canUseDOM?F:r.instances).indexOf(n);(r.canUseDOM?F:r.instances).splice(o,1)}}},this.context=e,this.canUseDOM=t,t||(e.helmet=ee({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))},Le=C.createContext({}),lt=y.shape({setHelmet:y.func,helmetInstances:y.shape({get:y.func,add:y.func,remove:y.func})}),ct=typeof document<"u",U=function(e){function t(r){var n;return(n=e.call(this,r)||this).helmetData=new te(n.props.context,t.canUseDOM),n}return he(t,e),t.prototype.render=function(){return C.createElement(Le.Provider,{value:this.helmetData.value},this.props.children)},t}(T.Component);U.canUseDOM=ct,U.propTypes={context:y.shape({helmet:y.shape()}),children:y.node.isRequired},U.defaultProps={context:{}},U.displayName="HelmetProvider";var N=function(e,t){var r,n=document.head||document.querySelector(m.HEAD),o=n.querySelectorAll(e+"[data-rh]"),s=[].slice.call(o),i=[];return t&&t.length&&t.forEach(function(a){var l=document.createElement(e);for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(u==="innerHTML"?l.innerHTML=a.innerHTML:u==="cssText"?l.styleSheet?l.styleSheet.cssText=a.cssText:l.appendChild(document.createTextNode(a.cssText)):l.setAttribute(u,a[u]===void 0?"":a[u]));l.setAttribute("data-rh","true"),s.some(function(p,f){return r=f,l.isEqualNode(p)})?s.splice(r,1):i.push(l)}),s.forEach(function(a){return a.parentNode.removeChild(a)}),i.forEach(function(a){return n.appendChild(a)}),{oldTags:s,newTags:i}},Q=function(e,t){var r=document.getElementsByTagName(e)[0];if(r){for(var n=r.getAttribute("data-rh"),o=n?n.split(","):[],s=[].concat(o),i=Object.keys(t),a=0;a<i.length;a+=1){var l=i[a],u=t[l]||"";r.getAttribute(l)!==u&&r.setAttribute(l,u),o.indexOf(l)===-1&&o.push(l);var p=s.indexOf(l);p!==-1&&s.splice(p,1)}for(var f=s.length-1;f>=0;f-=1)r.removeAttribute(s[f]);o.length===s.length?r.removeAttribute("data-rh"):r.getAttribute("data-rh")!==i.join(",")&&r.setAttribute("data-rh",i.join(","))}},Oe=function(e,t){var r=e.baseTag,n=e.htmlAttributes,o=e.linkTags,s=e.metaTags,i=e.noscriptTags,a=e.onChangeClientState,l=e.scriptTags,u=e.styleTags,p=e.title,f=e.titleAttributes;Q(m.BODY,e.bodyAttributes),Q(m.HTML,n),function(b,_){b!==void 0&&document.title!==b&&(document.title=xe(b)),Q(m.TITLE,_)}(p,f);var d={baseTag:N(m.BASE,r),linkTags:N(m.LINK,o),metaTags:N(m.META,s),noscriptTags:N(m.NOSCRIPT,i),scriptTags:N(m.SCRIPT,l),styleTags:N(m.STYLE,u)},h={},g={};Object.keys(d).forEach(function(b){var _=d[b],O=_.newTags,I=_.oldTags;O.length&&(h[b]=O),I.length&&(g[b]=d[b].oldTags)}),t&&t(),a(e,h,g)},V=null,Y=function(e){function t(){for(var n,o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return(n=e.call.apply(e,[this].concat(s))||this).rendered=!1,n}he(t,e);var r=t.prototype;return r.shouldComponentUpdate=function(n){return!Xe(n,this.props)},r.componentDidUpdate=function(){this.emitChange()},r.componentWillUnmount=function(){this.props.context.helmetInstances.remove(this),this.emitChange()},r.emitChange=function(){var n,o,s=this.props.context,i=s.setHelmet,a=null,l=(n=s.helmetInstances.get().map(function(u){var p=v({},u.props);return delete p.context,p}),{baseTag:at(["href"],n),bodyAttributes:K("bodyAttributes",n),defer:D(n,"defer"),encode:D(n,"encodeSpecialCharacters"),htmlAttributes:K("htmlAttributes",n),linkTags:q(m.LINK,["rel","href"],n),metaTags:q(m.META,["name","charset","http-equiv","property","itemprop"],n),noscriptTags:q(m.NOSCRIPT,["innerHTML"],n),onChangeClientState:ot(n),scriptTags:q(m.SCRIPT,["src","innerHTML"],n),styleTags:q(m.STYLE,["cssText"],n),title:nt(n),titleAttributes:K("titleAttributes",n),prioritizeSeoTags:it(n,"prioritizeSeoTags")});U.canUseDOM?(o=l,V&&cancelAnimationFrame(V),o.defer?V=requestAnimationFrame(function(){Oe(o,function(){V=null})}):(Oe(o),V=null)):ee&&(a=ee(l)),i(a)},r.init=function(){this.rendered||(this.rendered=!0,this.props.context.helmetInstances.add(this),this.emitChange())},r.render=function(){return this.init(),null},t}(T.Component);Y.propTypes={context:lt.isRequired},Y.displayName="HelmetDispatcher";var ut=["children"],dt=["children"],B=function(e){function t(){return e.apply(this,arguments)||this}he(t,e);var r=t.prototype;return r.shouldComponentUpdate=function(n){return!qe(ve(this.props,"helmetData"),ve(n,"helmetData"))},r.mapNestedChildrenToProps=function(n,o){if(!o)return null;switch(n.type){case m.SCRIPT:case m.NOSCRIPT:return{innerHTML:o};case m.STYLE:return{cssText:o};default:throw new Error("<"+n.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")}},r.flattenArrayTypeChildren=function(n){var o,s=n.child,i=n.arrayTypeChildren;return v({},i,((o={})[s.type]=[].concat(i[s.type]||[],[v({},n.newChildProps,this.mapNestedChildrenToProps(s,n.nestedChildren))]),o))},r.mapObjectTypeChildren=function(n){var o,s,i=n.child,a=n.newProps,l=n.newChildProps,u=n.nestedChildren;switch(i.type){case m.TITLE:return v({},a,((o={})[i.type]=u,o.titleAttributes=v({},l),o));case m.BODY:return v({},a,{bodyAttributes:v({},l)});case m.HTML:return v({},a,{htmlAttributes:v({},l)});default:return v({},a,((s={})[i.type]=v({},l),s))}},r.mapArrayTypeChildrenToProps=function(n,o){var s=v({},o);return Object.keys(n).forEach(function(i){var a;s=v({},s,((a={})[i]=n[i],a))}),s},r.warnOnInvalidChildren=function(n,o){return ge(Te.some(function(s){return n.type===s}),typeof n.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":"Only elements types "+Te.join(", ")+" are allowed. Helmet does not support rendering <"+n.type+"> elements. Refer to our API for more information."),ge(!o||typeof o=="string"||Array.isArray(o)&&!o.some(function(s){return typeof s!="string"}),"Helmet expects a string as a child of <"+n.type+">. Did you forget to wrap your children in braces? ( <"+n.type+">{``}</"+n.type+"> ) Refer to our API for more information."),!0},r.mapChildrenToProps=function(n,o){var s=this,i={};return C.Children.forEach(n,function(a){if(a&&a.props){var l=a.props,u=l.children,p=be(l,ut),f=Object.keys(p).reduce(function(h,g){return h[rt[g]||g]=p[g],h},{}),d=a.type;switch(typeof d=="symbol"?d=d.toString():s.warnOnInvalidChildren(a,u),d){case m.FRAGMENT:o=s.mapChildrenToProps(u,o);break;case m.LINK:case m.META:case m.NOSCRIPT:case m.SCRIPT:case m.STYLE:i=s.flattenArrayTypeChildren({child:a,arrayTypeChildren:i,newChildProps:f,nestedChildren:u});break;default:o=s.mapObjectTypeChildren({child:a,newProps:o,newChildProps:f,nestedChildren:u})}}}),this.mapArrayTypeChildrenToProps(i,o)},r.render=function(){var n=this.props,o=n.children,s=be(n,dt),i=v({},s),a=s.helmetData;return o&&(i=this.mapChildrenToProps(o,i)),!a||a instanceof te||(a=new te(a.context,a.instances)),a?C.createElement(Y,v({},i,{context:a.value,helmetData:void 0})):C.createElement(Le.Consumer,null,function(l){return C.createElement(Y,v({},i,{context:l}))})},t}(T.Component);B.propTypes={base:y.object,bodyAttributes:y.object,children:y.oneOfType([y.arrayOf(y.node),y.node]),defaultTitle:y.string,defer:y.bool,encodeSpecialCharacters:y.bool,htmlAttributes:y.object,link:y.arrayOf(y.object),meta:y.arrayOf(y.object),noscript:y.arrayOf(y.object),onChangeClientState:y.func,script:y.arrayOf(y.object),style:y.arrayOf(y.object),title:y.string,titleAttributes:y.object,titleTemplate:y.string,prioritizeSeoTags:y.bool,helmetData:y.object},B.defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1},B.displayName="Helmet";const pt=k.div(({offset:e})=>({position:"absolute",overflow:"auto",left:0,right:0,bottom:0,top:e,zIndex:3,transition:"all 0.1s linear",height:`calc(100% - ${e}px)`,background:"transparent"})),mt=k(ze)({color:"inherit",textDecoration:"inherit",display:"inline-block"});k.span({"@media (max-width: 599px)":{display:"none"}});const ft=k.div(({theme:e})=>({position:"absolute",top:0,left:0,bottom:0,right:0,width:"100%",height:"100%"})),yt=k.div(({theme:e})=>({position:"absolute",top:0,left:0,bottom:0,right:0,background:e.background.preview,zIndex:1})),H=1,Re=C.createContext({value:H,set:e=>{}});class re extends T.Component{constructor(){super(...arguments),this.state={value:H},this.set=t=>this.setState({value:t})}render(){const{children:t,shouldScale:r}=this.props,{set:n}=this,{value:o}=this.state;return c(Re.Provider,{value:{value:r?o:H,set:n},children:t})}}const{Consumer:ke}=Re,ht=C.memo(function({zoomIn:t,zoomOut:r,reset:n}){return A(j,{children:[c(x,{onClick:t,title:"Zoom in",children:c(L,{icon:"zoom"})},"zoomin"),c(x,{onClick:r,title:"Zoom out",children:c(L,{icon:"zoomout"})},"zoomout"),c(x,{onClick:n,title:"Reset zoom",children:c(L,{icon:"zoomreset"})},"zoomreset")]})}),gt=C.memo(function({set:t,value:r}){const n=T.useCallback(i=>{i.preventDefault(),t(.8*r)},[t,r]),o=T.useCallback(i=>{i.preventDefault(),t(1.25*r)},[t,r]),s=T.useCallback(i=>{i.preventDefault(),t(H)},[t,H]);return c(ht,{zoomIn:n,zoomOut:o,reset:s},"zoom")}),bt={title:"zoom",id:"zoom",type:w.TOOL,match:({viewMode:e})=>e==="story",render:C.memo(function(){return A(j,{children:[c(ke,{children:({set:t,value:r})=>c(gt,{set:t,value:r})}),c(fe,{})]})})};try{re.displayName="ZoomProvider",re.__docgenInfo={description:"",displayName:"ZoomProvider",props:{shouldScale:{defaultValue:null,description:"",name:"shouldScale",required:!0,type:{name:"boolean"}}}}}catch{}const{Addon_TypesEnum:Tt}=__STORYBOOK_MODULE_TYPES__,ne=({wrappers:e,id:t,storyId:r,active:n,children:o})=>c(T.Fragment,{children:e.reduceRight((s,i,a)=>c(i.render,{index:a,children:s,id:t,storyId:r,active:n}),o)}),we=[{id:"iframe-wrapper",type:Tt.PREVIEW,render:e=>c(ft,{id:"storybook-preview-wrapper",hidden:!e.active,children:e.children})}];try{ne.displayName="ApplyWrappers",ne.__docgenInfo={description:"",displayName:"ApplyWrappers",props:{wrappers:{defaultValue:null,description:"",name:"wrappers",required:!0,type:{name:"Addon_WrapperType[]"}},viewMode:{defaultValue:null,description:"",name:"viewMode",required:!0,type:{name:"string | undefined"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},storyId:{defaultValue:null,description:"",name:"storyId",required:!0,type:{name:"string"}},active:{defaultValue:null,description:"",name:"active",required:!0,type:{name:"boolean"}}}}}catch{}var vt=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,r=[],n=0;n<e.rangeCount;n++)r.push(e.getRangeAt(n));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||r.forEach(function(o){e.addRange(o)}),t&&t.focus()}},_t=vt,Ie={"text/plain":"Text","text/html":"Url",default:"Text"},Ct="Copy to clipboard: #{key}, Enter";function Ot(e){var t=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function wt(e,t){var r,n,o,s,i,a,l=!1;t||(t={}),r=t.debug||!1;try{o=_t(),s=document.createRange(),i=document.getSelection(),a=document.createElement("span"),a.textContent=e,a.ariaHidden="true",a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",function(p){if(p.stopPropagation(),t.format)if(p.preventDefault(),typeof p.clipboardData>"u"){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var f=Ie[t.format]||Ie.default;window.clipboardData.setData(f,e)}else p.clipboardData.clearData(),p.clipboardData.setData(t.format,e);t.onCopy&&(p.preventDefault(),t.onCopy(p.clipboardData))}),document.body.appendChild(a),s.selectNodeContents(a),i.addRange(s);var u=document.execCommand("copy");if(!u)throw new Error("copy command was unsuccessful");l=!0}catch(p){r&&console.error("unable to copy using execCommand: ",p),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),l=!0}catch(f){r&&console.error("unable to copy using clipboardData: ",f),r&&console.error("falling back to prompt"),n=Ot("message"in t?t.message:Ct),window.prompt(n,e)}}finally{i&&(typeof i.removeRange=="function"?i.removeRange(s):i.removeAllRanges()),a&&document.body.removeChild(a),o()}return l}var It=wt;const St=pe(It),{global:Et}=__STORYBOOK_MODULE_GLOBAL__,{PREVIEW_URL:At,document:Pt}=Et,xt=({state:e})=>{const{storyId:t,refId:r,refs:n}=e,{location:o}=Pt,s=n[r];let i=`${o.origin}${o.pathname}`;return i.endsWith("/")||(i+="/"),{refId:r,baseUrl:s?`${s.url}/iframe.html`:At||`${i}iframe.html`,storyId:t,queryParams:e.customQueryParams}},Lt={title:"copy",id:"copy",type:w.TOOL,match:({viewMode:e})=>e==="story",render:()=>c(R,{filter:xt,children:({baseUrl:e,storyId:t,queryParams:r})=>t?c(x,{onClick:()=>St(ye(e,t,r)),title:"Copy canvas link",children:c(L,{icon:"link"})},"copy"):null})},{global:Rt}=__STORYBOOK_MODULE_GLOBAL__,{PREVIEW_URL:kt}=Rt,Mt=({state:e})=>{const{storyId:t,refId:r,refs:n}=e,o=n[r];return{refId:r,baseUrl:o?`${o.url}/iframe.html`:kt||"iframe.html",storyId:t,queryParams:e.customQueryParams}},Nt={title:"eject",id:"eject",type:w.TOOL,match:({viewMode:e})=>e==="story",render:()=>c(R,{filter:Mt,children:({baseUrl:e,storyId:t,queryParams:r})=>t?c(x,{href:ye(e,t,r),target:"_blank",title:"Open canvas in new tab",children:c(L,{icon:"sharealt"})},"opener"):null})},Dt=({api:e,state:t})=>({isVisible:t.layout.showNav,singleStory:t.singleStory,toggle:()=>e.toggleNav()}),jt={title:"menu",id:"menu",type:w.TOOL,match:({viewMode:e})=>["story","docs"].includes(e),render:()=>c(R,{filter:Dt,children:({isVisible:e,toggle:t,singleStory:r})=>!r&&!e&&A(j,{children:[c(x,{"aria-label":"Show sidebar",onClick:t,title:"Show sidebar",children:c(L,{icon:"menu"})},"menu"),c(fe,{})]})})},qt=({api:e,state:t})=>({isVisible:t.layout.showPanel,singleStory:t.singleStory,panelPosition:t.layout.panelPosition,toggle:()=>e.togglePanel()}),Vt={title:"addons",id:"addons",type:w.TOOL,match:({viewMode:e})=>e==="story",render:()=>c(R,{filter:qt,children:({isVisible:e,toggle:t,singleStory:r,panelPosition:n})=>!r&&!e&&c(j,{children:c(x,{"aria-label":"Show addons",onClick:t,title:"Show addons",children:c(L,{icon:n==="bottom"?"bottombar":"sidebaralt"})},"addons")})})},{FORCE_REMOUNT:Me}=__STORYBOOK_MODULE_CORE_EVENTS__,Ut=k(x)(({theme:e,animating:t,disabled:r})=>({opacity:r?.5:1,svg:{animation:t&&`${e.animation.rotate360} 1000ms ease-out`}})),Ht=({api:e,state:t})=>{const{storyId:r}=t;return{storyId:r,remount:()=>e.emit(Me,{storyId:t.storyId}),api:e}},Ft={title:"remount",id:"remount",type:w.TOOL,match:({viewMode:e})=>e==="story",render:()=>c(R,{filter:Ht,children:({remount:e,storyId:t,api:r})=>{const[n,o]=T.useState(!1),s=()=>{t&&e()};return r.on(Me,()=>{o(!0)}),c(Ut,{title:"Remount component",onClick:s,onAnimationEnd:()=>o(!1),animating:n,disabled:!t,children:c(L,{icon:"sync"})},"remount")}})},oe=e=>Object.values(e(w.TOOL)),ae=e=>Object.values(e(w.TOOLEXTRA)),$t=({shown:e,...t})=>c(Ue,{...t}),ie=k($t)({position:"absolute",left:0,right:0,top:0,transition:"transform .2s linear"},({shown:e})=>({transform:e?"translateY(0px)":"translateY(-40px)"})),Bt=({api:e,state:t})=>({toggle:e.toggleFullscreen,value:t.layout.isFullscreen,shortcut:Ve(e.getShortcutKeys().fullScreen),hasPanel:Object.keys(e.getPanels()).length>0,singleStory:t.singleStory}),zt={title:"fullscreen",id:"fullscreen",type:w.TOOL,match:e=>["story","docs"].includes(e.viewMode),render:()=>c(R,{filter:Bt,children:({toggle:e,value:t,shortcut:r,hasPanel:n,singleStory:o})=>(!o||o&&n)&&c(x,{onClick:e,title:`${t?"Exit full screen":"Go full screen"} [${r}]`,children:c(L,{icon:t?"close":"expand"})},"full")})},Yt=({state:e})=>({viewMode:e.docsOnly,storyId:e.storyId,path:e.path,location:e.location,refId:e.refId}),se=e=>({title:"title",id:"title",type:w.TOOL,render:()=>c(R,{filter:Yt,children:t=>A(T.Fragment,{children:[c(He,{children:e.filter(r=>!r.hidden).map((r,n)=>{const o=r.route(t),s=t.path===o;return c(mt,{to:o,children:c(Fe,{disabled:r.disabled,active:s,children:r.title})},r.id||`l${n}`)})},"tabs"),c(fe,{})]})})}),Se=[Ft,bt],Ee=[Vt,zt,Nt,Lt],Wt=(e,t,r,n,o,s)=>{const i=T.useMemo(()=>oe(e),[e]),a=T.useMemo(()=>ae(e),[e]),l=T.useMemo(()=>[...Se,...i],[Se,i]),u=T.useMemo(()=>[...Ee,...a],[Ee,a]);return T.useMemo(()=>["story","docs"].includes(n==null?void 0:n.type)?Gt(l,u,t,{viewMode:r,entry:n,location:o,path:s}):{left:l,right:u},[r,n,o,s,l,u,t])},le=C.memo(function({api:t,entry:r,tabs:n,isShown:o,location:s,path:i,viewMode:a}){const{left:l,right:u}=Wt(t.getElements,n,a,r,s,i);return l||u?A(ie,{shown:o,border:!0,children:[c(W,{list:l},"left"),c(W,{list:u},"right")]},"toolbar"):null}),ce=C.memo(function(t){return c(Pe,{children:({location:r,path:n,viewMode:o})=>c(le,{...t,location:r,path:n,viewMode:o})})}),W=C.memo(function({list:t}){return c(j,{children:t.filter(Boolean).map(({render:r,id:n,...o},s)=>c(r,{},n||o.key||`f-${s}`))})});function Kt(e,t){var i;const r=t.type==="story"&&t.prepared?t.parameters:{},n="toolbar"in r?r.toolbar:void 0,{toolbar:o}=me.getConfig(),s=Ae(o,n);return s?!!((i=s[e.id])!=null&&i.hidden):!1}function Gt(e,t,r,{viewMode:n,entry:o,location:s,path:i}){const a=[jt,r.filter(d=>!d.hidden).length>1&&se(r),...e],l=[...t],u=d=>d&&(!d.match||d.match({storyId:o.id,refId:o.refId,viewMode:n,location:s,path:i}))&&!Kt(d,o),p=a.filter(u),f=l.filter(u);return{left:p,right:f}}try{oe.displayName="getTools",oe.__docgenInfo={description:"",displayName:"getTools",props:{}}}catch{}try{ae.displayName="getToolsExtra",ae.__docgenInfo={description:"",displayName:"getToolsExtra",props:{}}}catch{}try{ie.displayName="Toolbar",ie.__docgenInfo={description:"",displayName:"Toolbar",props:{shown:{defaultValue:null,description:"",name:"shown",required:!0,type:{name:"boolean"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}}}}}catch{}try{se.displayName="createTabsTool",se.__docgenInfo={description:"",displayName:"createTabsTool",props:{}}}catch{}try{le.displayName="ToolRes",le.__docgenInfo={description:"",displayName:"ToolRes",props:{isShown:{defaultValue:null,description:"",name:"isShown",required:!0,type:{name:"boolean"}},tabs:{defaultValue:null,description:"",name:"tabs",required:!0,type:{name:"Addon_BaseType[]"}},api:{defaultValue:null,description:"",name:"api",required:!0,type:{name:"API"}},entry:{defaultValue:null,description:"",name:"entry",required:!0,type:{name:"API_LeafEntry"}},location:{defaultValue:null,description:"",name:"location",required:!0,type:{name:"Partial<Location>"}},path:{defaultValue:null,description:"",name:"path",required:!0,type:{name:"string"}},singleStory:{defaultValue:null,description:"",name:"singleStory",required:!1,type:{name:"boolean"}},viewMode:{defaultValue:null,description:"",name:"viewMode",required:!1,type:{name:"string"}},storyId:{defaultValue:null,description:"",name:"storyId",required:!1,type:{name:"string"}},refId:{defaultValue:null,description:"",name:"refId",required:!1,type:{name:"string"}}}}}catch{}try{ce.displayName="ToolbarComp",ce.__docgenInfo={description:"",displayName:"ToolbarComp",props:{isShown:{defaultValue:null,description:"",name:"isShown",required:!0,type:{name:"boolean"}},tabs:{defaultValue:null,description:"",name:"tabs",required:!0,type:{name:"Addon_BaseType[]"}},api:{defaultValue:null,description:"",name:"api",required:!0,type:{name:"API"}},entry:{defaultValue:null,description:"",name:"entry",required:!0,type:{name:"API_LeafEntry"}}}}}catch{}try{W.displayName="Tools",W.__docgenInfo={description:"",displayName:"Tools",props:{list:{defaultValue:null,description:"",name:"list",required:!0,type:{name:"Addon_BaseType[]"}}}}}catch{}const ue=e=>Ke.stringify(e,{addQueryPrefix:!0,encode:!1}).replace(/^\?/,"&");try{ue.displayName="stringifyQueryParams",ue.__docgenInfo={description:"",displayName:"stringifyQueryParams",props:{}}}catch{}const Zt=(e,t)=>e&&t[e]?`storybook-ref-${e}`:"storybook-preview-iframe",Qt=k($e)(({theme:e})=>({display:"none","@media (min-width: 600px)":{position:"absolute",display:"block",top:10,right:15,padding:"10px 15px",fontSize:e.typography.size.s1,transform:"translateY(-100px)","&:focus":{transform:"translateY(0)",zIndex:1}}})),Xt=({state:e})=>({isFullscreen:e.layout.isFullscreen,showNav:e.layout.showNav,selectedStoryId:e.storyId}),Jt={'#root [data-is-storybook="false"]':{display:"none"},'#root [data-is-storybook="true"]':{display:"block"}},de=({refs:e,scale:t,viewMode:r="story",refId:n,queryParams:o={},baseUrl:s,storyId:i="*"})=>{var d;const a=(d=e[n])==null?void 0:d.version,l=ue({...o,...a&&{version:a}}),u=Zt(n,e),{current:p}=T.useRef({}),f=Object.values(e).filter(h=>h.type==="auto-inject"||h.id===n,{});return p["storybook-preview-iframe"]||(p["storybook-preview-iframe"]=ye(s,i,{...o,...a&&{version:a},viewMode:r})),f.forEach(h=>{var _;const g=`storybook-ref-${h.id}`,b=(_=p[g])==null?void 0:_.split("/iframe.html")[0];if(!b||h.url!==b){const O=`${h.url}/iframe.html?id=${i}&viewMode=${r}&refId=${h.id}${l}`;p[g]=O}}),A(T.Fragment,{children:[c(Ye,{styles:Jt}),c(R,{filter:Xt,children:({isFullscreen:h,showNav:g,selectedStoryId:b})=>!h&&g&&b?c(Qt,{secondary:!0,isLink:!0,tabIndex:0,href:`#${b}`,children:"Skip to sidebar"}):null}),Object.entries(p).map(([h,g])=>c(T.Fragment,{children:c(We,{active:h===u,id:h,title:h,src:g,allowFullScreen:!0,scale:t},h)},h))]})};try{de.displayName="FramesRenderer",de.__docgenInfo={description:"",displayName:"FramesRenderer",props:{entry:{defaultValue:null,description:"",name:"entry",required:!0,type:{name:"API_LeafEntry"}},storyId:{defaultValue:{value:"*"},description:"",name:"storyId",required:!1,type:{name:"string"}},refId:{defaultValue:null,description:"",name:"refId",required:!0,type:{name:"string"}},baseUrl:{defaultValue:null,description:"",name:"baseUrl",required:!0,type:{name:"string"}},scale:{defaultValue:null,description:"",name:"scale",required:!0,type:{name:"number"}},viewMode:{defaultValue:{value:"story"},description:"",name:"viewMode",required:!1,type:{name:"API_ViewMode"}},queryParams:{defaultValue:{value:"{}"},description:"",name:"queryParams",required:!1,type:{name:"QueryParams"}},refs:{defaultValue:null,description:"",name:"refs",required:!0,type:{name:"API_Refs"}}}}}catch{}const{global:Ne}=__STORYBOOK_MODULE_GLOBAL__,{PREVIEW_BUILDER_PROGRESS:er,SET_CURRENT_STORY:tr}=__STORYBOOK_MODULE_CORE_EVENTS__,{FEATURES:X}=Ne,rr=e=>Object.values(e(w.PREVIEW)),nr=e=>Object.values(e(w.TAB)),or=({state:e,api:t})=>({storyId:e.storyId,refId:e.refId,viewMode:e.viewMode,customCanvas:t.renderPreview,queryParams:e.customQueryParams,getElements:t.getElements,entry:t.getData(e.storyId,e.refId),previewInitialized:e.previewInitialized,refs:e.refs,active:!!(e.viewMode&&e.viewMode.match(/^(story|docs)$/))}),ar=()=>({id:"canvas",type:w.TAB,title:"Canvas",route:({storyId:e,refId:t})=>t?`/story/${t}_${e}`:`/story/${e}`,match:({viewMode:e})=>!!(e&&e.match(/^(story|docs)$/)),render:()=>null}),ir=(e,t)=>{const r=T.useMemo(()=>ar(),[]),n=T.useMemo(()=>nr(e),[e]);return T.useMemo(()=>(t==null?void 0:t.type)==="story"&&t.parameters?lr([r,...n],t.parameters):[r,...n],[t,...n])},vr=C.memo(function(t){const{api:r,id:n,options:o,viewMode:s,storyId:i,entry:a=void 0,description:l,baseUrl:u,withLoader:p=!0}=t,{getElements:f}=r,d=ir(f,a),h=s==="story",{showToolbar:g,showTabs:b=!0}=o,_=b?d:[],O=T.useRef(i);return T.useEffect(()=>{if(a&&s&&i!==O.current&&(O.current=i,s.match(/docs|story/))){const{refId:I,id:P}=a;r.emit(tr,{storyId:P,viewMode:s,options:{target:I}})}},[a,s]),A(T.Fragment,{children:[n==="main"&&c(B,{children:c("title",{children:l})},"description"),A(re,{shouldScale:h,children:[c(ce,{entry:a,api:r,isShown:g,tabs:_},"tools"),A(pt,{offset:g?40:0,children:[c(sr,{withLoader:p,baseUrl:u}),d.map(({render:I,match:P,...E},M)=>{const De=E.id||E.key||M;return c(T.Fragment,{children:c(Pe,{children:je=>c(I,{active:P(je)})})},De)})]},"frame")]})]})}),sr=({baseUrl:e,withLoader:t})=>c(R,{filter:or,children:({entry:r,refs:n,customCanvas:o,storyId:s,refId:i,viewMode:a,queryParams:l,getElements:u,previewInitialized:p,active:f})=>{const d="canvas",h=T.useMemo(()=>[...we,...rr(u)],[u,...we]),[g,b]=T.useState(void 0);T.useEffect(()=>{if(X!=null&&X.storyStoreV7&&Ne.CONFIG_TYPE==="DEVELOPMENT")try{me.getServerChannel().on(er,M=>{b(M)})}catch{}},[]);const _=!!n[i]&&!n[i].previewInitialized,O=!((g==null?void 0:g.value)===1||g===void 0),I=!i&&(!p||O),P=r&&_||I;return c(ke,{children:({value:E})=>A(j,{children:[t&&P&&c(yt,{children:c(Be,{id:"preview-loader",role:"progressbar",progress:g})}),c(ne,{id:d,storyId:s,viewMode:a,active:f,wrappers:h,children:o?o(s,a,d,e,E,l):c(de,{baseUrl:e,refs:n,scale:E,entry:r,viewMode:a,refId:i,queryParams:l,storyId:s})})]})})}});function lr(e,t){const{previewTabs:r}=me.getConfig(),n=t?t.previewTabs:void 0;if(r||n){const o=Ae(r,n),s=Object.keys(o).map((i,a)=>({index:a,...typeof o[i]=="string"?{title:o[i]}:o[i],id:i}));return e.filter(i=>{const a=s.find(l=>l.id===i.id);return a===void 0||a.id==="canvas"||!a.hidden}).map((i,a)=>({...i,index:a})).sort((i,a)=>{const l=s.find(d=>d.id===i.id),u=l?l.index:s.length+i.index,p=s.find(d=>d.id===a.id),f=p?p.index:s.length+a.index;return u-f}).map(i=>{const a=s.find(l=>l.id===i.id);return a?{...i,title:a.title||i.title,disabled:a.disabled,hidden:a.hidden}:i})}return e}export{vr as P,U as q};
//# sourceMappingURL=preview-b92ff423.js.map
